function kj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _j(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var O_={exports:{}},Pp={},L_={exports:{}},an={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var bC=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable;function Pj(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Aj(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var wb=Aj()?Object.assign:function(e,t){for(var n,r=Pj(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var l in n)Oj.call(n,l)&&(r[l]=n[l]);if(bC){i=bC(n);for(var c=0;c<i.length;c++)Lj.call(n,i[c])&&(r[i[c]]=n[i[c]])}}return r};const Nj=Sn(wb);/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=wb,Do=typeof Symbol=="function"&&Symbol.for,Ap=Do?Symbol.for("react.element"):60103,Ij=Do?Symbol.for("react.portal"):60106,Rj=Do?Symbol.for("react.fragment"):60107,Mj=Do?Symbol.for("react.strict_mode"):60108,Fj=Do?Symbol.for("react.profiler"):60114,jj=Do?Symbol.for("react.provider"):60109,$j=Do?Symbol.for("react.context"):60110,Dj=Do?Symbol.for("react.forward_ref"):60112,Bj=Do?Symbol.for("react.suspense"):60113,zj=Do?Symbol.for("react.memo"):60115,Hj=Do?Symbol.for("react.lazy"):60116,EC=typeof Symbol=="function"&&Symbol.iterator;function Np(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A_={};function td(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||P_}td.prototype.isReactComponent={};td.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Np(85));this.updater.enqueueSetState(this,e,t,"setState")};td.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N_(){}N_.prototype=td.prototype;function bb(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||P_}var Eb=bb.prototype=new N_;Eb.constructor=bb;xb(Eb,td.prototype);Eb.isPureReactComponent=!0;var Sb={current:null},I_=Object.prototype.hasOwnProperty,R_={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,n){var r,i={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)I_.call(t,r)&&!R_.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var p=Array(c),v=0;v<c;v++)p[v]=arguments[v+2];i.children=p}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ap,type:e,key:a,ref:l,props:i,_owner:Sb.current}}function Uj(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(n){return t[n]})}var F_=/\/+/g,Tm=[];function j_(e,t,n,r){if(Tm.length){var i=Tm.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function $_(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Tm.length&&Tm.push(e)}function M1(e,t,n,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ap:case Ij:a=!0}}if(a)return n(r,e,t===""?"."+Lw(e,0):t),1;if(a=0,t=t===""?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){i=e[l];var c=t+Lw(i,l);a+=M1(i,c,n,r)}else if(e===null||typeof e!="object"?c=null:(c=EC&&e[EC]||e["@@iterator"],c=typeof c=="function"?c:null),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=t+Lw(i,l++),a+=M1(i,c,n,r);else if(i==="object")throw n=""+e,Error(Np(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function F1(e,t,n){return e==null?0:M1(e,"",t,n)}function Lw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(e.key):t.toString(36)}function Kj(e,t){e.func.call(e.context,t,e.count++)}function Gj(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j1(e,r,n,function(a){return a}):e!=null&&(Cb(e)&&(e=Uj(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F_,"$&/")+"/")+n)),r.push(e))}function j1(e,t,n,r,i){var a="";n!=null&&(a=(""+n).replace(F_,"$&/")+"/"),t=j_(t,a,r,i),F1(e,Gj,t),$_(t)}var D_={current:null};function Ns(){var e=D_.current;if(e===null)throw Error(Np(321));return e}var qj={ReactCurrentDispatcher:D_,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Sb,IsSomeRendererActing:{current:!1},assign:xb};an.Children={map:function(e,t,n){if(e==null)return e;var r=[];return j1(e,r,null,t,n),r},forEach:function(e,t,n){if(e==null)return e;t=j_(null,null,t,n),F1(e,Kj,t),$_(t)},count:function(e){return F1(e,function(){return null},null)},toArray:function(e){var t=[];return j1(e,t,null,function(n){return n}),t},only:function(e){if(!Cb(e))throw Error(Np(143));return e}};an.Component=td;an.Fragment=Rj;an.Profiler=Fj;an.PureComponent=bb;an.StrictMode=Mj;an.Suspense=Bj;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;an.cloneElement=function(e,t,n){if(e==null)throw Error(Np(267,e));var r=xb({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Sb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(p in t)I_.call(t,p)&&!R_.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&c!==void 0?c[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){c=Array(p);for(var v=0;v<p;v++)c[v]=arguments[v+2];r.children=c}return{$$typeof:Ap,type:e.type,key:i,ref:a,props:r,_owner:l}};an.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:$j,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:jj,_context:e},e.Consumer=e};an.createElement=M_;an.createFactory=function(e){var t=M_.bind(null,e);return t.type=e,t};an.createRef=function(){return{current:null}};an.forwardRef=function(e){return{$$typeof:Dj,render:e}};an.isValidElement=Cb;an.lazy=function(e){return{$$typeof:Hj,_ctor:e,_status:-1,_result:null}};an.memo=function(e,t){return{$$typeof:zj,type:e,compare:t===void 0?null:t}};an.useCallback=function(e,t){return Ns().useCallback(e,t)};an.useContext=function(e,t){return Ns().useContext(e,t)};an.useDebugValue=function(){};an.useEffect=function(e,t){return Ns().useEffect(e,t)};an.useImperativeHandle=function(e,t,n){return Ns().useImperativeHandle(e,t,n)};an.useLayoutEffect=function(e,t){return Ns().useLayoutEffect(e,t)};an.useMemo=function(e,t){return Ns().useMemo(e,t)};an.useReducer=function(e,t,n){return Ns().useReducer(e,t,n)};an.useRef=function(e){return Ns().useRef(e)};an.useState=function(e){return Ns().useState(e)};an.version="16.14.0";L_.exports=an;var O=L_.exports;const ft=Sn(O);/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=O,B_=60103;Pp.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var SC=Symbol.for;B_=SC("react.element"),Pp.Fragment=SC("react.fragment")}var Vj=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yj=Object.prototype.hasOwnProperty,Qj={key:!0,ref:!0,__self:!0,__source:!0};function z_(e,t,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Yj.call(t,r)&&!Qj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:B_,type:e,key:a,ref:l,props:i,_owner:Vj.current}}Pp.jsx=z_;Pp.jsxs=z_;O_.exports=Pp;var b=O_.exports,H_={exports:{}},mo={},U_={exports:{}},W_={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i,a;if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,p=function(){if(l!==null)try{var ne=e.unstable_now();l(!0,ne),l=null}catch(le){throw setTimeout(p,0),le}},v=Date.now();e.unstable_now=function(){return Date.now()-v},t=function(ne){l!==null?setTimeout(t,0,ne):(l=ne,setTimeout(p,0))},n=function(ne,le){c=setTimeout(ne,le)},r=function(){clearTimeout(c)},i=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var m=window.performance,x=window.Date,S=window.setTimeout,C=window.clearTimeout;if(typeof console<"u"){var I=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof I!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof m=="object"&&typeof m.now=="function")e.unstable_now=function(){return m.now()};else{var $=x.now();e.unstable_now=function(){return x.now()-$}}var N=!1,L=null,M=-1,B=5,j=0;i=function(){return e.unstable_now()>=j},a=function(){},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):B=0<ne?Math.floor(1e3/ne):5};var U=new MessageChannel,X=U.port2;U.port1.onmessage=function(){if(L!==null){var ne=e.unstable_now();j=ne+B;try{L(!0,ne)?X.postMessage(null):(N=!1,L=null)}catch(le){throw X.postMessage(null),le}}else N=!1},t=function(ne){L=ne,N||(N=!0,X.postMessage(null))},n=function(ne,le){M=S(function(){ne(e.unstable_now())},le)},r=function(){C(M),M=-1}}function V(ne,le){var pe=ne.length;ne.push(le);e:for(;;){var _e=pe-1>>>1,Ne=ne[_e];if(Ne!==void 0&&0<ve(Ne,le))ne[_e]=le,ne[pe]=Ne,pe=_e;else break e}}function re(ne){return ne=ne[0],ne===void 0?null:ne}function fe(ne){var le=ne[0];if(le!==void 0){var pe=ne.pop();if(pe!==le){ne[0]=pe;e:for(var _e=0,Ne=ne.length;_e<Ne;){var Ue=2*(_e+1)-1,nt=ne[Ue],Ye=Ue+1,wt=ne[Ye];if(nt!==void 0&&0>ve(nt,pe))wt!==void 0&&0>ve(wt,nt)?(ne[_e]=wt,ne[Ye]=pe,_e=Ye):(ne[_e]=nt,ne[Ue]=pe,_e=Ue);else if(wt!==void 0&&0>ve(wt,pe))ne[_e]=wt,ne[Ye]=pe,_e=Ye;else break e}}return le}return null}function ve(ne,le){var pe=ne.sortIndex-le.sortIndex;return pe!==0?pe:ne.id-le.id}var xe=[],ze=[],J=1,Q=null,G=3,Ce=!1,Te=!1,ye=!1;function me(ne){for(var le=re(ze);le!==null;){if(le.callback===null)fe(ze);else if(le.startTime<=ne)fe(ze),le.sortIndex=le.expirationTime,V(xe,le);else break;le=re(ze)}}function be(ne){if(ye=!1,me(ne),!Te)if(re(xe)!==null)Te=!0,t(te);else{var le=re(ze);le!==null&&n(be,le.startTime-ne)}}function te(ne,le){Te=!1,ye&&(ye=!1,r()),Ce=!0;var pe=G;try{for(me(le),Q=re(xe);Q!==null&&(!(Q.expirationTime>le)||ne&&!i());){var _e=Q.callback;if(_e!==null){Q.callback=null,G=Q.priorityLevel;var Ne=_e(Q.expirationTime<=le);le=e.unstable_now(),typeof Ne=="function"?Q.callback=Ne:Q===re(xe)&&fe(xe),me(le)}else fe(xe);Q=re(xe)}if(Q!==null)var Ue=!0;else{var nt=re(ze);nt!==null&&n(be,nt.startTime-le),Ue=!1}return Ue}finally{Q=null,G=pe,Ce=!1}}function oe(ne){switch(ne){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var we=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){Te||Ce||(Te=!0,t(te))},e.unstable_getCurrentPriorityLevel=function(){return G},e.unstable_getFirstCallbackNode=function(){return re(xe)},e.unstable_next=function(ne){switch(G){case 1:case 2:case 3:var le=3;break;default:le=G}var pe=G;G=le;try{return ne()}finally{G=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=we,e.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var pe=G;G=ne;try{return le()}finally{G=pe}},e.unstable_scheduleCallback=function(ne,le,pe){var _e=e.unstable_now();if(typeof pe=="object"&&pe!==null){var Ne=pe.delay;Ne=typeof Ne=="number"&&0<Ne?_e+Ne:_e,pe=typeof pe.timeout=="number"?pe.timeout:oe(ne)}else pe=oe(ne),Ne=_e;return pe=Ne+pe,ne={id:J++,callback:le,priorityLevel:ne,startTime:Ne,expirationTime:pe,sortIndex:-1},Ne>_e?(ne.sortIndex=Ne,V(ze,ne),re(xe)===null&&ne===re(ze)&&(ye?r():ye=!0,n(be,Ne-_e))):(ne.sortIndex=pe,V(xe,ne),Te||Ce||(Te=!0,t(te))),ne},e.unstable_shouldYield=function(){var ne=e.unstable_now();me(ne);var le=re(xe);return le!==Q&&Q!==null&&le!==null&&le.callback!==null&&le.startTime<=ne&&le.expirationTime<Q.expirationTime||i()},e.unstable_wrapCallback=function(ne){var le=G;return function(){var pe=G;G=le;try{return ne.apply(this,arguments)}finally{G=pe}}}})(W_);U_.exports=W_;var Zj=U_.exports;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=O,Jr=wb,Or=Zj;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ey)throw Error(He(227));function Jj(e,t,n,r,i,a,l,c,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(m){this.onError(m)}}var $h=!1,km=null,_m=!1,$1=null,e$={onError:function(e){$h=!0,km=e}};function t$(e,t,n,r,i,a,l,c,p){$h=!1,km=null,Jj.apply(e$,arguments)}function n$(e,t,n,r,i,a,l,c,p){if(t$.apply(this,arguments),$h){if($h){var v=km;$h=!1,km=null}else throw Error(He(198));_m||(_m=!0,$1=v)}}var Tb=null,K_=null,G_=null;function CC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=G_(n),n$(r,t,void 0,e),e.currentTarget=null}var Om=null,Cf={};function q_(){if(Om)for(var e in Cf){var t=Cf[e],n=Om.indexOf(e);if(!(-1<n))throw Error(He(96,e));if(!Lm[n]){if(!t.extractEvents)throw Error(He(97,e));Lm[n]=t,n=t.eventTypes;for(var r in n){var i=void 0,a=n[r],l=t,c=r;if(D1.hasOwnProperty(c))throw Error(He(99,c));D1[c]=a;var p=a.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&TC(p[i],l,c);i=!0}else a.registrationName?(TC(a.registrationName,l,c),i=!0):i=!1;if(!i)throw Error(He(98,r,e))}}}}function TC(e,t,n){if(Hf[e])throw Error(He(100,e));Hf[e]=t,kb[e]=t.eventTypes[n].dependencies}var Lm=[],D1={},Hf={},kb={};function X_(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!Cf.hasOwnProperty(n)||Cf[n]!==r){if(Cf[n])throw Error(He(102,n));Cf[n]=r,t=!0}}t&&q_()}var zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B1=null,If=null,Rf=null;function kC(e){if(e=K_(e)){if(typeof B1!="function")throw Error(He(280));var t=e.stateNode;t&&(t=Tb(t),B1(e.stateNode,e.type,t))}}function V_(e){If?Rf?Rf.push(e):Rf=[e]:If=e}function Y_(){if(If){var e=If,t=Rf;if(Rf=If=null,kC(e),t)for(e=0;e<t.length;e++)kC(t[e])}}function _b(e,t){return e(t)}function Q_(e,t,n,r,i){return e(t,n,r,i)}function Ob(){}var Z_=_b,Du=!1,Pw=!1;function Lb(){(If!==null||Rf!==null)&&(Ob(),Y_())}function J_(e,t,n){if(Pw)return e(t,n);Pw=!0;try{return Z_(e,t,n)}finally{Pw=!1,Lb()}}var r$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_C=Object.prototype.hasOwnProperty,OC={},LC={};function i$(e){return _C.call(LC,e)?!0:_C.call(OC,e)?!1:r$.test(e)?LC[e]=!0:(OC[e]=!0,!1)}function o$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a$(e,t,n,r){if(t===null||typeof t>"u"||o$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ei(e,t,n,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lr[e]=new ei(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lr[t]=new ei(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lr[e]=new ei(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lr[e]=new ei(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lr[e]=new ei(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lr[e]=new ei(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){Lr[e]=new ei(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){Lr[e]=new ei(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){Lr[e]=new ei(e,5,!1,e.toLowerCase(),null,!1)});var Pb=/[\-:]([a-z])/g;function Ab(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pb,Ab);Lr[t]=new ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){Lr[e]=new ei(e,1,!1,e.toLowerCase(),null,!1)});Lr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){Lr[e]=new ei(e,1,!1,e.toLowerCase(),null,!0)});var Mo=Ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Mo.hasOwnProperty("ReactCurrentDispatcher")||(Mo.ReactCurrentDispatcher={current:null});Mo.hasOwnProperty("ReactCurrentBatchConfig")||(Mo.ReactCurrentBatchConfig={suspense:null});function Nb(e,t,n,r){var i=Lr.hasOwnProperty(t)?Lr[t]:null,a=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");a||(a$(t,n,i,r)&&(n=null),r||i===null?i$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var s$=/^(.*)[\\\/]/,mi=typeof Symbol=="function"&&Symbol.for,Ev=mi?Symbol.for("react.element"):60103,Tf=mi?Symbol.for("react.portal"):60106,Fu=mi?Symbol.for("react.fragment"):60107,eO=mi?Symbol.for("react.strict_mode"):60108,nm=mi?Symbol.for("react.profiler"):60114,tO=mi?Symbol.for("react.provider"):60109,nO=mi?Symbol.for("react.context"):60110,l$=mi?Symbol.for("react.concurrent_mode"):60111,Ib=mi?Symbol.for("react.forward_ref"):60112,rm=mi?Symbol.for("react.suspense"):60113,z1=mi?Symbol.for("react.suspense_list"):60120,Rb=mi?Symbol.for("react.memo"):60115,rO=mi?Symbol.for("react.lazy"):60116,iO=mi?Symbol.for("react.block"):60121,PC=typeof Symbol=="function"&&Symbol.iterator;function fh(e){return e===null||typeof e!="object"?null:(e=PC&&e[PC]||e["@@iterator"],typeof e=="function"?e:null)}function u$(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}}function Ls(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Tf:return"Portal";case nm:return"Profiler";case eO:return"StrictMode";case rm:return"Suspense";case z1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nO:return"Context.Consumer";case tO:return"Context.Provider";case Ib:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Rb:return Ls(e.type);case iO:return Ls(e.render);case rO:if(e=e._status===1?e._result:null)return Ls(e)}return null}function Mb(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=Ls(e.type);n=null,r&&(n=Ls(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(s$,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function Il(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function oO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c$(e){var t=oO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sv(e){e._valueTracker||(e._valueTracker=c$(e))}function aO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function H1(e,t){var n=t.checked;return Jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function AC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Il(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sO(e,t){t=t.checked,t!=null&&Nb(e,"checked",t,!1)}function U1(e,t){sO(e,t);var n=Il(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W1(e,t.type,n):t.hasOwnProperty("defaultValue")&&W1(e,t.type,Il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function W1(e,t,n){(t!=="number"||e.ownerDocument.activeElement!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function f$(e){var t="";return Ey.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function K1(e,t){return e=Jr({children:void 0},t),(t=f$(t.children))&&(e.children=t),e}function Mf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Il(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function G1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return Jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Il(n)}}function lO(e,t){var n=Il(t.value),r=Il(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function RC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var uO={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function cO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cv,fO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==uO.svg||"innerHTML"in e)e.innerHTML=t;else{for(Cv=Cv||document.createElement("div"),Cv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}function Tv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kf={animationend:Tv("Animation","AnimationEnd"),animationiteration:Tv("Animation","AnimationIteration"),animationstart:Tv("Animation","AnimationStart"),transitionend:Tv("Transition","TransitionEnd")},Aw={},dO={};zl&&(dO=document.createElement("div").style,"AnimationEvent"in window||(delete kf.animationend.animation,delete kf.animationiteration.animation,delete kf.animationstart.animation),"TransitionEvent"in window||delete kf.transitionend.transition);function Sy(e){if(Aw[e])return Aw[e];if(!kf[e])return e;var t=kf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dO)return Aw[e]=t[n];return e}var hO=Sy("animationend"),pO=Sy("animationiteration"),gO=Sy("animationstart"),vO=Sy("transitionend"),Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new(typeof WeakMap=="function"?WeakMap:Map);function Fb(e){var t=MC.get(e);return t===void 0&&(t=new Map,MC.set(e,t)),t}function uc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.effectTag&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FC(e){if(uc(e)!==e)throw Error(He(188))}function d$(e){var t=e.alternate;if(!t){if(t=uc(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return FC(i),e;if(a===r)return FC(i),t;a=a.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function yO(e){if(e=d$(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Uf(e,t){if(t==null)throw Error(He(30));return e==null?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function jb(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var dh=null;function h$(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)CC(e,t[r],n[r]);else t&&CC(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Cy(e){if(e!==null&&(dh=Uf(dh,e)),e=dh,dh=null,e){if(jb(e,h$),dh)throw Error(He(95));if(_m)throw e=$1,_m=!1,$1=null,e}}function $b(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function wO(e){if(!zl)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t=typeof t[e]=="function"),t}var Pm=[];function xO(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Pm.length&&Pm.push(e)}function bO(e,t,n,r){if(Pm.length){var i=Pm.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function EO(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(r.tag===3)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=r.tag!==3?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,t!==5&&t!==6||e.ancestors.push(n),n=Rp(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=$b(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,l=e.eventSystemFlags;n===0&&(l|=64);for(var c=null,p=0;p<Lm.length;p++){var v=Lm[p];v&&(v=v.extractEvents(r,t,a,i,l))&&(c=Uf(c,v))}Cy(c)}}function X1(e,t,n){if(!n.has(e)){switch(e){case"scroll":Nh(t,"scroll",!0);break;case"focus":case"blur":Nh(t,"focus",!0),Nh(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":wO(e)&&Nh(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:Ah.indexOf(e)===-1&&Tn(e,t)}n.set(e,null)}}var SO,Db,CO,V1=!1,Sa=[],Tl=null,kl=null,_l=null,ep=new Map,tp=new Map,hh=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),p$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function g$(e,t){var n=Fb(t);Y1.forEach(function(r){X1(r,t,n)}),p$.forEach(function(r){X1(r,t,n)})}function Q1(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:n|32,nativeEvent:i,container:r}}function jC(e,t){switch(e){case"focus":case"blur":Tl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":ep.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tp.delete(t.pointerId)}}function ph(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e=Q1(t,n,r,i,a),t!==null&&(t=Mp(t),t!==null&&Db(t)),e):(e.eventSystemFlags|=r,e)}function v$(e,t,n,r,i){switch(t){case"focus":return Tl=ph(Tl,e,t,n,r,i),!0;case"dragenter":return kl=ph(kl,e,t,n,r,i),!0;case"mouseover":return _l=ph(_l,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ep.set(a,ph(ep.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tp.set(a,ph(tp.get(a)||null,e,t,n,r,i)),!0}return!1}function m$(e){var t=Rp(e.target);if(t!==null){var n=uc(t);if(n!==null){if(t=n.tag,t===13){if(t=mO(n),t!==null){e.blockedOn=t,Or.unstable_runWithPriority(e.priority,function(){CO(n)});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function im(e){if(e.blockedOn!==null)return!1;var t=Hb(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(t!==null){var n=Mp(t);return n!==null&&Db(n),e.blockedOn=t,!1}return!0}function $C(e,t,n){im(e)&&n.delete(t)}function y$(){for(V1=!1;0<Sa.length;){var e=Sa[0];if(e.blockedOn!==null){e=Mp(e.blockedOn),e!==null&&SO(e);break}var t=Hb(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);t!==null?e.blockedOn=t:Sa.shift()}Tl!==null&&im(Tl)&&(Tl=null),kl!==null&&im(kl)&&(kl=null),_l!==null&&im(_l)&&(_l=null),ep.forEach($C),tp.forEach($C)}function gh(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,y$)))}function TO(e){function t(i){return gh(i,e)}if(0<Sa.length){gh(Sa[0],e);for(var n=1;n<Sa.length;n++){var r=Sa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tl!==null&&gh(Tl,e),kl!==null&&gh(kl,e),_l!==null&&gh(_l,e),ep.forEach(t),tp.forEach(t),n=0;n<hh.length;n++)r=hh[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hh.length&&(n=hh[0],n.blockedOn===null);)m$(n),n.blockedOn===null&&hh.shift()}var kO={},_O=new Map,Bb=new Map,w$=["abort","abort",hO,"animationEnd",pO,"animationIteration",gO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vO,"transitionEnd","waiting","waiting"];function zb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bb.set(r,t),_O.set(r,a),kO[i]=a}}zb("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);zb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);zb(w$,2);for(var DC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Nw=0;Nw<DC.length;Nw++)Bb.set(DC[Nw],0);var x$=Or.unstable_UserBlockingPriority,b$=Or.unstable_runWithPriority,om=!0;function Tn(e,t){Nh(t,e,!1)}function Nh(e,t,n){var r=Bb.get(t);switch(r===void 0?2:r){case 0:r=E$.bind(null,t,1,e);break;case 1:r=S$.bind(null,t,1,e);break;default:r=Ty.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function E$(e,t,n,r){Du||Ob();var i=Ty,a=Du;Du=!0;try{Q_(i,e,t,n,r)}finally{(Du=a)||Lb()}}function S$(e,t,n,r){b$(x$,Ty.bind(null,e,t,n,r))}function Ty(e,t,n,r){if(om)if(0<Sa.length&&-1<Y1.indexOf(e))e=Q1(null,e,t,n,r),Sa.push(e);else{var i=Hb(e,t,n,r);if(i===null)jC(e,r);else if(-1<Y1.indexOf(e))e=Q1(i,e,t,n,r),Sa.push(e);else if(!v$(i,e,t,n,r)){jC(e,r),e=bO(e,r,null,t);try{J_(EO,e)}finally{xO(e)}}}}function Hb(e,t,n,r){if(n=$b(r),n=Rp(n),n!==null){var i=uc(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=mO(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=bO(e,r,n,t);try{J_(EO,e)}finally{xO(e)}return null}var Dh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C$=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(e){C$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dh[t]=Dh[e]})});function OO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dh.hasOwnProperty(e)&&Dh[e]?(""+t).trim():t+"px"}function LO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var T$=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z1(e,t){if(t){if(T$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62,""))}}function J1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=uO.html;function ys(e,t){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var n=Fb(e);t=kb[t];for(var r=0;r<t.length;r++)X1(t[r],e,n)}function Am(){}function ex(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HC(e,t){var n=zC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zC(n)}}function PO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=ex();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ex(e.document)}return t}function tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var AO="$",NO="/$",Ub="$?",Wb="$!",Iw=null,Rw=null;function IO(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nx(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mw=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0;function Ff(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function WC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===AO||n===Wb||n===Ub){if(t===0)return e;t--}else n===NO&&t++}e=e.previousSibling}return null}var Kb=Math.random().toString(36).slice(2),wl="__reactInternalInstance$"+Kb,Nm="__reactEventHandlers$"+Kb,Ip="__reactContainere$"+Kb;function Rp(e){var t=e[wl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ip]||n[wl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WC(e);e!==null;){if(n=e[wl])return n;e=WC(e)}return t}e=n,n=e.parentNode}return null}function Mp(e){return e=e[wl]||e[Ip],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function Gb(e){return e[Nm]||null}function ws(e){do e=e.return;while(e&&e.tag!==5);return e||null}function RO(e,t){var n=e.stateNode;if(!n)return null;var r=Tb(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}function KC(e,t,n){(t=RO(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Uf(n._dispatchListeners,t),n._dispatchInstances=Uf(n._dispatchInstances,e))}function _$(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=ws(t);for(t=n.length;0<t--;)KC(n[t],"captured",e);for(t=0;t<n.length;t++)KC(n[t],"bubbled",e)}}function rx(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=RO(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Uf(n._dispatchListeners,t),n._dispatchInstances=Uf(n._dispatchInstances,e))}function O$(e){e&&e.dispatchConfig.registrationName&&rx(e._targetInst,null,e)}function Wf(e){jb(e,_$)}var xl=null,qb=null,am=null;function MO(){if(am)return am;var e,t=qb,n=t.length,r,i="value"in xl?xl.value:xl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[a-r];r++);return am=i.slice(e,1<r?1-r:void 0)}function sm(){return!0}function Im(){return!1}function Ui(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):i==="target"?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?sm:Im,this.isPropagationStopped=Im,this}Jr(Ui.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){this.isPersistent=sm},isPersistent:Im,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Im,this._dispatchInstances=this._dispatchListeners=null}});Ui.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Ui.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return Jr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Jr({},r.Interface,e),n.extend=r.extend,FO(n),n};FO(Ui);function L$(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function P$(e){if(!(e instanceof this))throw Error(He(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function FO(e){e.eventPool=[],e.getPooled=L$,e.release=P$}var A$=Ui.extend({data:null}),N$=Ui.extend({data:null}),I$=[9,13,27,32],Xb=zl&&"CompositionEvent"in window,Bh=null;zl&&"documentMode"in document&&(Bh=document.documentMode);var R$=zl&&"TextEvent"in window&&!Bh,jO=zl&&(!Xb||Bh&&8<Bh&&11>=Bh),GC=String.fromCharCode(32),ps={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},qC=!1;function $O(e,t){switch(e){case"keyup":return I$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function DO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _f=!1;function M$(e,t){switch(e){case"compositionend":return DO(t);case"keypress":return t.which!==32?null:(qC=!0,GC);case"textInput":return e=t.data,e===GC&&qC?null:e;default:return null}}function F$(e,t){if(_f)return e==="compositionend"||!Xb&&$O(e,t)?(e=MO(),am=qb=xl=null,_f=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jO&&t.locale!=="ko"?null:t.data;default:return null}}var j$={eventTypes:ps,extractEvents:function(e,t,n,r){var i;if(Xb)e:{switch(e){case"compositionstart":var a=ps.compositionStart;break e;case"compositionend":a=ps.compositionEnd;break e;case"compositionupdate":a=ps.compositionUpdate;break e}a=void 0}else _f?$O(e,n)&&(a=ps.compositionEnd):e==="keydown"&&n.keyCode===229&&(a=ps.compositionStart);return a?(jO&&n.locale!=="ko"&&(_f||a!==ps.compositionStart?a===ps.compositionEnd&&_f&&(i=MO()):(xl=r,qb="value"in xl?xl.value:xl.textContent,_f=!0)),a=A$.getPooled(a,t,n,r),i?a.data=i:(i=DO(n),i!==null&&(a.data=i)),Wf(a),i=a):i=null,(e=R$?M$(e,n):F$(e,n))?(t=N$.getPooled(ps.beforeInput,t,n,r),t.data=e,Wf(t)):t=null,i===null?t:t===null?i:[i,t]}},$$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$$[e.type]:t==="textarea"}var zO={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function HO(e,t,n){return e=Ui.getPooled(zO.change,e,t,n),e.type="change",V_(n),Wf(e),e}var zh=null,np=null;function D$(e){Cy(e)}function ky(e){var t=nc(e);if(aO(t))return e}function B$(e,t){if(e==="change")return t}var ix=!1;zl&&(ix=wO("input")&&(!document.documentMode||9<document.documentMode));function XC(){zh&&(zh.detachEvent("onpropertychange",UO),np=zh=null)}function UO(e){if(e.propertyName==="value"&&ky(np))if(e=HO(np,e,$b(e)),Du)Cy(e);else{Du=!0;try{_b(D$,e)}finally{Du=!1,Lb()}}}function z$(e,t,n){e==="focus"?(XC(),zh=t,np=n,zh.attachEvent("onpropertychange",UO)):e==="blur"&&XC()}function H$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ky(np)}function U$(e,t){if(e==="click")return ky(t)}function W$(e,t){if(e==="input"||e==="change")return ky(t)}var K$={eventTypes:zO,_isInputEventSupported:ix,extractEvents:function(e,t,n,r){var i=t?nc(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if(a==="select"||a==="input"&&i.type==="file")var l=B$;else if(BO(i))if(ix)l=W$;else{l=H$;var c=z$}else(a=i.nodeName)&&a.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(l=U$);if(l&&(l=l(e,t)))return HO(l,n,r);c&&c(e,i,t),e==="blur"&&(e=i._wrapperState)&&e.controlled&&i.type==="number"&&W1(i,"number",i.value)}},Fp=Ui.extend({view:null,detail:null}),G$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G$[e])?!!t[e]:!1}function Vb(){return q$}var VC=0,YC=0,QC=!1,ZC=!1,jp=Fp.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vb,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=VC;return VC=e.screenX,QC?e.type==="mousemove"?e.screenX-t:0:(QC=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=YC;return YC=e.screenY,ZC?e.type==="mousemove"?e.screenY-t:0:(ZC=!0,0)}}),WO=jp.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),vh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},X$={eventTypes:vh,extractEvents:function(e,t,n,r,i){var a=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout";if(a&&!(i&32)&&(n.relatedTarget||n.fromElement)||!l&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l){if(l=t,t=(t=n.relatedTarget||n.toElement)?Rp(t):null,t!==null){var c=uc(t);(t!==c||t.tag!==5&&t.tag!==6)&&(t=null)}}else l=null;if(l===t)return null;if(e==="mouseout"||e==="mouseover")var p=jp,v=vh.mouseLeave,m=vh.mouseEnter,x="mouse";else(e==="pointerout"||e==="pointerover")&&(p=WO,v=vh.pointerLeave,m=vh.pointerEnter,x="pointer");if(e=l==null?a:nc(l),a=t==null?a:nc(t),v=p.getPooled(v,l,n,r),v.type=x+"leave",v.target=e,v.relatedTarget=a,n=p.getPooled(m,t,n,r),n.type=x+"enter",n.target=a,n.relatedTarget=e,r=l,x=t,r&&x)e:{for(p=r,m=x,l=0,e=p;e;e=ws(e))l++;for(e=0,t=m;t;t=ws(t))e++;for(;0<l-e;)p=ws(p),l--;for(;0<e-l;)m=ws(m),e--;for(;l--;){if(p===m||p===m.alternate)break e;p=ws(p),m=ws(m)}p=null}else p=null;for(m=p,p=[];r&&r!==m&&(l=r.alternate,!(l!==null&&l===m));)p.push(r),r=ws(r);for(r=[];x&&x!==m&&(l=x.alternate,!(l!==null&&l===m));)r.push(x),x=ws(x);for(x=0;x<p.length;x++)rx(p[x],"bubbled",v);for(x=r.length;0<x--;)rx(r[x],"captured",n);return i&64?[v,n]:[v]}};function V$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rc=typeof Object.is=="function"?Object.is:V$,Y$=Object.prototype.hasOwnProperty;function rp(e,t){if(rc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Y$.call(t,n[r])||!rc(e[n[r]],t[n[r]]))return!1;return!0}var Q$=zl&&"documentMode"in document&&11>=document.documentMode,KO={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Of=null,ox=null,Hh=null,ax=!1;function JC(e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return ax||Of==null||Of!==ex(n)?null:(n=Of,"selectionStart"in n&&tx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hh&&rp(Hh,n)?null:(Hh=n,e=Ui.getPooled(KO.select,ox,e,t),e.type="select",e.target=Of,Wf(e),e))}var Z$={eventTypes:KO,extractEvents:function(e,t,n,r,i,a){if(i=a||(r.window===r?r.document:r.nodeType===9?r:r.ownerDocument),!(a=!i)){e:{i=Fb(i),a=kb.onSelect;for(var l=0;l<a.length;l++)if(!i.has(a[l])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?nc(t):window,e){case"focus":(BO(i)||i.contentEditable==="true")&&(Of=i,ox=t,Hh=null);break;case"blur":Hh=ox=Of=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":return ax=!1,JC(n,r);case"selectionchange":if(Q$)break;case"keydown":case"keyup":return JC(n,r)}return null}},J$=Ui.extend({animationName:null,elapsedTime:null,pseudoElement:null}),eD=Ui.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tD=Fp.extend({relatedTarget:null});function lm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}var nD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iD=Fp.extend({key:function(e){if(e.key){var t=nD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rD[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vb,charCode:function(e){return e.type==="keypress"?lm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oD=jp.extend({dataTransfer:null}),aD=Fp.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vb}),sD=Ui.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),lD=jp.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),uD={eventTypes:kO,extractEvents:function(e,t,n,r){var i=_O.get(e);if(!i)return null;switch(e){case"keypress":if(lm(n)===0)return null;case"keydown":case"keyup":e=iD;break;case"blur":case"focus":e=tD;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=aD;break;case hO:case pO:case gO:e=J$;break;case vO:e=sD;break;case"scroll":e=Fp;break;case"wheel":e=lD;break;case"copy":case"cut":case"paste":e=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=WO;break;default:e=Ui}return t=e.getPooled(i,t,n,r),Wf(t),t}};if(Om)throw Error(He(101));Om=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));q_();var cD=Mp;Tb=Gb;K_=cD;G_=nc;X_({SimpleEventPlugin:uD,EnterLeaveEventPlugin:X$,ChangeEventPlugin:K$,SelectEventPlugin:Z$,BeforeInputEventPlugin:j$});var sx=[],Lf=-1;function En(e){0>Lf||(e.current=sx[Lf],sx[Lf]=null,Lf--)}function Dn(e,t){Lf++,sx[Lf]=e.current,e.current=t}var Rl={},zr={current:Rl},pi={current:!1},ic=Rl;function Kf(e,t){var n=e.type.contextTypes;if(!n)return Rl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gi(e){return e=e.childContextTypes,e!=null}function Rm(){En(pi),En(zr)}function eT(e,t,n){if(zr.current!==Rl)throw Error(He(168));Dn(zr,t),Dn(pi,n)}function GO(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(He(108,Ls(t)||"Unknown",i));return Jr({},n,{},r)}function um(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rl,ic=zr.current,Dn(zr,e),Dn(pi,pi.current),!0}function tT(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=GO(e,t,ic),r.__reactInternalMemoizedMergedChildContext=e,En(pi),En(zr),Dn(zr,e)):En(pi),Dn(pi,n)}var fD=Or.unstable_runWithPriority,Yb=Or.unstable_scheduleCallback,qO=Or.unstable_cancelCallback,nT=Or.unstable_requestPaint,lx=Or.unstable_now,dD=Or.unstable_getCurrentPriorityLevel,_y=Or.unstable_ImmediatePriority,XO=Or.unstable_UserBlockingPriority,VO=Or.unstable_NormalPriority,YO=Or.unstable_LowPriority,QO=Or.unstable_IdlePriority,ZO={},hD=Or.unstable_shouldYield,pD=nT!==void 0?nT:function(){},bs=null,cm=null,Fw=!1,rT=lx(),lo=1e4>rT?lx:function(){return lx()-rT};function Oy(){switch(dD()){case _y:return 99;case XO:return 98;case VO:return 97;case YO:return 96;case QO:return 95;default:throw Error(He(332))}}function JO(e){switch(e){case 99:return _y;case 98:return XO;case 97:return VO;case 96:return YO;case 95:return QO;default:throw Error(He(332))}}function Ml(e,t){return e=JO(e),fD(e,t)}function eL(e,t,n){return e=JO(e),Yb(e,t,n)}function iT(e){return bs===null?(bs=[e],cm=Yb(_y,tL)):bs.push(e),ZO}function Ra(){if(cm!==null){var e=cm;cm=null,qO(e)}tL()}function tL(){if(!Fw&&bs!==null){Fw=!0;var e=0;try{var t=bs;Ml(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),bs=null}catch(n){throw bs!==null&&(bs=bs.slice(e+1)),Yb(_y,Ra),n}finally{Fw=!1}}}function fm(e,t,n){return n/=10,1073741821-(((1073741821-e+t/10)/n|0)+1)*n}function Ao(e,t){if(e&&e.defaultProps){t=Jr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n])}return t}var Mm={current:null},Fm=null,Pf=null,jm=null;function Qb(){jm=Pf=Fm=null}function Zb(e){var t=Mm.current;En(Mm),e.type._context._currentValue=t}function nL(e,t){for(;e!==null;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t);else if(n!==null&&n.childExpirationTime<t)n.childExpirationTime=t;else break;e=e.return}}function jf(e,t){Fm=e,jm=Pf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=t&&(Ca=!0),e.firstContext=null)}function fo(e,t){if(jm!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(jm=e,t=1073741823),t={context:e,observedBits:t,next:null},Pf===null){if(Fm===null)throw Error(He(308));Pf=t,Fm.dependencies={expirationTime:0,firstContext:t,responders:null}}else Pf=Pf.next=t;return e._currentValue}var yl=!1;function Jb(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function eE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Ol(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function Ll(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function oT(e,t){var n=e.alternate;n!==null&&eE(n,e),e=e.updateQueue,n=e.baseQueue,n===null?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ip(e,t,n,r){var i=e.updateQueue;yl=!1;var a=i.baseQueue,l=i.shared.pending;if(l!==null){if(a!==null){var c=a.next;a.next=l.next,l.next=c}a=l,i.shared.pending=null,c=e.alternate,c!==null&&(c=c.updateQueue,c!==null&&(c.baseQueue=l))}if(a!==null){c=a.next;var p=i.baseState,v=0,m=null,x=null,S=null;if(c!==null){var C=c;do{if(l=C.expirationTime,l<r){var I={expirationTime:C.expirationTime,suspenseConfig:C.suspenseConfig,tag:C.tag,payload:C.payload,callback:C.callback,next:null};S===null?(x=S=I,m=p):S=S.next=I,l>v&&(v=l)}else{S!==null&&(S=S.next={expirationTime:1073741823,suspenseConfig:C.suspenseConfig,tag:C.tag,payload:C.payload,callback:C.callback,next:null}),NL(l,C.suspenseConfig);e:{var $=e,N=C;switch(l=t,I=n,N.tag){case 1:if($=N.payload,typeof $=="function"){p=$.call(I,p,l);break e}p=$;break e;case 3:$.effectTag=$.effectTag&-4097|64;case 0:if($=N.payload,l=typeof $=="function"?$.call(I,p,l):$,l==null)break e;p=Jr({},p,l);break e;case 2:yl=!0}}C.callback!==null&&(e.effectTag|=32,l=i.effects,l===null?i.effects=[C]:l.push(C))}if(C=C.next,C===null||C===c){if(l=i.shared.pending,l===null)break;C=a.next=l.next,l.next=c,i.baseQueue=a=l,i.shared.pending=null}}while(1)}S===null?m=p:S.next=x,i.baseState=m,i.baseQueue=S,Iy(v),e.expirationTime=v,e.memoizedState=p}}function aT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=i,i=n,typeof r!="function")throw Error(He(191,r));r.call(i)}}}var Uh=Mo.ReactCurrentBatchConfig,rL=new Ey.Component().refs;function $m(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jr({},t,n),e.memoizedState=n,e.expirationTime===0&&(e.updateQueue.baseState=n)}var Ly={isMounted:function(e){return(e=e._reactInternalFiber)?uc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i=Ol(r,i),i.payload=t,n!=null&&(i.callback=n),Ll(e,i),Al(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i=Ol(r,i),i.tag=1,i.payload=t,n!=null&&(i.callback=n),Ll(e,i),Al(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Oa(),r=Uh.suspense;n=Qu(n,e,r),r=Ol(n,r),r.tag=2,t!=null&&(r.callback=t),Ll(e,r),Al(e,n)}};function sT(e,t,n,r,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!rp(n,r)||!rp(i,a):!0}function iL(e,t,n){var r=!1,i=Rl,a=t.contextType;return typeof a=="object"&&a!==null?a=fo(a):(i=gi(t)?ic:zr.current,r=t.contextTypes,a=(r=r!=null)?Kf(e,i):Rl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ly,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function lT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ly.enqueueReplaceState(t,t.state,null)}function ux(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rL,Jb(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fo(a):(a=gi(t)?ic:zr.current,i.context=Kf(e,a)),ip(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($m(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ly.enqueueReplaceState(i,i.state,null),ip(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.effectTag|=4)}var kv=Array.isArray;function mh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=r.refs;l===rL&&(l=r.refs={}),a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function _v(e,t){if(e.type!=="textarea")throw Error(He(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function oL(e){function t(N,L){if(e){var M=N.lastEffect;M!==null?(M.nextEffect=L,N.lastEffect=L):N.firstEffect=N.lastEffect=L,L.nextEffect=null,L.effectTag=8}}function n(N,L){if(!e)return null;for(;L!==null;)t(N,L),L=L.sibling;return null}function r(N,L){for(N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function i(N,L){return N=oc(N,L),N.index=0,N.sibling=null,N}function a(N,L,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<L?(N.effectTag=2,L):M):(N.effectTag=2,L)):L}function l(N){return e&&N.alternate===null&&(N.effectTag=2),N}function c(N,L,M,B){return L===null||L.tag!==6?(L=Hw(M,N.mode,B),L.return=N,L):(L=i(L,M),L.return=N,L)}function p(N,L,M,B){return L!==null&&L.elementType===M.type?(B=i(L,M.props),B.ref=mh(N,L,M),B.return=N,B):(B=gm(M.type,M.key,M.props,null,N.mode,B),B.ref=mh(N,L,M),B.return=N,B)}function v(N,L,M,B){return L===null||L.tag!==4||L.stateNode.containerInfo!==M.containerInfo||L.stateNode.implementation!==M.implementation?(L=Uw(M,N.mode,B),L.return=N,L):(L=i(L,M.children||[]),L.return=N,L)}function m(N,L,M,B,j){return L===null||L.tag!==7?(L=Sl(M,N.mode,B,j),L.return=N,L):(L=i(L,M),L.return=N,L)}function x(N,L,M){if(typeof L=="string"||typeof L=="number")return L=Hw(""+L,N.mode,M),L.return=N,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ev:return M=gm(L.type,L.key,L.props,null,N.mode,M),M.ref=mh(N,null,L),M.return=N,M;case Tf:return L=Uw(L,N.mode,M),L.return=N,L}if(kv(L)||fh(L))return L=Sl(L,N.mode,M,null),L.return=N,L;_v(N,L)}return null}function S(N,L,M,B){var j=L!==null?L.key:null;if(typeof M=="string"||typeof M=="number")return j!==null?null:c(N,L,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ev:return M.key===j?M.type===Fu?m(N,L,M.props.children,B,j):p(N,L,M,B):null;case Tf:return M.key===j?v(N,L,M,B):null}if(kv(M)||fh(M))return j!==null?null:m(N,L,M,B,null);_v(N,M)}return null}function C(N,L,M,B,j){if(typeof B=="string"||typeof B=="number")return N=N.get(M)||null,c(L,N,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ev:return N=N.get(B.key===null?M:B.key)||null,B.type===Fu?m(L,N,B.props.children,j,B.key):p(L,N,B,j);case Tf:return N=N.get(B.key===null?M:B.key)||null,v(L,N,B,j)}if(kv(B)||fh(B))return N=N.get(M)||null,m(L,N,B,j,null);_v(L,B)}return null}function I(N,L,M,B){for(var j=null,U=null,X=L,V=L=0,re=null;X!==null&&V<M.length;V++){X.index>V?(re=X,X=null):re=X.sibling;var fe=S(N,X,M[V],B);if(fe===null){X===null&&(X=re);break}e&&X&&fe.alternate===null&&t(N,X),L=a(fe,L,V),U===null?j=fe:U.sibling=fe,U=fe,X=re}if(V===M.length)return n(N,X),j;if(X===null){for(;V<M.length;V++)X=x(N,M[V],B),X!==null&&(L=a(X,L,V),U===null?j=X:U.sibling=X,U=X);return j}for(X=r(N,X);V<M.length;V++)re=C(X,N,V,M[V],B),re!==null&&(e&&re.alternate!==null&&X.delete(re.key===null?V:re.key),L=a(re,L,V),U===null?j=re:U.sibling=re,U=re);return e&&X.forEach(function(ve){return t(N,ve)}),j}function $(N,L,M,B){var j=fh(M);if(typeof j!="function")throw Error(He(150));if(M=j.call(M),M==null)throw Error(He(151));for(var U=j=null,X=L,V=L=0,re=null,fe=M.next();X!==null&&!fe.done;V++,fe=M.next()){X.index>V?(re=X,X=null):re=X.sibling;var ve=S(N,X,fe.value,B);if(ve===null){X===null&&(X=re);break}e&&X&&ve.alternate===null&&t(N,X),L=a(ve,L,V),U===null?j=ve:U.sibling=ve,U=ve,X=re}if(fe.done)return n(N,X),j;if(X===null){for(;!fe.done;V++,fe=M.next())fe=x(N,fe.value,B),fe!==null&&(L=a(fe,L,V),U===null?j=fe:U.sibling=fe,U=fe);return j}for(X=r(N,X);!fe.done;V++,fe=M.next())fe=C(X,N,V,fe.value,B),fe!==null&&(e&&fe.alternate!==null&&X.delete(fe.key===null?V:fe.key),L=a(fe,L,V),U===null?j=fe:U.sibling=fe,U=fe);return e&&X.forEach(function(xe){return t(N,xe)}),j}return function(N,L,M,B){var j=typeof M=="object"&&M!==null&&M.type===Fu&&M.key===null;j&&(M=M.props.children);var U=typeof M=="object"&&M!==null;if(U)switch(M.$$typeof){case Ev:e:{for(U=M.key,j=L;j!==null;){if(j.key===U){switch(j.tag){case 7:if(M.type===Fu){n(N,j.sibling),L=i(j,M.props.children),L.return=N,N=L;break e}break;default:if(j.elementType===M.type){n(N,j.sibling),L=i(j,M.props),L.ref=mh(N,j,M),L.return=N,N=L;break e}}n(N,j);break}else t(N,j);j=j.sibling}M.type===Fu?(L=Sl(M.props.children,N.mode,B,M.key),L.return=N,N=L):(B=gm(M.type,M.key,M.props,null,N.mode,B),B.ref=mh(N,L,M),B.return=N,N=B)}return l(N);case Tf:e:{for(j=M.key;L!==null;){if(L.key===j)if(L.tag===4&&L.stateNode.containerInfo===M.containerInfo&&L.stateNode.implementation===M.implementation){n(N,L.sibling),L=i(L,M.children||[]),L.return=N,N=L;break e}else{n(N,L);break}else t(N,L);L=L.sibling}L=Uw(M,N.mode,B),L.return=N,N=L}return l(N)}if(typeof M=="string"||typeof M=="number")return M=""+M,L!==null&&L.tag===6?(n(N,L.sibling),L=i(L,M),L.return=N,N=L):(n(N,L),L=Hw(M,N.mode,B),L.return=N,N=L),l(N);if(kv(M))return I(N,L,M,B);if(fh(M))return $(N,L,M,B);if(U&&_v(N,M),typeof M>"u"&&!j)switch(N.tag){case 1:case 0:throw N=N.type,Error(He(152,N.displayName||N.name||"Component"))}return n(N,L)}}var Gf=oL(!0),tE=oL(!1),$p={},_a={current:$p},op={current:$p},ap={current:$p};function Bu(e){if(e===$p)throw Error(He(174));return e}function cx(e,t){switch(Dn(ap,t),Dn(op,e),Dn(_a,$p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:q1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=q1(t,e)}En(_a),Dn(_a,t)}function qf(){En(_a),En(op),En(ap)}function uT(e){Bu(ap.current);var t=Bu(_a.current),n=q1(t,e.type);t!==n&&(Dn(op,e),Dn(_a,n))}function nE(e){op.current===e&&(En(_a),En(op))}var Ln={current:0};function Dm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===Ub||n.data===Wb))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.effectTag&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function rE(e,t){return{responder:e,props:t}}var dm=Mo.ReactCurrentDispatcher,co=Mo.ReactCurrentBatchConfig,bl=0,rr=null,$r=null,Dr=null,Bm=!1;function Ni(){throw Error(He(321))}function iE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rc(e[n],t[n]))return!1;return!0}function oE(e,t,n,r,i,a){if(bl=a,rr=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,dm.current=e===null||e.memoizedState===null?gD:vD,e=n(r,i),t.expirationTime===bl){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(He(301));a+=1,Dr=$r=null,t.updateQueue=null,dm.current=mD,e=n(r,i)}while(t.expirationTime===bl)}if(dm.current=Um,t=$r!==null&&$r.next!==null,bl=0,Dr=$r=rr=null,Bm=!1,t)throw Error(He(300));return e}function $f(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function nd(){if($r===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=$r.next;var t=Dr===null?rr.memoizedState:Dr.next;if(t!==null)Dr=t,$r=e;else{if(e===null)throw Error(He(310));$r=e,e={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function Xu(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=nd(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=$r,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var c=l=a=null,p=i;do{var v=p.expirationTime;if(v<bl){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,v>rr.expirationTime&&(rr.expirationTime=v,Iy(v))}else c!==null&&(c=c.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,action:p.action,eagerReducer:p.eagerReducer,eagerState:p.eagerState,next:null}),NL(v,p.suspenseConfig),r=p.eagerReducer===e?p.eagerState:e(r,p.action);p=p.next}while(p!==null&&p!==i);c===null?a=r:c.next=l,rc(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Lv(e){var t=nd(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);rc(a,t.memoizedState)||(Ca=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jw(e){var t=$f();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:e},e=e.dispatch=fL.bind(null,rr,e),[t.memoizedState,e]}function fx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null},rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aL(){return nd().memoizedState}function dx(e,t,n,r){var i=$f();rr.effectTag|=e,i.memoizedState=fx(1|t,n,void 0,r===void 0?null:r)}function aE(e,t,n,r){var i=nd();r=r===void 0?null:r;var a=void 0;if($r!==null){var l=$r.memoizedState;if(a=l.destroy,r!==null&&iE(r,l.deps)){fx(t,n,a,r);return}}rr.effectTag|=e,i.memoizedState=fx(1|t,n,a,r)}function cT(e,t){return dx(516,4,e,t)}function zm(e,t){return aE(516,4,e,t)}function sL(e,t){return aE(4,2,e,t)}function lL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uL(e,t,n){return n=n!=null?n.concat([e]):null,aE(4,2,lL.bind(null,t,e),n)}function sE(){}function fT(e,t){return $f().memoizedState=[e,t===void 0?null:t],e}function Hm(e,t){var n=nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cL(e,t){var n=nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lE(e,t,n){var r=Oy();Ml(98>r?98:r,function(){e(!0)}),Ml(97<r?97:r,function(){var i=co.suspense;co.suspense=t===void 0?null:t;try{e(!1),n()}finally{co.suspense=i}})}function fL(e,t,n){var r=Oa(),i=Uh.suspense;r=Qu(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===rr||a!==null&&a===rr)Bm=!0,i.expirationTime=bl,rr.expirationTime=bl;else{if(e.expirationTime===0&&(a===null||a.expirationTime===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(i.eagerReducer=a,i.eagerState=c,rc(c,l))return}catch{}finally{}Al(e,r)}}var Um={readContext:fo,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useResponder:Ni,useDeferredValue:Ni,useTransition:Ni},gD={readContext:fo,useCallback:fT,useContext:fo,useEffect:cT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dx(4,2,lL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dx(4,2,e,t)},useMemo:function(e,t){var n=$f();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$f();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=fL.bind(null,rr,e),[r.memoizedState,e]},useRef:function(e){var t=$f();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=jw(e),r=n[0],i=n[1];return cT(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=jw(!1),n=t[0];return t=t[1],[fT(lE.bind(null,t,e),[t,e]),n]}},vD={readContext:fo,useCallback:Hm,useContext:fo,useEffect:zm,useImperativeHandle:uL,useLayoutEffect:sL,useMemo:cL,useReducer:Ov,useRef:aL,useState:function(){return Ov(Xu)},useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=Ov(Xu),r=n[0],i=n[1];return zm(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=Ov(Xu),n=t[0];return t=t[1],[Hm(lE.bind(null,t,e),[t,e]),n]}},mD={readContext:fo,useCallback:Hm,useContext:fo,useEffect:zm,useImperativeHandle:uL,useLayoutEffect:sL,useMemo:cL,useReducer:Lv,useRef:aL,useState:function(){return Lv(Xu)},useDebugValue:sE,useResponder:rE,useDeferredValue:function(e,t){var n=Lv(Xu),r=n[0],i=n[1];return zm(function(){var a=co.suspense;co.suspense=t===void 0?null:t;try{i(e)}finally{co.suspense=a}},[e,t]),r},useTransition:function(e){var t=Lv(Xu),n=t[0];return t=t[1],[Hm(lE.bind(null,t,e),[t,e]),n]}},Cs=null,El=null,Vu=!1;function dL(e,t){var n=Ta(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function dT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function hx(e){if(Vu){var t=El;if(t){var n=t;if(!dT(e,t)){if(t=Ff(n.nextSibling),!t||!dT(e,t)){e.effectTag=e.effectTag&-1025|2,Vu=!1,Cs=e;return}dL(Cs,n)}Cs=e,El=Ff(t.firstChild)}else e.effectTag=e.effectTag&-1025|2,Vu=!1,Cs=e}}function hT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cs=e}function Pv(e){if(e!==Cs)return!1;if(!Vu)return hT(e),Vu=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!nx(t,e.memoizedProps))for(t=El;t;)dL(e,t),t=Ff(t.nextSibling);if(hT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===NO){if(t===0){El=Ff(e.nextSibling);break e}t--}else n!==AO&&n!==Wb&&n!==Ub||t++}e=e.nextSibling}El=null}}else El=Cs?Ff(e.stateNode.nextSibling):null;return!0}function $w(){El=Cs=null,Vu=!1}var yD=Mo.ReactCurrentOwner,Ca=!1;function Mi(e,t,n,r){t.child=e===null?tE(t,null,n,r):Gf(t,e.child,n,r)}function pT(e,t,n,r,i){n=n.render;var a=t.ref;return jf(t,i),r=oE(e,t,n,r,a,i),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ts(e,t,i)):(t.effectTag|=1,Mi(e,t,r,i),t.child)}function gT(e,t,n,r,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!hE(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hL(e,t,l,r,i,a)):(e=gm(n.type,null,r,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}return l=e.child,i<a&&(i=l.memoizedProps,n=n.compare,n=n!==null?n:rp,n(i,r)&&e.ref===t.ref)?Ts(e,t,a):(t.effectTag|=1,e=oc(l,r),e.ref=t.ref,e.return=t,t.child=e)}function hL(e,t,n,r,i,a){return e!==null&&rp(e.memoizedProps,r)&&e.ref===t.ref&&(Ca=!1,i<a)?(t.expirationTime=e.expirationTime,Ts(e,t,a)):px(e,t,n,r,a)}function pL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.effectTag|=128)}function px(e,t,n,r,i){var a=gi(n)?ic:zr.current;return a=Kf(t,a),jf(t,i),n=oE(e,t,n,r,a,i),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ts(e,t,i)):(t.effectTag|=1,Mi(e,t,n,i),t.child)}function vT(e,t,n,r,i){if(gi(n)){var a=!0;um(t)}else a=!1;if(jf(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),iL(t,n,r),ux(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var p=l.context,v=n.contextType;typeof v=="object"&&v!==null?v=fo(v):(v=gi(n)?ic:zr.current,v=Kf(t,v));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||p!==v)&&lT(t,l,r,v),yl=!1;var S=t.memoizedState;l.state=S,ip(t,r,l,i),p=t.memoizedState,c!==r||S!==p||pi.current||yl?(typeof m=="function"&&($m(t,n,m,r),p=t.memoizedState),(c=yl||sT(t,n,c,r,S,p,v))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.effectTag|=4)):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=v,r=c):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),r=!1)}else l=t.stateNode,eE(e,t),c=t.memoizedProps,l.props=t.type===t.elementType?c:Ao(t.type,c),p=l.context,v=n.contextType,typeof v=="object"&&v!==null?v=fo(v):(v=gi(n)?ic:zr.current,v=Kf(t,v)),m=n.getDerivedStateFromProps,(x=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||p!==v)&&lT(t,l,r,v),yl=!1,p=t.memoizedState,l.state=p,ip(t,r,l,i),S=t.memoizedState,c!==r||p!==S||pi.current||yl?(typeof m=="function"&&($m(t,n,m,r),S=t.memoizedState),(m=yl||sT(t,n,c,r,p,S,v))?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,v),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,v)),typeof l.componentDidUpdate=="function"&&(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=v,r=m):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),r=!1);return gx(e,t,n,r,a,i)}function gx(e,t,n,r,i,a){pL(e,t);var l=(t.effectTag&64)!==0;if(!r&&!l)return i&&tT(t,n,!1),Ts(e,t,a);r=t.stateNode,yD.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.effectTag|=1,e!==null&&l?(t.child=Gf(t,e.child,null,a),t.child=Gf(t,null,c,a)):Mi(e,t,c,a),t.memoizedState=r.state,i&&tT(t,n,!0),t.child}function mT(e){var t=e.stateNode;t.pendingContext?eT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eT(e,t.context,!1),cx(e,t.containerInfo)}var Dw={dehydrated:null,retryTime:0};function yT(e,t,n){var r=t.mode,i=t.pendingProps,a=Ln.current,l=!1,c;if((c=(t.effectTag&64)!==0)||(c=(a&2)!==0&&(e===null||e.memoizedState!==null)),c?(l=!0,t.effectTag&=-65):e!==null&&e.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(a|=1),Dn(Ln,a&1),e===null){if(i.fallback!==void 0&&hx(t),l){if(l=i.fallback,i=Sl(null,r,0,null),i.return=t,!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return n=Sl(l,r,n,null),n.return=t,i.sibling=n,t.memoizedState=Dw,t.child=i,n}return r=i.children,t.memoizedState=null,t.child=tE(t,null,r,n)}if(e.memoizedState!==null){if(e=e.child,r=e.sibling,l){if(i=i.fallback,n=oc(e,e.pendingProps),n.return=t,!(t.mode&2)&&(l=t.memoizedState!==null?t.child.child:t.child,l!==e.child))for(n.child=l;l!==null;)l.return=n,l=l.sibling;return r=oc(r,i),r.return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Dw,t.child=n,r}return n=Gf(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=i.fallback,i=Sl(null,r,0,null),i.return=t,i.child=e,e!==null&&(e.return=i),!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,i.child=e;e!==null;)e.return=i,e=e.sibling;return n=Sl(l,r,n,null),n.return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Dw,t.child=i,n}return t.memoizedState=null,t.child=Gf(t,e,i.children,n)}function wT(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t),nL(e.return,t)}function Bw(e,t,n,r,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailExpiration=0,l.tailMode=i,l.lastEffect=a)}function xT(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mi(e,t,r.children,n),r=Ln.current,r&2)r=r&1|2,t.effectTag|=64;else{if(e!==null&&e.effectTag&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wT(e,n);else if(e.tag===19)wT(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dn(Ln,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bw(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bw(t,!0,n,null,a,t.lastEffect);break;case"together":Bw(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ts(e,t,n){e!==null&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(r!==0&&Iy(r),t.childExpirationTime<n)return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=oc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}var gL,vx,vL,mL;gL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vx=function(){};vL=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var l=t.stateNode;switch(Bu(_a.current),e=null,n){case"input":a=H1(l,a),r=H1(l,r),e=[];break;case"option":a=K1(l,a),r=K1(l,r),e=[];break;case"select":a=Jr({},a,{value:void 0}),r=Jr({},r,{value:void 0}),e=[];break;case"textarea":a=G1(l,a),r=G1(l,r),e=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(l.onclick=Am)}Z1(n,r);var c,p;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style")for(p in l=a[c],l)l.hasOwnProperty(p)&&(n||(n={}),n[p]="");else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hf.hasOwnProperty(c)?e||(e=[]):(e=e||[]).push(c,null));for(c in r){var v=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&v!==l&&(v!=null||l!=null))if(c==="style")if(l){for(p in l)!l.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in v)v.hasOwnProperty(p)&&l[p]!==v[p]&&(n||(n={}),n[p]=v[p])}else n||(e||(e=[]),e.push(c,n)),n=v;else c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,l=l?l.__html:void 0,v!=null&&l!==v&&(e=e||[]).push(c,v)):c==="children"?l===v||typeof v!="string"&&typeof v!="number"||(e=e||[]).push(c,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(c)?(v!=null&&ys(i,c),e||l===v||(e=[])):(e=e||[]).push(c,v))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}};mL=function(e,t,n,r){n!==r&&(t.effectTag|=4)};function Av(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wD(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&Rm(),null;case 3:return qf(),En(pi),En(zr),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),e!==null&&e.child!==null||!Pv(t)||(t.effectTag|=4),vx(t),null;case 5:nE(t),n=Bu(ap.current);var i=t.type;if(e!==null&&t.stateNode!=null)vL(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(t.stateNode===null)throw Error(He(166));return null}if(e=Bu(_a.current),Pv(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[wl]=t,r[Nm]=a,i){case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(e=0;e<Ah.length;e++)Tn(Ah[e],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"form":Tn("reset",r),Tn("submit",r);break;case"details":Tn("toggle",r);break;case"input":AC(r,a),Tn("invalid",r),ys(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tn("invalid",r),ys(n,"onChange");break;case"textarea":IC(r,a),Tn("invalid",r),ys(n,"onChange")}Z1(i,a),e=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?r.textContent!==c&&(e=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(e=["children",""+c]):Hf.hasOwnProperty(l)&&c!=null&&ys(n,l)}switch(i){case"input":Sv(r),NC(r,a,!0);break;case"textarea":Sv(r),RC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Am)}n=e,t.updateQueue=n,n!==null&&(t.effectTag|=4)}else{switch(l=n.nodeType===9?n:n.ownerDocument,e===BC&&(e=cO(i)),e===BC?i==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),i==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[wl]=t,e[Nm]=r,gL(e,t,!1,!1),t.stateNode=e,l=J1(i,r),i){case"iframe":case"object":case"embed":Tn("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ah.length;c++)Tn(Ah[c],e);c=r;break;case"source":Tn("error",e),c=r;break;case"img":case"image":case"link":Tn("error",e),Tn("load",e),c=r;break;case"form":Tn("reset",e),Tn("submit",e),c=r;break;case"details":Tn("toggle",e),c=r;break;case"input":AC(e,r),c=H1(e,r),Tn("invalid",e),ys(n,"onChange");break;case"option":c=K1(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=Jr({},r,{value:void 0}),Tn("invalid",e),ys(n,"onChange");break;case"textarea":IC(e,r),c=G1(e,r),Tn("invalid",e),ys(n,"onChange");break;default:c=r}Z1(i,c);var p=c;for(a in p)if(p.hasOwnProperty(a)){var v=p[a];a==="style"?LO(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&fO(e,v)):a==="children"?typeof v=="string"?(i!=="textarea"||v!=="")&&Jh(e,v):typeof v=="number"&&Jh(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hf.hasOwnProperty(a)?v!=null&&ys(n,a):v!=null&&Nb(e,a,v,l))}switch(i){case"input":Sv(e),NC(e,r,!1);break;case"textarea":Sv(e),RC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Il(r.value));break;case"select":e.multiple=!!r.multiple,n=r.value,n!=null?Mf(e,!!r.multiple,n,!1):r.defaultValue!=null&&Mf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Am)}IO(i,r)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(e&&t.stateNode!=null)mL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));n=Bu(ap.current),Bu(_a.current),Pv(t)?(n=t.stateNode,r=t.memoizedProps,n[wl]=t,n.nodeValue!==r&&(t.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),n[wl]=t,t.stateNode=n)}return null;case 13:return En(Ln),r=t.memoizedState,t.effectTag&64?(t.expirationTime=n,t):(n=r!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&Pv(t):(i=e.memoizedState,r=i!==null,n||i===null||(i=e.child.sibling,i!==null&&(a=t.firstEffect,a!==null?(t.firstEffect=i,i.nextEffect=a):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8))),n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Ln.current&1?vr===Yu&&(vr=Gm):((vr===Yu||vr===Gm)&&(vr=Py),lp!==0&&Di!==null&&(Uu(Di,vi),jL(Di,lp)))),(n||r)&&(t.effectTag|=4),null);case 4:return qf(),vx(t),null;case 10:return Zb(t),null;case 17:return gi(t.type)&&Rm(),null;case 19:if(En(Ln),r=t.memoizedState,r===null)return null;if(i=(t.effectTag&64)!==0,a=r.rendering,a===null){if(i)Av(r,!1);else if(vr!==Yu||e!==null&&e.effectTag&64)for(a=t.child;a!==null;){if(e=Dm(a),e!==null){for(t.effectTag|=64,Av(r,!1),i=e.updateQueue,i!==null&&(t.updateQueue=i,t.effectTag|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;r!==null;)i=r,a=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,e=i.alternate,e===null?(i.childExpirationTime=0,i.expirationTime=a,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return Dn(Ln,Ln.current&1|2),t.child}a=a.sibling}}else{if(!i)if(e=Dm(a),e!==null){if(t.effectTag|=64,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.effectTag|=4),Av(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*lo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Av(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(r.tailExpiration===0&&(r.tailExpiration=lo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=lo(),n.sibling=null,t=Ln.current,Dn(Ln,i?t&1|2:t&1),n):null}throw Error(He(156,t.tag))}function xD(e){switch(e.tag){case 1:gi(e.type)&&Rm();var t=e.effectTag;return t&4096?(e.effectTag=t&-4097|64,e):null;case 3:if(qf(),En(pi),En(zr),t=e.effectTag,t&64)throw Error(He(285));return e.effectTag=t&-4097|64,e;case 5:return nE(e),null;case 13:return En(Ln),t=e.effectTag,t&4096?(e.effectTag=t&-4097|64,e):null;case 19:return En(Ln),null;case 4:return qf(),null;case 10:return Zb(e),null;default:return null}}function uE(e,t){return{value:e,source:t,stack:Mb(t)}}var bD=typeof WeakSet=="function"?WeakSet:Set;function mx(e,t){var n=t.source,r=t.stack;r===null&&n!==null&&(r=Mb(n)),n!==null&&Ls(n.type),t=t.value,e!==null&&e.tag===1&&Ls(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function ED(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Zu(e,n)}}function bT(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Zu(e,n)}else t.current=null}function SD(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ao(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(He(163))}function yL(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,r!==void 0&&r()}n=n.next}while(n!==t)}}function wL(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function CD(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:wL(3,n);return;case 1:if(e=n.stateNode,n.effectTag&4)if(t===null)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ao(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=n.updateQueue,t!==null&&aT(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}aT(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.effectTag&4&&IO(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&TO(n))));return;case 19:case 17:case 20:case 21:return}throw Error(He(163))}function ET(e,t,n){switch(typeof Tx=="function"&&Tx(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e.next;Ml(97<n?97:n,function(){var i=r;do{var a=i.destroy;if(a!==void 0){var l=t;try{a()}catch(c){Zu(l,c)}}i=i.next}while(i!==r)})}break;case 1:bT(t),n=t.stateNode,typeof n.componentWillUnmount=="function"&&ED(t,n);break;case 5:bT(t);break;case 4:bL(e,t,n)}}function xL(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,t!==null&&xL(t)}function ST(e){return e.tag===5||e.tag===3||e.tag===4}function CT(e){e:{for(var t=e.return;t!==null;){if(ST(t)){var n=t;break e}t=t.return}throw Error(He(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(He(161))}n.effectTag&16&&(Jh(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||ST(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}r?yx(e,n,t):wx(e,n,t)}function yx(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Am));else if(r!==4&&(e=e.child,e!==null))for(yx(e,t,n),e=e.sibling;e!==null;)yx(e,t,n),e=e.sibling}function wx(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wx(e,t,n),e=e.sibling;e!==null;)wx(e,t,n),e=e.sibling}function bL(e,t,n){for(var r=t,i=!1,a,l;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(He(160));switch(a=i.stateNode,i.tag){case 5:l=!1;break e;case 3:a=a.containerInfo,l=!0;break e;case 4:a=a.containerInfo,l=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var c=e,p=r,v=n,m=p;;)if(ET(c,m,v),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l?(c=a,p=r.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):a.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){a=r.stateNode.containerInfo,l=!0,r.child.return=r,r=r.child;continue}}else if(ET(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function zw(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:yL(3,t);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps,i=e!==null?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,a!==null){for(n[Nm]=r,e==="input"&&r.type==="radio"&&r.name!=null&&sO(n,r),J1(e,i),t=J1(e,r),i=0;i<a.length;i+=2){var l=a[i],c=a[i+1];l==="style"?LO(n,c):l==="dangerouslySetInnerHTML"?fO(n,c):l==="children"?Jh(n,c):Nb(n,l,c,t)}switch(e){case"input":U1(n,r);break;case"textarea":lO(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,e=r.value,e!=null?Mf(n,!!r.multiple,e,!1):t!==!!r.multiple&&(r.defaultValue!=null?Mf(n,!!r.multiple,r.defaultValue,!0):Mf(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(He(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,TO(t.containerInfo));return;case 12:return;case 13:if(n=t,t.memoizedState===null?r=!1:(r=!0,n=t.child,dE=lo()),n!==null)e:for(e=n;;){if(e.tag===5)a=e.stateNode,r?(a=a.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,i=e.memoizedProps.style,i=i!=null&&i.hasOwnProperty("display")?i.display:null,a.style.display=OO("display",i));else if(e.tag===6)e.stateNode.nodeValue=r?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){a=e.child.sibling,a.return=e,e=a;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}TT(t);return;case 19:TT(t);return;case 17:return}throw Error(He(163))}function TT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bD),t.forEach(function(r){var i=RD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}var TD=typeof WeakMap=="function"?WeakMap:Map;function EL(e,t,n){n=Ol(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vm||(Vm=!0,xx=r),mx(e,t)},n}function SL(e,t,n){n=Ol(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return mx(e,t),r(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this),mx(e,t));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}var kD=Math.ceil,Wm=Mo.ReactCurrentDispatcher,CL=Mo.ReactCurrentOwner,mr=0,cE=8,Fo=16,Aa=32,Yu=0,Km=1,TL=2,Gm=3,Py=4,fE=5,St=mr,Di=null,At=null,vi=0,vr=Yu,Ay=null,Ss=1073741823,sp=1073741823,qm=null,lp=0,Xm=!1,dE=0,kL=500,ut=null,Vm=!1,xx=null,Pl=null,Ym=!1,Wh=null,Ih=90,zu=null,Kh=0,bx=null,hm=0;function Oa(){return(St&(Fo|Aa))!==mr?1073741821-(lo()/10|0):hm!==0?hm:hm=1073741821-(lo()/10|0)}function Qu(e,t,n){if(t=t.mode,!(t&2))return 1073741823;var r=Oy();if(!(t&4))return r===99?1073741823:1073741822;if((St&Fo)!==mr)return vi;if(n!==null)e=fm(e,n.timeoutMs|0||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=fm(e,150,100);break;case 97:case 96:e=fm(e,5e3,250);break;case 95:e=2;break;default:throw Error(He(326))}return Di!==null&&e===vi&&--e,e}function Al(e,t){if(50<Kh)throw Kh=0,bx=null,Error(He(185));if(e=Ny(e,t),e!==null){var n=Oy();t===1073741823?(St&cE)!==mr&&(St&(Fo|Aa))===mr?Ex(e):(Bi(e),St===mr&&Ra()):Bi(e),(St&4)===mr||n!==98&&n!==99||(zu===null?zu=new Map([[e,t]]):(n=zu.get(e),(n===void 0||n>t)&&zu.set(e,t)))}}function Ny(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(r===null&&e.tag===3)i=e.stateNode;else for(;r!==null;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t),r.return===null&&r.tag===3){i=r.stateNode;break}r=r.return}return i!==null&&(Di===i&&(Iy(t),vr===Py&&Uu(i,vi)),jL(i,t)),i}function pm(e){var t=e.lastExpiredTime;if(t!==0||(t=e.firstPendingTime,!FL(e,t)))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Bi(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=iT(Ex.bind(null,e));else{var t=pm(e),n=e.callbackNode;if(t===0)n!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Oa();if(t===1073741823?r=99:t===1||t===2?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),n!==null){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ZO&&qO(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=t===1073741823?iT(Ex.bind(null,e)):eL(r,_L.bind(null,e),{timeout:10*(1073741821-t)-lo()}),e.callbackNode=t}}}function _L(e,t){if(hm=0,t)return t=Oa(),kx(e,t),Bi(e),null;var n=pm(e);if(n!==0){if(t=e.callbackNode,(St&(Fo|Aa))!==mr)throw Error(He(327));if(rd(),e===Di&&n===vi||Hu(e,n),At!==null){var r=St;St|=Fo;var i=AL();do try{LD();break}catch(c){PL(e,c)}while(1);if(Qb(),St=r,Wm.current=i,vr===Km)throw t=Ay,Hu(e,n),Uu(e,n),Bi(e),t;if(At===null)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=vr,Di=null,r){case Yu:case Km:throw Error(He(345));case TL:kx(e,2<n?2:n);break;case Gm:if(Uu(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Sx(i)),Ss===1073741823&&(i=dE+kL-lo(),10<i)){if(Xm){var a=e.lastPingedTime;if(a===0||a>=n){e.lastPingedTime=n,Hu(e,n);break}}if(a=pm(e),a!==0&&a!==n)break;if(r!==0&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Mw(Nu.bind(null,e),i);break}Nu(e);break;case Py:if(Uu(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Sx(i)),Xm&&(i=e.lastPingedTime,i===0||i>=n)){e.lastPingedTime=n,Hu(e,n);break}if(i=pm(e),i!==0&&i!==n)break;if(r!==0&&r!==n){e.lastPingedTime=r;break}if(sp!==1073741823?r=10*(1073741821-sp)-lo():Ss===1073741823?r=0:(r=10*(1073741821-Ss)-5e3,i=lo(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kD(r/1960))-r,n<r&&(r=n)),10<r){e.timeoutHandle=Mw(Nu.bind(null,e),r);break}Nu(e);break;case fE:if(Ss!==1073741823&&qm!==null){a=Ss;var l=qm;if(r=l.busyMinDurationMs|0,0>=r?r=0:(i=l.busyDelayMs|0,a=lo()-(10*(1073741821-a)-(l.timeoutMs|0||5e3)),r=a<=i?0:i+r-a),10<r){Uu(e,n),e.timeoutHandle=Mw(Nu.bind(null,e),r);break}}Nu(e);break;default:throw Error(He(329))}if(Bi(e),e.callbackNode===t)return _L.bind(null,e)}}return null}function Ex(e){var t=e.lastExpiredTime;if(t=t!==0?t:1073741823,(St&(Fo|Aa))!==mr)throw Error(He(327));if(rd(),e===Di&&t===vi||Hu(e,t),At!==null){var n=St;St|=Fo;var r=AL();do try{OD();break}catch(i){PL(e,i)}while(1);if(Qb(),St=n,Wm.current=r,vr===Km)throw n=Ay,Hu(e,t),Uu(e,t),Bi(e),n;if(At!==null)throw Error(He(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Di=null,Nu(e),Bi(e)}return null}function _D(){if(zu!==null){var e=zu;zu=null,e.forEach(function(t,n){kx(n,t),Bi(n)}),Ra()}}function OL(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===mr&&Ra()}}function LL(e,t){var n=St;St&=-2,St|=cE;try{return e(t)}finally{St=n,St===mr&&Ra()}}function Hu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k$(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rm();break;case 3:qf(),En(pi),En(zr);break;case 5:nE(r);break;case 4:qf();break;case 13:En(Ln);break;case 19:En(Ln);break;case 10:Zb(r)}n=n.return}Di=e,At=oc(e.current,null),vi=t,vr=Yu,Ay=null,sp=Ss=1073741823,qm=null,lp=0,Xm=!1}function PL(e,t){do{try{if(Qb(),dm.current=Um,Bm)for(var n=rr.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}if(bl=0,Dr=$r=rr=null,Bm=!1,At===null||At.return===null)return vr=Km,Ay=t,At=null;e:{var i=e,a=At.return,l=At,c=t;if(t=vi,l.effectTag|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c;if(!(l.mode&2)){var v=l.alternate;v?(l.updateQueue=v.updateQueue,l.memoizedState=v.memoizedState,l.expirationTime=v.expirationTime):(l.updateQueue=null,l.memoizedState=null)}var m=(Ln.current&1)!==0,x=a;do{var S;if(S=x.tag===13){var C=x.memoizedState;if(C!==null)S=C.dehydrated!==null;else{var I=x.memoizedProps;S=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!m}}if(S){var $=x.updateQueue;if($===null){var N=new Set;N.add(p),x.updateQueue=N}else $.add(p);if(!(x.mode&2)){if(x.effectTag|=64,l.effectTag&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var L=Ol(1073741823,null);L.tag=2,Ll(l,L)}l.expirationTime=1073741823;break e}c=void 0,l=t;var M=i.pingCache;if(M===null?(M=i.pingCache=new TD,c=new Set,M.set(p,c)):(c=M.get(p),c===void 0&&(c=new Set,M.set(p,c))),!c.has(l)){c.add(l);var B=ID.bind(null,i,p,l);p.then(B,B)}x.effectTag|=4096,x.expirationTime=t;break e}x=x.return}while(x!==null);c=Error((Ls(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Mb(l))}vr!==fE&&(vr=TL),c=uE(c,l),x=a;do{switch(x.tag){case 3:p=c,x.effectTag|=4096,x.expirationTime=t;var j=EL(x,p,t);oT(x,j);break e;case 1:p=c;var U=x.type,X=x.stateNode;if(!(x.effectTag&64)&&(typeof U.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Pl===null||!Pl.has(X)))){x.effectTag|=4096,x.expirationTime=t;var V=SL(x,p,t);oT(x,V);break e}}x=x.return}while(x!==null)}At=RL(At)}catch(re){t=re;continue}break}while(1)}function AL(){var e=Wm.current;return Wm.current=Um,e===null?Um:e}function NL(e,t){e<Ss&&2<e&&(Ss=e),t!==null&&e<sp&&2<e&&(sp=e,qm=t)}function Iy(e){e>lp&&(lp=e)}function OD(){for(;At!==null;)At=IL(At)}function LD(){for(;At!==null&&!hD();)At=IL(At)}function IL(e){var t=ML(e.alternate,e,vi);return e.memoizedProps=e.pendingProps,t===null&&(t=RL(e)),CL.current=null,t}function RL(e){At=e;do{var t=At.alternate;if(e=At.return,At.effectTag&2048){if(t=xD(At),t!==null)return t.effectTag&=2047,t;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(t=wD(t,At,vi),vi===1||At.childExpirationTime!==1){for(var n=0,r=At.child;r!==null;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}At.childExpirationTime=n}if(t!==null)return t;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=At.firstEffect),At.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=At.firstEffect),e.lastEffect=At.lastEffect),1<At.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=At:e.firstEffect=At,e.lastEffect=At))}if(t=At.sibling,t!==null)return t;At=e}while(At!==null);return vr===Yu&&(vr=fE),null}function Sx(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Nu(e){var t=Oy();return Ml(99,PD.bind(null,e,t)),null}function PD(e,t){do rd();while(Wh!==null);if((St&(Fo|Aa))!==mr)throw Error(He(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(n===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Sx(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Di&&(At=Di=null,vi=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){var a=St;St|=Aa,CL.current=null,Iw=om;var l=UC();if(tx(l)){if("selectionStart"in l)var c={start:l.selectionStart,end:l.selectionEnd};else e:{c=(c=l.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,m=p.focusNode;p=p.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var x=0,S=-1,C=-1,I=0,$=0,N=l,L=null;t:for(;;){for(var M;N!==c||v!==0&&N.nodeType!==3||(S=x+v),N!==m||p!==0&&N.nodeType!==3||(C=x+p),N.nodeType===3&&(x+=N.nodeValue.length),(M=N.firstChild)!==null;)L=N,N=M;for(;;){if(N===l)break t;if(L===c&&++I===v&&(S=x),L===m&&++$===p&&(C=x),(M=N.nextSibling)!==null)break;N=L,L=N.parentNode}N=M}c=S===-1||C===-1?null:{start:S,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;Rw={activeElementDetached:null,focusedElem:l,selectionRange:c},om=!1,ut=i;do try{AD()}catch(fe){if(ut===null)throw Error(He(330));Zu(ut,fe),ut=ut.nextEffect}while(ut!==null);ut=i;do try{for(l=e,c=t;ut!==null;){var B=ut.effectTag;if(B&16&&Jh(ut.stateNode,""),B&128){var j=ut.alternate;if(j!==null){var U=j.ref;U!==null&&(typeof U=="function"?U(null):U.current=null)}}switch(B&1038){case 2:CT(ut),ut.effectTag&=-3;break;case 6:CT(ut),ut.effectTag&=-3,zw(ut.alternate,ut);break;case 1024:ut.effectTag&=-1025;break;case 1028:ut.effectTag&=-1025,zw(ut.alternate,ut);break;case 4:zw(ut.alternate,ut);break;case 8:v=ut,bL(l,v,c),xL(v)}ut=ut.nextEffect}}catch(fe){if(ut===null)throw Error(He(330));Zu(ut,fe),ut=ut.nextEffect}while(ut!==null);if(U=Rw,j=UC(),B=U.focusedElem,c=U.selectionRange,j!==B&&B&&B.ownerDocument&&PO(B.ownerDocument.documentElement,B)){for(c!==null&&tx(B)&&(j=c.start,U=c.end,U===void 0&&(U=j),"selectionStart"in B?(B.selectionStart=j,B.selectionEnd=Math.min(U,B.value.length)):(U=(j=B.ownerDocument||document)&&j.defaultView||window,U.getSelection&&(U=U.getSelection(),v=B.textContent.length,l=Math.min(c.start,v),c=c.end===void 0?l:Math.min(c.end,v),!U.extend&&l>c&&(v=c,c=l,l=v),v=HC(B,l),m=HC(B,c),v&&m&&(U.rangeCount!==1||U.anchorNode!==v.node||U.anchorOffset!==v.offset||U.focusNode!==m.node||U.focusOffset!==m.offset)&&(j=j.createRange(),j.setStart(v.node,v.offset),U.removeAllRanges(),l>c?(U.addRange(j),U.extend(m.node,m.offset)):(j.setEnd(m.node,m.offset),U.addRange(j)))))),j=[],U=B;U=U.parentNode;)U.nodeType===1&&j.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<j.length;B++)U=j[B],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}om=!!Iw,Rw=Iw=null,e.current=n,ut=i;do try{for(B=e;ut!==null;){var X=ut.effectTag;if(X&36&&CD(B,ut.alternate,ut),X&128){j=void 0;var V=ut.ref;if(V!==null){var re=ut.stateNode;switch(ut.tag){case 5:j=re;break;default:j=re}typeof V=="function"?V(j):V.current=j}}ut=ut.nextEffect}}catch(fe){if(ut===null)throw Error(He(330));Zu(ut,fe),ut=ut.nextEffect}while(ut!==null);ut=null,pD(),St=a}else e.current=n;if(Ym)Ym=!1,Wh=e,Ih=t;else for(ut=i;ut!==null;)t=ut.nextEffect,ut.nextEffect=null,ut=t;if(t=e.firstPendingTime,t===0&&(Pl=null),t===1073741823?e===bx?Kh++:(Kh=0,bx=e):Kh=0,typeof Cx=="function"&&Cx(n.stateNode,r),Bi(e),Vm)throw Vm=!1,e=xx,xx=null,e;return(St&cE)!==mr||Ra(),null}function AD(){for(;ut!==null;){var e=ut.effectTag;e&256&&SD(ut.alternate,ut),!(e&512)||Ym||(Ym=!0,eL(97,function(){return rd(),null})),ut=ut.nextEffect}}function rd(){if(Ih!==90){var e=97<Ih?97:Ih;return Ih=90,Ml(e,ND)}}function ND(){if(Wh===null)return!1;var e=Wh;if(Wh=null,(St&(Fo|Aa))!==mr)throw Error(He(331));var t=St;for(St|=Aa,e=e.current.firstEffect;e!==null;){try{var n=e;if(n.effectTag&512)switch(n.tag){case 0:case 11:case 15:case 22:yL(5,n),wL(5,n)}}catch(r){if(e===null)throw Error(He(330));Zu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return St=t,Ra(),!0}function kT(e,t,n){t=uE(n,t),t=EL(e,t,1073741823),Ll(e,t),e=Ny(e,1073741823),e!==null&&Bi(e)}function Zu(e,t){if(e.tag===3)kT(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){kT(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){e=uE(t,e),e=SL(n,e,1073741823),Ll(n,e),n=Ny(n,1073741823),n!==null&&Bi(n);break}}n=n.return}}function ID(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),Di===e&&vi===n?vr===Py||vr===Gm&&Ss===1073741823&&lo()-dE<kL?Hu(e,vi):Xm=!0:FL(e,n)&&(t=e.lastPingedTime,t!==0&&t<n||(e.lastPingedTime=n,Bi(e)))}function RD(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=Oa(),t=Qu(t,e,null)),e=Ny(e,t),e!==null&&Bi(e)}var ML;ML=function(e,t,n){var r=t.expirationTime;if(e!==null){var i=t.pendingProps;if(e.memoizedProps!==i||pi.current)Ca=!0;else{if(r<n){switch(Ca=!1,t.tag){case 3:mT(t),$w();break;case 5:if(uT(t),t.mode&4&&n!==1&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&um(t);break;case 4:cx(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Dn(Mm,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return r=t.child.childExpirationTime,r!==0&&r>=n?yT(e,t,n):(Dn(Ln,Ln.current&1),t=Ts(e,t,n),t!==null?t.sibling:null);Dn(Ln,Ln.current&1);break;case 19:if(r=t.childExpirationTime>=n,e.effectTag&64){if(r)return xT(e,t,n);t.effectTag|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null),Dn(Ln,Ln.current),!r)return null}return Ts(e,t,n)}Ca=!1}}else Ca=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Kf(t,zr.current),jf(t,n),i=oE(null,t,r,e,i,n),t.effectTag|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;um(t)}else a=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jb(t);var l=r.getDerivedStateFromProps;typeof l=="function"&&$m(t,r,l,e),i.updater=Ly,t.stateNode=i,i._reactInternalFiber=t,ux(t,r,e,n),t=gx(null,t,r,!0,a,n)}else t.tag=0,Mi(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,u$(i),i._status!==1)throw i._result;switch(i=i._result,t.type=i,a=t.tag=jD(i),e=Ao(i,e),a){case 0:t=px(null,t,i,e,n);break e;case 1:t=vT(null,t,i,e,n);break e;case 11:t=pT(null,t,i,e,n);break e;case 14:t=gT(null,t,i,Ao(i.type,e),r,n);break e}throw Error(He(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),px(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),vT(e,t,r,i,n);case 3:if(mT(t),r=t.updateQueue,e===null||r===null)throw Error(He(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,eE(e,t),ip(t,r,null,n),r=t.memoizedState.element,r===i)$w(),t=Ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(El=Ff(t.stateNode.containerInfo.firstChild),Cs=t,i=Vu=!0),i)for(n=tE(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else Mi(e,t,r,n),$w();t=t.child}return t;case 5:return uT(t),e===null&&hx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,nx(r,i)?l=null:a!==null&&nx(r,a)&&(t.effectTag|=16),pL(e,t),t.mode&4&&n!==1&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mi(e,t,l,n),t=t.child),t;case 6:return e===null&&hx(t),null;case 13:return yT(e,t,n);case 4:return cx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gf(t,null,r,n):Mi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),pT(e,t,r,i,n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:return Mi(e,t,t.pendingProps.children,n),t.child;case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value;var c=t.type._context;if(Dn(Mm,c._currentValue),c._currentValue=a,l!==null)if(c=l.value,a=rc(c,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,a):1073741823)|0,a===0){if(l.children===i.children&&!pi.current){t=Ts(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var p=c.dependencies;if(p!==null){l=c.child;for(var v=p.firstContext;v!==null;){if(v.context===r&&v.observedBits&a){c.tag===1&&(v=Ol(n,null),v.tag=2,Ll(c,v)),c.expirationTime<n&&(c.expirationTime=n),v=c.alternate,v!==null&&v.expirationTime<n&&(v.expirationTime=n),nL(c.return,n),p.expirationTime<n&&(p.expirationTime=n);break}v=v.next}}else l=c.tag===10&&c.type===t.type?null:c.child;if(l!==null)l.return=c;else for(l=c;l!==null;){if(l===t){l=null;break}if(c=l.sibling,c!==null){c.return=l.return,l=c;break}l=l.return}c=l}Mi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,jf(t,n),i=fo(i,a.unstable_observedBits),r=r(i),t.effectTag|=1,Mi(e,t,r,n),t.child;case 14:return i=t.type,a=Ao(i,t.pendingProps),a=Ao(i.type,a),gT(e,t,i,a,r,n);case 15:return hL(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,um(t)):e=!1,jf(t,n),iL(t,r,i),ux(t,r,i,n),gx(null,t,r,!0,e,n);case 19:return xT(e,t,n)}throw Error(He(156,t.tag))};var Cx=null,Tx=null;function MD(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Cx=function(r){try{t.onCommitFiberRoot(n,r,void 0,(r.current.effectTag&64)===64)}catch{}},Tx=function(r){try{t.onCommitFiberUnmount(n,r)}catch{}}}catch{}return!0}function FD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ta(e,t,n,r){return new FD(e,t,n,r)}function hE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jD(e){if(typeof e=="function")return hE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ib)return 11;if(e===Rb)return 14}return 2}function oc(e,t){var n=e.alternate;return n===null?(n=Ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gm(e,t,n,r,i,a){var l=2;if(r=e,typeof e=="function")hE(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Fu:return Sl(n.children,i,a,t);case l$:l=8,i|=7;break;case eO:l=8,i|=1;break;case nm:return e=Ta(12,n,t,i|8),e.elementType=nm,e.type=nm,e.expirationTime=a,e;case rm:return e=Ta(13,n,t,i),e.type=rm,e.elementType=rm,e.expirationTime=a,e;case z1:return e=Ta(19,n,t,i),e.elementType=z1,e.expirationTime=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tO:l=10;break e;case nO:l=9;break e;case Ib:l=11;break e;case Rb:l=14;break e;case rO:l=16,r=null;break e;case iO:l=22;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Ta(l,n,t,i),t.elementType=e,t.type=r,t.expirationTime=a,t}function Sl(e,t,n,r){return e=Ta(7,e,r,t),e.expirationTime=n,e}function Hw(e,t,n){return e=Ta(6,e,null,t),e.expirationTime=n,e}function Uw(e,t,n){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $D(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function FL(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,n!==0&&n>=t&&e<=t}function Uu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||n===0)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function jL(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;n!==0&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function kx(e,t){var n=e.lastExpiredTime;(n===0||n>t)&&(e.lastExpiredTime=t)}function Qm(e,t,n,r){var i=t.current,a=Oa(),l=Uh.suspense;a=Qu(a,i,l);e:if(n){n=n._reactInternalFiber;t:{if(uc(n)!==n||n.tag!==1)throw Error(He(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(He(171))}if(n.tag===1){var p=n.type;if(gi(p)){n=GO(n,p,c);break e}}n=c}else n=Rl;return t.context===null?t.context=n:t.pendingContext=n,t=Ol(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Ll(i,t),Al(i,a),a}function Ww(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _T(e,t){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<t&&(e.retryTime=t)}function pE(e,t){_T(e,t),(e=e.alternate)&&_T(e,t)}function gE(e,t,n){n=n!=null&&n.hydrate===!0;var r=new $D(e,t,n),i=Ta(3,null,null,t===2?7:t===1?3:0);r.current=i,i.stateNode=r,Jb(i),e[Ip]=r.current,n&&t!==0&&g$(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=r}gE.prototype.render=function(e){Qm(e,this._internalRoot,null,null)};gE.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qm(null,e,null,function(){t[Ip]=null})};function Dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DD(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new gE(e,0,t?{hydrate:!0}:void 0)}function Ry(e,t,n,r,i){var a=n._reactRootContainer;if(a){var l=a._internalRoot;if(typeof i=="function"){var c=i;i=function(){var v=Ww(l);c.call(v)}}Qm(t,l,e,i)}else{if(a=n._reactRootContainer=DD(n,r),l=a._internalRoot,typeof i=="function"){var p=i;i=function(){var v=Ww(l);p.call(v)}}LL(function(){Qm(t,l,e,i)})}return Ww(l)}function BD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}SO=function(e){if(e.tag===13){var t=fm(Oa(),150,100);Al(e,t),pE(e,t)}};Db=function(e){e.tag===13&&(Al(e,3),pE(e,3))};CO=function(e){if(e.tag===13){var t=Oa();t=Qu(t,e,null),Al(e,t),pE(e,t)}};B1=function(e,t,n){switch(t){case"input":if(U1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Gb(r);if(!i)throw Error(He(90));aO(r),U1(r,i)}}}break;case"textarea":lO(e,n);break;case"select":t=n.value,t!=null&&Mf(e,!!n.multiple,t,!1)}};_b=OL;Q_=function(e,t,n,r,i){var a=St;St|=4;try{return Ml(98,e.bind(null,t,n,r,i))}finally{St=a,St===mr&&Ra()}};Ob=function(){(St&(1|Fo|Aa))===mr&&(_D(),rd())};Z_=function(e,t){var n=St;St|=2;try{return e(t)}finally{St=n,St===mr&&Ra()}};function $L(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(t))throw Error(He(200));return BD(e,t,null,n)}var zD={Events:[Mp,nc,Gb,X_,D1,Wf,function(e){jb(e,O$)},V_,Y_,Ty,Cy,rd,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;return MD(Jr({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yO(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return t?t(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Rp,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zD;mo.createPortal=$L;mo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternalFiber;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):Error(He(268,Object.keys(e)));return e=yO(t),e=e===null?null:e.stateNode,e};mo.flushSync=function(e,t){if((St&(Fo|Aa))!==mr)throw Error(He(187));var n=St;St|=1;try{return Ml(99,e.bind(null,t))}finally{St=n,Ra()}};mo.hydrate=function(e,t,n){if(!Dp(t))throw Error(He(200));return Ry(null,e,t,!0,n)};mo.render=function(e,t,n){if(!Dp(t))throw Error(He(200));return Ry(null,e,t,!1,n)};mo.unmountComponentAtNode=function(e){if(!Dp(e))throw Error(He(40));return e._reactRootContainer?(LL(function(){Ry(null,null,e,!1,function(){e._reactRootContainer=null,e[Ip]=null})}),!0):!1};mo.unstable_batchedUpdates=OL;mo.unstable_createPortal=function(e,t){return $L(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};mo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dp(n))throw Error(He(200));if(e==null||e._reactInternalFiber===void 0)throw Error(He(38));return Ry(e,t,n,!1,r)};mo.version="16.14.0";function DL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DL)}catch(e){console.error(e)}}DL(),H_.exports=mo;var Bp=H_.exports;const Kw=Sn(Bp);function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function ct(e,t){if(e==null)return{};var n,r,i=function(l,c){if(l==null)return{};var p,v,m={},x=Object.keys(l);for(v=0;v<x.length;v++)p=x[v],c.indexOf(p)>=0||(m[p]=l[p]);return m}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HD=["size","color","stroke"];function UD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,HD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-alert-octagon",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M8.7 3h6.6c.3 0 .5 .1 .7 .3l4.7 4.7c.2 .2 .3 .4 .3 .7v6.6c0 .3 -.1 .5 -.3 .7l-4.7 4.7c-.2 .2 -.4 .3 -.7 .3h-6.6c-.3 0 -.5 -.1 -.7 -.3l-4.7 -4.7c-.2 -.2 -.3 -.4 -.3 -.7v-6.6c0 -.3 .1 -.5 .3 -.7l4.7 -4.7c.2 -.2 .4 -.3 .7 -.3z"}),O.createElement("line",{x1:12,y1:8,x2:12,y2:12}),O.createElement("line",{x1:12,y1:16,x2:12.01,y2:16}))}var WD=["size","color","stroke"];function KD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,WD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-alert-triangle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M12 9v2m0 4v.01"}),O.createElement("path",{d:"M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"}))}var GD=["size","color","stroke"];function BL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,GD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-back",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"}))}var qD=["size","color","stroke"];function XD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,qD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-bar-to-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:14,y1:12,x2:4,y2:12}),O.createElement("line",{x1:14,y1:12,x2:10,y2:16}),O.createElement("line",{x1:14,y1:12,x2:10,y2:8}),O.createElement("line",{x1:20,y1:4,x2:20,y2:20}))}var VD=["size","color","stroke"];function zL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,VD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-forward",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M15 11l4 4l-4 4m4 -4h-11a4 4 0 0 1 0 -8h1"}))}var YD=["size","color","stroke"];function QD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,YD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-left",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}),O.createElement("line",{x1:5,y1:12,x2:11,y2:18}),O.createElement("line",{x1:5,y1:12,x2:11,y2:6}))}var ZD=["size","color","stroke"];function JD(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,ZD);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}),O.createElement("line",{x1:13,y1:18,x2:19,y2:12}),O.createElement("line",{x1:13,y1:6,x2:19,y2:12}))}var e3=["size","color","stroke"];function t3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,e3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-diagonal-minimize",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M6 10h4v-4"}),O.createElement("path",{d:"M4 4l6 6"}),O.createElement("path",{d:"M18 14h-4v4"}),O.createElement("path",{d:"M14 14l6 6"}))}var n3=["size","color","stroke"];function r3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,n3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-diagonal",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"16 4 20 4 20 8"}),O.createElement("line",{x1:14,y1:10,x2:20,y2:4}),O.createElement("polyline",{points:"8 20 4 20 4 16"}),O.createElement("line",{x1:4,y1:20,x2:10,y2:14}))}var i3=["size","color","stroke"];function o3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,i3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrows-sort",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M3 9l4 -4l4 4m-4 -4v14"}),O.createElement("path",{d:"M21 15l-4 4l-4 -4m4 4v-14"}))}var a3=["size","color","stroke"];function s3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,a3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-award",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:9,r:6}),O.createElement("path",{d:"M12.002 15.003l3.4 5.89l1.598 -3.233l3.598 .232l-3.4 -5.889"}),O.createElement("path",{d:"M6.802 12.003l-3.4 5.89l3.598 -.233l1.598 3.232l3.4 -5.889"}))}var l3=["size","color","stroke"];function u3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,l3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-braces",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"}),O.createElement("path",{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"}))}var c3=["size","color","stroke"];function f3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,c3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bug",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M9 9v-1a3 3 0 0 1 6 0v1"}),O.createElement("path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3"}),O.createElement("line",{x1:3,y1:13,x2:7,y2:13}),O.createElement("line",{x1:17,y1:13,x2:21,y2:13}),O.createElement("line",{x1:12,y1:20,x2:12,y2:14}),O.createElement("line",{x1:4,y1:19,x2:7.35,y2:17}),O.createElement("line",{x1:20,y1:19,x2:16.65,y2:17}),O.createElement("line",{x1:4,y1:7,x2:7.75,y2:9.4}),O.createElement("line",{x1:20,y1:7,x2:16.25,y2:9.4}))}var d3=["size","color","stroke"];function vE(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,d3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-check",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M5 12l5 5l10 -10"}))}var h3=["size","color","stroke"];function HL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,h3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-down",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"6 9 12 15 18 9"}))}var p3=["size","color","stroke"];function g3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,p3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"6 15 12 9 18 15"}))}var v3=["size","color","stroke"];function m3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,v3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevrons-right",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"7 7 12 12 7 17"}),O.createElement("polyline",{points:"13 7 18 12 13 17"}))}var y3=["size","color","stroke"];function w3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,y3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}))}var x3=["size","color","stroke"];function b3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,x3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-code",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"7 8 3 12 7 16"}),O.createElement("polyline",{points:"17 8 21 12 17 16"}),O.createElement("line",{x1:14,y1:4,x2:10,y2:20}))}var E3=["size","color","stroke"];function S3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,E3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-copy",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:8,y:8,width:12,height:12,rx:2}),O.createElement("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}))}var C3=["size","color","stroke"];function OT(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,C3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-device-floppy",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),O.createElement("circle",{cx:12,cy:14,r:2}),O.createElement("polyline",{points:"14 4 14 8 8 8 8 4"}))}var T3=["size","color","stroke"];function UL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,T3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-edit",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),O.createElement("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),O.createElement("path",{d:"M16 5l3 3"}))}var k3=["size","color","stroke"];function _3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,k3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:2}),O.createElement("path",{d:"M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"}))}var O3=["size","color","stroke"];function L3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,O3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eyeglass",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M8 4h-2l-3 10"}),O.createElement("path",{d:"M16 4h2l3 10"}),O.createElement("line",{x1:10,y1:16,x2:14,y2:16}),O.createElement("path",{d:"M21 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5"}),O.createElement("path",{d:"M10 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5"}))}var P3=["size","color","stroke"];function A3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,P3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-code",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),O.createElement("path",{d:"M10 13l-1 2l1 2"}),O.createElement("path",{d:"M14 13l1 2l-1 2"}))}var N3=["size","color","stroke"];function WL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,N3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-import",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))}var I3=["size","color","stroke"];function R3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,I3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-text",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),O.createElement("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),O.createElement("line",{x1:9,y1:9,x2:10,y2:9}),O.createElement("line",{x1:9,y1:13,x2:15,y2:13}),O.createElement("line",{x1:9,y1:17,x2:15,y2:17}))}var M3=["size","color","stroke"];function F3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,M3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-focus-2",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:.5,fill:"currentColor"}),O.createElement("circle",{cx:12,cy:12,r:7}),O.createElement("line",{x1:12,y1:3,x2:12,y2:5}),O.createElement("line",{x1:3,y1:12,x2:5,y2:12}),O.createElement("line",{x1:12,y1:19,x2:12,y2:21}),O.createElement("line",{x1:19,y1:12,x2:21,y2:12}))}var j3=["size","color","stroke"];function $3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,j3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-grid-dots",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:5,cy:5,r:1}),O.createElement("circle",{cx:12,cy:5,r:1}),O.createElement("circle",{cx:19,cy:5,r:1}),O.createElement("circle",{cx:5,cy:12,r:1}),O.createElement("circle",{cx:12,cy:12,r:1}),O.createElement("circle",{cx:19,cy:12,r:1}),O.createElement("circle",{cx:5,cy:19,r:1}),O.createElement("circle",{cx:12,cy:19,r:1}),O.createElement("circle",{cx:19,cy:19,r:1}))}var D3=["size","color","stroke"];function B3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,D3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-hash",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:5,y1:9,x2:19,y2:9}),O.createElement("line",{x1:5,y1:15,x2:19,y2:15}),O.createElement("line",{x1:11,y1:4,x2:7,y2:20}),O.createElement("line",{x1:17,y1:4,x2:13,y2:20}))}var z3=["size","color","stroke"];function KL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,z3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}))}var H3=["size","color","stroke"];function GL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,H3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-help",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:12,y1:17,x2:12,y2:17.01}),O.createElement("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}))}var U3=["size","color","stroke"];function W3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,U3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-indent-decrease",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:20,y1:6,x2:13,y2:6}),O.createElement("line",{x1:20,y1:12,x2:11,y2:12}),O.createElement("line",{x1:20,y1:18,x2:13,y2:18}),O.createElement("path",{d:"M8 8l-4 4l4 4"}))}var K3=["size","color","stroke"];function G3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,K3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-indent-increase",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:20,y1:6,x2:9,y2:6}),O.createElement("line",{x1:20,y1:12,x2:13,y2:12}),O.createElement("line",{x1:20,y1:18,x2:9,y2:18}),O.createElement("path",{d:"M4 8l4 4l-4 4"}))}var q3=["size","color","stroke"];function _x(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,q3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-info-circle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:12,y1:8,x2:12.01,y2:8}),O.createElement("polyline",{points:"11 12 12 12 12 16 13 16"}))}var X3=["size","color","stroke"];function V3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,X3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-layout-grid",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:6,height:6,rx:1}),O.createElement("rect",{x:14,y:4,width:6,height:6,rx:1}),O.createElement("rect",{x:4,y:14,width:6,height:6,rx:1}),O.createElement("rect",{x:14,y:14,width:6,height:6,rx:1}))}var Y3=["size","color","stroke"];function Q3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,Y3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-marquee",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 6a2 2 0 0 1 2 -2m3 0h1.5m3 0h1.5m3 0a2 2 0 0 1 2 2m0 3v1.5m0 3v1.5m0 3a2 2 0 0 1 -2 2m-3 0h-1.5m-3 0h-1.5m-3 0a2 2 0 0 1 -2 -2m0 -3v-1.5m0 -3v-1.5m0 -3"}))}var Z3=["size","color","stroke"];function J3(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,Z3);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-mood-smile",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:12,cy:12,r:9}),O.createElement("line",{x1:9,y1:10,x2:9.01,y2:10}),O.createElement("line",{x1:15,y1:10,x2:15.01,y2:10}),O.createElement("path",{d:"M9.5 15a3.5 3.5 0 0 0 5 0"}))}var e4=["size","color","stroke"];function t4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,e4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-package",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("polyline",{points:"12 3 20 7.5 20 16.5 12 21 4 16.5 4 7.5 12 3"}),O.createElement("line",{x1:12,y1:12,x2:20,y2:7.5}),O.createElement("line",{x1:12,y1:12,x2:12,y2:21}),O.createElement("line",{x1:12,y1:12,x2:4,y2:7.5}),O.createElement("line",{x1:16,y1:5.25,x2:8,y2:9.75}))}var n4=["size","color","stroke"];function r4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,n4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-player-play",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 4v16l13 -8z"}))}var i4=["size","color","stroke"];function Xf(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,i4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-plus",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:12,y1:5,x2:12,y2:19}),O.createElement("line",{x1:5,y1:12,x2:19,y2:12}))}var o4=["size","color","stroke"];function a4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,o4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-puzzle",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1"}))}var s4=["size","color","stroke"];function l4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,s4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-replace",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:3,y:3,width:6,height:6,rx:1}),O.createElement("rect",{x:15,y:15,width:6,height:6,rx:1}),O.createElement("path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"}),O.createElement("path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"}))}var u4=["size","color","stroke"];function c4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,u4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-resize",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 11v8a1 1 0 0 0 1 1h8m-9 -14v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1"}),O.createElement("path",{d:"M4 12h7a1 1 0 0 1 1 1v7"}))}var f4=["size","color","stroke"];function d4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,f4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-rocket",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),O.createElement("path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),O.createElement("circle",{cx:15,cy:9,r:1}))}var h4=["size","color","stroke"];function p4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,h4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:10,cy:10,r:7}),O.createElement("line",{x1:21,y1:21,x2:15,y2:15}))}var g4=["size","color","stroke"];function v4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,g4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),O.createElement("circle",{cx:12,cy:12,r:3}))}var m4=["size","color","stroke"];function LT(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,m4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-space",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M4 10v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-3"}))}var y4=["size","color","stroke"];function w4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,y4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square-check",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:16,height:16,rx:2}),O.createElement("path",{d:"M9 12l2 2l4 -4"}))}var x4=["size","color","stroke"];function qL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,x4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("rect",{x:4,y:4,width:16,height:16,rx:2}))}var b4=["size","color","stroke"];function E4(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,b4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-star",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"}))}var S4=["size","color","stroke"];function XL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,S4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tag",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("circle",{cx:8.5,cy:8.5,r:1,fill:"currentColor"}),O.createElement("path",{d:"M4 7v3.859c0 .537 .213 1.052 .593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834 -4.834a2.025 2.025 0 0 0 0 -2.864l-8.117 -8.116a2.025 2.025 0 0 0 -1.431 -.593h-3.859a3 3 0 0 0 -3 3z"}))}var C4=["size","color","stroke"];function VL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,C4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tags",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"}),O.createElement("path",{d:"M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"}),O.createElement("path",{d:"M6 9h-.01"}))}var T4=["size","color","stroke"];function YL(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,T4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-tool",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5"}))}var k4=["size","color","stroke"];function Zm(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,k4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:4,y1:7,x2:20,y2:7}),O.createElement("line",{x1:10,y1:11,x2:10,y2:17}),O.createElement("line",{x1:14,y1:11,x2:14,y2:17}),O.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),O.createElement("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))}var _4=["size","color","stroke"];function zp(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,_4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-writing",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),O.createElement("path",{d:"M16 7h4"}),O.createElement("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"}))}var O4=["size","color","stroke"];function No(e){var t=e.size,n=t===void 0?24:t,r=e.color,i=r===void 0?"currentColor":r,a=e.stroke,l=a===void 0?2:a,c=ct(e,O4);return O.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:n,height:n,viewBox:"0 0 24 24",strokeWidth:l,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c),O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("line",{x1:18,y1:6,x2:6,y2:18}),O.createElement("line",{x1:6,y1:6,x2:18,y2:18}))}const Hl=({children:e})=>b.jsxs("div",{className:"error-message",children:[b.jsx(UD,{}),b.jsx("div",{className:"message",children:e})]});var L4=function(e){var t,n;function r(a){var l;return(l=e.call(this,a)||this).state={hasError:!1,error:null},l}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromError=function(a){return{hasError:!0,error:a}};var i=r.prototype;return i.componentDidCatch=function(a,l){return this.props.onDidCatch(a,l)},i.render=function(){var a=this.state,l=this.props,c=l.render,p=l.children,v=l.renderError;return a.hasError?v?v({error:a.error}):null:c?c():p||null},r}(O.PureComponent),P4=function(e,t){switch(t.type){case"catch":return{didCatch:!0,error:t.error};case"reset":return{didCatch:!1,error:null};default:return e}};function My(e){var t=O.useReducer(P4,{didCatch:!1,error:null}),n=t[0],r=t[1],i=O.useRef(null);function a(){return p=function(v,m){r({type:"catch",error:v}),e&&e.onDidCatch&&e.onDidCatch(v,m)},function(v){return ft.createElement(L4,{onDidCatch:p,children:v.children,render:v.render,renderError:v.renderError})};var p}var l,c=O.useCallback(function(){i.current=a(),r({type:"reset"})},[]);return{ErrorBoundary:(l=i.current,l!==null?l:(i.current=a(),i.current)),didCatch:n.didCatch,error:n.error,reset:c}}const A4=({children:e})=>{const{ErrorBoundary:t,didCatch:n,error:r}=My();return n?b.jsx("div",{className:"global-error-boundary",children:b.jsxs("div",{children:[b.jsxs(Hl,{children:[b.jsx("p",{children:"Something went wrong and Twine can't continue."}),b.jsx("p",{children:"Please try restarting Twine or reloading the page."}),b.jsxs("p",{children:["If you see this message repeatedly, please"," ",b.jsx("a",{href:"https://twinery.org/2bugs",rel:"noreferrer",target:"_blank",children:"report a bug"}),"."]})]}),b.jsx("p",{children:"Details:"}),b.jsx("pre",{children:r.stack})]})}):b.jsx(t,{children:e})};function cc(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function N4(e,t){if(Ro(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ro(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QL(e){var t=N4(e,"string");return Ro(t)==="symbol"?t:String(t)}function mE(e,t,n){return t=QL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QL(r.key),r)}}function Fa(e,t,n){return t&&PT(e.prototype,t),n&&PT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){mE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ox={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},ZL,I4=ft.createContext();function R4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ox=NT(NT({},Ox),e)}function M4(){return Ox}var F4=function(){function e(){Ma(this,e),this.usedNamespaces={}}return Fa(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function j4(e){ZL=e}function $4(){return ZL}var D4={type:"3rdParty",init:function(t){R4(t.options.react),j4(t)}};function B4(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var IT={};function Lx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&IT[t[0]]||(typeof t[0]=="string"&&(IT[t[0]]=new Date),B4.apply(void 0,t))}function RT(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}})}function z4(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return Lx("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var l=function(p,v){var m=t.services.backendConnector.state["".concat(p,"|").concat(v)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!l(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||l(r,e)&&(!i||l(a,e)))}function H4(e){if(Array.isArray(e))return e}function U4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,l,c=[],p=!0,v=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);p=!0);}catch(m){v=!0,i=m}finally{try{if(!p&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(v)throw i}}return c}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W4(e,t){if(e){if(typeof e=="string")return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}}function K4(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G4(e,t){return H4(e)||U4(e,t)||W4(e,t)||K4()}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){mE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=O.useContext(I4)||{},i=r.i18n,a=r.defaultNS,l=n||i||$4();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new F4),!l){Lx("You will need to pass in an i18next instance by using initReactI18next");var c=function(X){return Array.isArray(X)?X[X.length-1]:X},p=[c,{},!1];return p.t=c,p.i18n={},p.ready=!1,p}l.options.react&&l.options.react.wait!==void 0&&Lx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var v=Gw(Gw(Gw({},M4()),l.options.react),t),m=v.useSuspense,x=e||a||l.options&&l.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(x);var S=(l.isInitialized||l.initializedStoreOnce)&&x.every(function(U){return z4(U,l,v)});function C(){return{t:l.getFixedT(null,v.nsMode==="fallback"?x:x[0])}}var I=O.useState(C()),$=G4(I,2),N=$[0],L=$[1],M=O.useRef(!0);O.useEffect(function(){var U=v.bindI18n,X=v.bindI18nStore;M.current=!0,!S&&!m&&RT(l,x,function(){M.current&&L(C())});function V(){M.current&&L(C())}return U&&l&&l.on(U,V),X&&l&&l.store.on(X,V),function(){M.current=!1,U&&l&&U.split(" ").forEach(function(re){return l.off(re,V)}),X&&l&&X.split(" ").forEach(function(re){return l.store.off(re,V)})}},[l,x.join()]);var B=O.useRef(!0);O.useEffect(function(){M.current&&!B.current&&L(C()),B.current=!1},[l]);var j=[N.t,l,S];if(j.t=N.t,j.i18n=l,j.ready=S,S||!S&&!m)return j;throw new Promise(function(U){RT(l,x,function(){U()})})}var Px={exports:{}};/*!@license
 * UAParser.js v0.7.28
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */(function(e,t){(function(n,r){var i="0.7.28",a="",l="?",c="function",p="undefined",v="object",m="string",x="major",S="model",C="name",I="type",$="vendor",N="version",L="architecture",M="console",B="mobile",j="tablet",U="smarttv",X="wearable",V="embedded",re=255,fe={extend:function(Ce,Te){var ye={};for(var me in Ce)Te[me]&&Te[me].length%2===0?ye[me]=Te[me].concat(Ce[me]):ye[me]=Ce[me];return ye},has:function(Ce,Te){return typeof Ce===m?Te.toLowerCase().indexOf(Ce.toLowerCase())!==-1:!1},lowerize:function(Ce){return Ce.toLowerCase()},major:function(Ce){return typeof Ce===m?Ce.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(Ce,Te){return Ce=Ce.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof Te===p?Ce:Ce.substring(0,re)}},ve={rgx:function(Ce,Te){for(var ye=0,me,be,te,oe,we,ne;ye<Te.length&&!we;){var le=Te[ye],pe=Te[ye+1];for(me=be=0;me<le.length&&!we;)if(we=le[me++].exec(Ce),we)for(te=0;te<pe.length;te++)ne=we[++be],oe=pe[te],typeof oe===v&&oe.length>0?oe.length==2?typeof oe[1]==c?this[oe[0]]=oe[1].call(this,ne):this[oe[0]]=oe[1]:oe.length==3?typeof oe[1]===c&&!(oe[1].exec&&oe[1].test)?this[oe[0]]=ne?oe[1].call(this,ne,oe[2]):r:this[oe[0]]=ne?ne.replace(oe[1],oe[2]):r:oe.length==4&&(this[oe[0]]=ne?oe[3].call(this,ne.replace(oe[1],oe[2])):r):this[oe]=ne||r;ye+=2}},str:function(Ce,Te){for(var ye in Te)if(typeof Te[ye]===v&&Te[ye].length>0){for(var me=0;me<Te[ye].length;me++)if(fe.has(Te[ye][me],Ce))return ye===l?r:ye}else if(fe.has(Te[ye],Ce))return ye===l?r:ye;return Ce}},xe={browser:{oldSafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{"0.1":"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},ze={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[C,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[C,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[C,N],[/opios[\/\s]+([\w\.]+)/i],[N,[C,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[N,[C,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[C,N],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[N,[C,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[N,[C,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[N,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[C,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[N,[C,"IE"]],[/yabrowser\/([\w\.]+)/i],[N,[C,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure Browser"],N],[/focus\/([\w\.]+)/i],[N,[C,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[N,[C,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[N,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[C,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[N,[C,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[N,[C,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[C,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1 Browser"],N],[/(comodo_dragon)\/([\w\.]+)/i],[[C,/_/g," "],N],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[C,N],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[C],[/;fbav\/([\w\.]+);/i],[N,[C,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[C,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[C,N],[/\bgsa\/([\w\.]+)\s.*safari\//i],[N,[C,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[N,[C,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[C,"Chrome WebView"],N],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[N,[C,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[C,N],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[N,[C,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[N,C],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[C,[N,ve.str,xe.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[C,N],[/(navigator|netscape)\/([\w\.-]+)/i],[[C,"Netscape"],N],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[N,[C,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[C,N]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[L,"amd64"]],[/(ia32(?=;))/i],[[L,fe.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[L,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[L,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[L,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[L,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[L,/ower/,"",fe.lowerize]],[/(sun4\w)[;\)]/i],[[L,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[L,fe.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[S,[$,"Samsung"],[I,j]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[S,[$,"Samsung"],[I,B]],[/\((ip(?:hone|od)[\s\w]*);/i],[S,[$,"Apple"],[I,B]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[$,"Apple"],[I,j]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[S,[$,"Huawei"],[I,j]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[S,[$,"Huawei"],[I,B]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[S,/_/g," "],[$,"Xiaomi"],[I,B]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[S,/_/g," "],[$,"Xiaomi"],[I,j]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[S,[$,"OPPO"],[I,B]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[S,[$,"Vivo"],[I,B]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[S,[$,"Realme"],[I,B]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[S,[$,"Motorola"],[I,B]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[S,[$,"Motorola"],[I,j]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[S,[$,"LG"],[I,j]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[S,[$,"LG"],[I,B]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[S,[$,"Lenovo"],[I,j]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[S,/_/g," "],[$,"Nokia"],[I,B]],[/droid.+;\s(pixel\sc)[\s)]/i],[S,[$,"Google"],[I,j]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[S,[$,"Google"],[I,B]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[$,"Sony"],[I,B]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[S,"Xperia Tablet"],[$,"Sony"],[I,j]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[S,[$,"OnePlus"],[I,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[S,[$,"Amazon"],[I,j]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[S,"Fire Phone"],[$,"Amazon"],[I,B]],[/\((playbook);[\w\s\),;-]+(rim)/i],[S,$,[I,j]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[S,[$,"BlackBerry"],[I,B]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[S,[$,"ASUS"],[I,j]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[S,[$,"ASUS"],[I,B]],[/(nexus\s9)/i],[S,[$,"HTC"],[I,j]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[$,[S,/_/g," "],[I,B]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[S,[$,"Acer"],[I,j]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[S,[$,"Meizu"],[I,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[$,S,[I,B]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[$,S,[I,j]],[/\s(surface\sduo)\s/i],[S,[$,"Microsoft"],[I,j]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[S,[$,"Fairphone"],[I,B]],[/\s(u304aa)\sbuild/i],[S,[$,"AT&T"],[I,B]],[/sie-(\w*)/i],[S,[$,"Siemens"],[I,B]],[/[;\/]\s?(rct\w+)\sbuild/i],[S,[$,"RCA"],[I,j]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[S,[$,"Dell"],[I,j]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[S,[$,"Verizon"],[I,j]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[S,[$,"Barnes & Noble"],[I,j]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[S,[$,"NuVision"],[I,j]],[/;\s(k88)\sbuild/i],[S,[$,"ZTE"],[I,j]],[/;\s(nx\d{3}j)\sbuild/i],[S,[$,"ZTE"],[I,B]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[S,[$,"Swiss"],[I,B]],[/[;\/]\s?(zur\d{3})\sbuild/i],[S,[$,"Swiss"],[I,j]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[S,[$,"Zeki"],[I,j]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[$,"Dragon Touch"],S,[I,j]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[S,[$,"Insignia"],[I,j]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[S,[$,"NextBook"],[I,j]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[$,"Voice"],S,[I,B]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[$,"LvTel"],S,[I,B]],[/;\s(ph-1)\s/i],[S,[$,"Essential"],[I,B]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[S,[$,"Envizen"],[I,j]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[S,[$,"MachSpeed"],[I,j]],[/[;\/]\s?tu_(1491)\sbuild/i],[S,[$,"Rotor"],[I,j]],[/(shield[\w\s]+)\sbuild/i],[S,[$,"Nvidia"],[I,j]],[/(sprint)\s(\w+)/i],[$,S,[I,B]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[$,"Microsoft"],[I,B]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[$,"Zebra"],[I,j]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[$,"Zebra"],[I,B]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[$,S,[I,M]],[/droid.+;\s(shield)\sbuild/i],[S,[$,"Nvidia"],[I,M]],[/(playstation\s[345portablevi]+)/i],[S,[$,"Sony"],[I,M]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[S,[$,"Microsoft"],[I,M]],[/smart-tv.+(samsung)/i],[$,[I,U]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[$,"Samsung"],[I,U]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[$,"LG"],[I,U]],[/(apple)\s?tv/i],[$,[S,"Apple TV"],[I,U]],[/crkey/i],[[S,"Chromecast"],[$,"Google"],[I,U]],[/droid.+aft([\w])(\sbuild\/|\))/i],[S,[$,"Amazon"],[I,U]],[/\(dtv[\);].+(aquos)/i],[S,[$,"Sharp"],[I,U]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[$,fe.trim],[S,fe.trim],[I,U]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[I,U]],[/((pebble))app\/[\d\.]+\s/i],[$,S,[I,X]],[/droid.+;\s(glass)\s\d/i],[S,[$,"Google"],[I,X]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[S,[$,"Zebra"],[I,X]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[$,[I,V]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[S,[I,B]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[S,[I,j]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[I,fe.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[S,[$,"Generic"]],[/(phone)/i],[[I,B]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[N,[C,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[C,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,C]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[C,N],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[C,[N,ve.str,xe.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[C,"Windows"],[N,ve.str,xe.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[C,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[C,"Mac OS"],[N,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[C,N],[/\(bb(10);/i],[N,[C,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[N,[C,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[C,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[C,"webOS"]],[/crkey\/([\d\.]+)/i],[N,[C,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[C,"Chromium OS"],N],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[C,N],[/(sunos)\s?([\w\.\d]*)/i],[[C,"Solaris"],N],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[C,N]]},J=function(Ce,Te){if(typeof Ce=="object"&&(Te=Ce,Ce=r),!(this instanceof J))return new J(Ce,Te).getResult();var ye=Ce||(typeof n<"u"&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a),me=Te?fe.extend(ze,Te):ze;return this.getBrowser=function(){var be={name:r,version:r};return ve.rgx.call(be,ye,me.browser),be.major=fe.major(be.version),be},this.getCPU=function(){var be={architecture:r};return ve.rgx.call(be,ye,me.cpu),be},this.getDevice=function(){var be={vendor:r,model:r,type:r};return ve.rgx.call(be,ye,me.device),be},this.getEngine=function(){var be={name:r,version:r};return ve.rgx.call(be,ye,me.engine),be},this.getOS=function(){var be={name:r,version:r};return ve.rgx.call(be,ye,me.os),be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ye},this.setUA=function(be){return ye=typeof be===m&&be.length>re?fe.trim(be,re):be,this},this.setUA(ye),this};J.VERSION=i,J.BROWSER={NAME:C,MAJOR:x,VERSION:N},J.CPU={ARCHITECTURE:L},J.DEVICE={MODEL:S,VENDOR:$,TYPE:I,CONSOLE:M,MOBILE:B,SMARTTV:U,TABLET:j,WEARABLE:X,EMBEDDED:V},J.ENGINE={NAME:C,VERSION:N},J.OS={NAME:C,VERSION:N},e.exports&&(t=e.exports=J),t.UAParser=J;var Q=typeof n<"u"&&(n.jQuery||n.Zepto);if(Q&&!Q.ua){var G=new J;Q.ua=G.getResult(),Q.ua.get=function(){return G.getUA()},Q.ua.set=function(Ce){G.setUA(Ce);var Te=G.getResult();for(var ye in Te)Q.ua[ye]=Te[ye]}}})(typeof window=="object"?window:Pn)})(Px,Px.exports);var q4=Px.exports;const X4=Sn(q4);var JL={exports:{}};/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var l=typeof a;if(l==="string"||l==="number")r.push(a);else if(Array.isArray(a)&&a.length){var c=n.apply(null,a);c&&r.push(c)}else if(l==="object")for(var p in a)t.call(a,p)&&a[p]&&r.push(p)}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(JL);var eP=JL.exports;const ir=Sn(eP);const An=e=>{var t;return b.jsx("div",{className:ir("button-bar","orientation-".concat((t=e.orientation)!=null?t:"horizontal")),children:e.children})};const V4=()=>b.jsx("div",{className:"button-bar-separator"});const Ul=e=>{const{children:t,floating:n,highlighted:r}=e,i=ir("card",{floating:n,highlighted:r});return b.jsx("div",{className:i,children:t})};const _r=({children:e})=>b.jsx("div",{className:"card-content",children:e});const up=e=>{const{href:t,icon:n,label:r,target:i,variant:a}=e,l=ir("icon-link","variant-".concat(a));return b.jsxs("a",{href:t,className:l,target:i!=null?i:"_blank",children:[b.jsx("span",{className:"icon",children:n}),r]})};const Y4=e=>{const{t}=qe(),n=new X4().getBrowser();if(n.name!=="Safari")return null;if(n.version){const a=parseInt(n.version.replace(/\..*/,""));if(Number.isFinite(a)&&a<13)return null}const r=window.navigator;if(r.standalone)return null;const i=r.standalone!==void 0;return b.jsx("div",{className:"safari-warning-card",children:b.jsxs(Ul,{children:[b.jsxs(Hl,{children:[b.jsx("p",{children:t("components.safariWarningCard.message")}),i&&b.jsx("p",{children:t("components.safariWarningCard.addToHomeScreen")}),b.jsx("p",{children:t("components.safariWarningCard.archiveAndUseAnotherBrowser")})]}),b.jsxs(An,{children:[b.jsx(up,{href:"https://twinery.org/2ioslocalstorage",icon:b.jsx(_x,{}),label:t("components.safariWarningCard.learnMore"),variant:"primary"}),i&&b.jsx(up,{href:"https://twinery.org/2ioshomescreen",icon:b.jsx(_x,{}),label:t("components.safariWarningCard.howToAddToHomeScreen")})]})]})})},jT=()=>b.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"});const tP=()=>b.jsx("span",{className:"icon-loading",children:b.jsx(w3,{})}),Q4=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),b.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),b.jsx("circle",{cx:"10",cy:"12",r:"0.5"}),b.jsx("circle",{cx:"14",cy:"12",r:"0.5"}),b.jsx("circle",{cx:"10",cy:"16",r:"0.5"}),b.jsx("circle",{cx:"14",cy:"16",r:"0.5"})]}),Z4=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1200 1200",width:"1200",height:"1200",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"b",children:[b.jsx("stop",{offset:"0",stopColor:"#127aee"}),b.jsx("stop",{offset:"1",stopColor:"#117aef",stopOpacity:".251"})]}),b.jsxs("linearGradient",{id:"a",children:[b.jsx("stop",{offset:"0",stopColor:"#10f05e",stopOpacity:".251"}),b.jsx("stop",{offset:"1",stopColor:"#10f05e"})]}),b.jsx("linearGradient",{xlinkHref:"#a",id:"d",x1:"52",y1:"604.362",x2:"972",y2:"604.362",gradientUnits:"userSpaceOnUse"}),b.jsx("linearGradient",{xlinkHref:"#b",id:"c",x1:"256",y1:"0",x2:"231.987",y2:"725.548",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0 28.362)"})]}),b.jsx("path",{fill:"url(#c)",d:"M64 28.362h384v1024H64z",transform:"translate(88 59.638)"}),b.jsx("path",{d:"M64 860.362c0-704 896-704 896-704v384s-512 0-512 320v192H64z",fill:"url(#d)",transform:"translate(88 59.638)"})]});const nP=()=>b.jsx("div",{className:"loading-curtain",children:b.jsx(tP,{})});function pr(e,t){return{type:"update",name:e,value:t}}const Vf=()=>({appTheme:"system",codeEditorFontFamily:"var(--font-monospaced)",codeEditorFontScale:1,dialogWidth:600,disabledStoryFormatEditorExtensions:[],donateShown:!1,editorCursorBlinks:!0,firstRunTime:new Date().getTime(),lastUpdateSeen:"",lastUpdateCheckTime:new Date().getTime(),locale:window.navigator.userLanguage||window.navigator.language||window.navigator.browserLanguage||window.navigator.systemLanguage||"en-us",passageEditorFontFamily:"var(--font-system)",passageEditorFontScale:1,proofingFormat:{name:"Paperthin",version:"1.0.0"},storyFormat:{name:"Harlowe",version:"3.3.7"},storyFormatListFilter:"current",storyListSort:"name",storyListTagFilter:[],storyTagColors:{},welcomeSeen:!1});function yE(e,t,n){return e.disabledStoryFormatEditorExtensions.some(r=>r.name===t&&r.version===n)}async function J4(){const{twineElectron:e}=window,t={},n=Object.keys(Vf());if(!e)throw new Error("Electron bridge is not present on window.");const r=await e.loadPrefs();if(r&&typeof r=="object")for(const i in r)n.includes(i)&&(t[i]=r[i]);return t}function rP(e,t){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");n.saveJson(e,t)}function eB(e,t){(t.type==="repair"||t.type==="update")&&rP("prefs.json",e)}function tB(e){return e}var Fy=tB;function nB(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var rB=nB,iB=rB,$T=Math.max;function oB(e,t,n){return t=$T(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=$T(r.length-t,0),l=Array(a);++i<a;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),iB(e,this,c)}}var aB=oB;function sB(e){return function(){return e}}var lB=sB,uB=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,iP=uB,cB=iP,fB=typeof self=="object"&&self&&self.Object===Object&&self,dB=cB||fB||Function("return this")(),Is=dB,hB=Is,pB=hB.Symbol,Hp=pB,DT=Hp,oP=Object.prototype,gB=oP.hasOwnProperty,vB=oP.toString,yh=DT?DT.toStringTag:void 0;function mB(e){var t=gB.call(e,yh),n=e[yh];try{e[yh]=void 0;var r=!0}catch{}var i=vB.call(e);return r&&(t?e[yh]=n:delete e[yh]),i}var yB=mB,wB=Object.prototype,xB=wB.toString;function bB(e){return xB.call(e)}var EB=bB,BT=Hp,SB=yB,CB=EB,TB="[object Null]",kB="[object Undefined]",zT=BT?BT.toStringTag:void 0;function _B(e){return e==null?e===void 0?kB:TB:zT&&zT in Object(e)?SB(e):CB(e)}var Up=_B;function OB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wp=OB,LB=Up,PB=Wp,AB="[object AsyncFunction]",NB="[object Function]",IB="[object GeneratorFunction]",RB="[object Proxy]";function MB(e){if(!PB(e))return!1;var t=LB(e);return t==NB||t==IB||t==AB||t==RB}var aP=MB,FB=Is,jB=FB["__core-js_shared__"],$B=jB,qw=$B,HT=function(){var e=/[^.]+$/.exec(qw&&qw.keys&&qw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DB(e){return!!HT&&HT in e}var BB=DB,zB=Function.prototype,HB=zB.toString;function UB(e){if(e!=null){try{return HB.call(e)}catch{}try{return e+""}catch{}}return""}var sP=UB,WB=aP,KB=BB,GB=Wp,qB=sP,XB=/[\\^$.*+?()[\]{}|]/g,VB=/^\[object .+?Constructor\]$/,YB=Function.prototype,QB=Object.prototype,ZB=YB.toString,JB=QB.hasOwnProperty,ez=RegExp("^"+ZB.call(JB).replace(XB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tz(e){if(!GB(e)||KB(e))return!1;var t=WB(e)?ez:VB;return t.test(qB(e))}var nz=tz;function rz(e,t){return e==null?void 0:e[t]}var iz=rz,oz=nz,az=iz;function sz(e,t){var n=az(e,t);return oz(n)?n:void 0}var fc=sz,lz=fc,uz=function(){try{var e=lz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cz=uz,fz=lB,UT=cz,dz=Fy,hz=UT?function(e,t){return UT(e,"toString",{configurable:!0,enumerable:!1,value:fz(t),writable:!0})}:dz,pz=hz,gz=800,vz=16,mz=Date.now;function yz(e){var t=0,n=0;return function(){var r=mz(),i=vz-(r-n);if(n=r,i>0){if(++t>=gz)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wz=yz,xz=pz,bz=wz,Ez=bz(xz),Sz=Ez,Cz=Fy,Tz=aB,kz=Sz;function _z(e,t){return kz(Tz(e,t,Cz),e+"")}var lP=_z;function Oz(e,t){return e===t||e!==e&&t!==t}var jy=Oz,Lz=9007199254740991;function Pz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lz}var wE=Pz,Az=aP,Nz=wE;function Iz(e){return e!=null&&Nz(e.length)&&!Az(e)}var Kp=Iz,Rz=9007199254740991,Mz=/^(?:0|[1-9]\d*)$/;function Fz(e,t){var n=typeof e;return t=t==null?Rz:t,!!t&&(n=="number"||n!="symbol"&&Mz.test(e))&&e>-1&&e%1==0&&e<t}var xE=Fz,jz=jy,$z=Kp,Dz=xE,Bz=Wp;function zz(e,t,n){if(!Bz(n))return!1;var r=typeof t;return(r=="number"?$z(n)&&Dz(t,n.length):r=="string"&&t in n)?jz(n[t],e):!1}var uP=zz;function Hz(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Uz=Hz;function Wz(e){return e!=null&&typeof e=="object"}var Gp=Wz,Kz=Up,Gz=Gp,qz="[object Arguments]";function Xz(e){return Gz(e)&&Kz(e)==qz}var Vz=Xz,WT=Vz,Yz=Gp,cP=Object.prototype,Qz=cP.hasOwnProperty,Zz=cP.propertyIsEnumerable,Jz=WT(function(){return arguments}())?WT:function(e){return Yz(e)&&Qz.call(e,"callee")&&!Zz.call(e,"callee")},bE=Jz,eH=Array.isArray,ja=eH,Jm={exports:{}};function tH(){return!1}var nH=tH;Jm.exports;(function(e,t){var n=Is,r=nH,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===i,c=l?n.Buffer:void 0,p=c?c.isBuffer:void 0,v=p||r;e.exports=v})(Jm,Jm.exports);var fP=Jm.exports,rH=Up,iH=wE,oH=Gp,aH="[object Arguments]",sH="[object Array]",lH="[object Boolean]",uH="[object Date]",cH="[object Error]",fH="[object Function]",dH="[object Map]",hH="[object Number]",pH="[object Object]",gH="[object RegExp]",vH="[object Set]",mH="[object String]",yH="[object WeakMap]",wH="[object ArrayBuffer]",xH="[object DataView]",bH="[object Float32Array]",EH="[object Float64Array]",SH="[object Int8Array]",CH="[object Int16Array]",TH="[object Int32Array]",kH="[object Uint8Array]",_H="[object Uint8ClampedArray]",OH="[object Uint16Array]",LH="[object Uint32Array]",vn={};vn[bH]=vn[EH]=vn[SH]=vn[CH]=vn[TH]=vn[kH]=vn[_H]=vn[OH]=vn[LH]=!0;vn[aH]=vn[sH]=vn[wH]=vn[lH]=vn[xH]=vn[uH]=vn[cH]=vn[fH]=vn[dH]=vn[hH]=vn[pH]=vn[gH]=vn[vH]=vn[mH]=vn[yH]=!1;function PH(e){return oH(e)&&iH(e.length)&&!!vn[rH(e)]}var AH=PH;function NH(e){return function(t){return e(t)}}var dP=NH,ey={exports:{}};ey.exports;(function(e,t){var n=iP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,l=a&&n.process,c=function(){try{var p=i&&i.require&&i.require("util").types;return p||l&&l.binding&&l.binding("util")}catch{}}();e.exports=c})(ey,ey.exports);var IH=ey.exports,RH=AH,MH=dP,KT=IH,GT=KT&&KT.isTypedArray,FH=GT?MH(GT):RH,hP=FH,jH=Uz,$H=bE,DH=ja,BH=fP,zH=xE,HH=hP,UH=Object.prototype,WH=UH.hasOwnProperty;function KH(e,t){var n=DH(e),r=!n&&$H(e),i=!n&&!r&&BH(e),a=!n&&!r&&!i&&HH(e),l=n||r||i||a,c=l?jH(e.length,String):[],p=c.length;for(var v in e)(t||WH.call(e,v))&&!(l&&(v=="length"||i&&(v=="offset"||v=="parent")||a&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||zH(v,p)))&&c.push(v);return c}var pP=KH,GH=Object.prototype;function qH(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||GH;return e===n}var gP=qH;function XH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var VH=XH,YH=Wp,QH=gP,ZH=VH,JH=Object.prototype,e6=JH.hasOwnProperty;function t6(e){if(!YH(e))return ZH(e);var t=QH(e),n=[];for(var r in e)r=="constructor"&&(t||!e6.call(e,r))||n.push(r);return n}var n6=t6,r6=pP,i6=n6,o6=Kp;function a6(e){return o6(e)?r6(e,!0):i6(e)}var s6=a6,l6=lP,u6=jy,c6=uP,f6=s6,vP=Object.prototype,d6=vP.hasOwnProperty,h6=l6(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&c6(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],l=f6(a),c=-1,p=l.length;++c<p;){var v=l[c],m=e[v];(m===void 0||u6(m,vP[v])&&!d6.call(e,v))&&(e[v]=a[v])}return e}),p6=h6;const qT=Sn(p6);var g6=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t};const mn=Sn(g6);function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.forEach(function(i){mE(e,i,n[i])})}return e}function Fl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fl(e)}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(e)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ty(e,t)}function $y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}var v6={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},m6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ma(this,e),this.init(t,n)}return Fa(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||v6,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,a){return a&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,Br({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]),e}(),ks=new m6,jl=function(){function e(){Ma(this,e),this.observers={}}return Fa(e,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.observers[n]){var l=[].concat(this.observers[n]);l.forEach(function(p){p.apply(void 0,i)})}if(this.observers["*"]){var c=[].concat(this.observers["*"]);c.forEach(function(p){p.apply(p,[n].concat(i))})}}}]),e}();function wh(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}function XT(e){return e==null?"":""+e}function y6(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function EE(e,t,n){function r(c){return c&&c.indexOf("###")>-1?c.replace(/###/g,"."):c}function i(){return!e||typeof e=="string"}for(var a=typeof t!="string"?[].concat(t):t.split(".");a.length>1;){if(i())return{};var l=r(a.shift());!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={}}return i()?{}:{obj:e,k:r(a.shift())}}function VT(e,t,n){var r=EE(e,t,Object),i=r.obj,a=r.k;i[a]=n}function w6(e,t,n,r){var i=EE(e,t,Object),a=i.obj,l=i.k;a[l]=a[l]||[],r&&(a[l]=a[l].concat(n)),r||a[l].push(n)}function ny(e,t){var n=EE(e,t),r=n.obj,i=n.k;if(r)return r[i]}function YT(e,t,n){var r=ny(e,n);return r!==void 0?r:ny(t,n)}function mP(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):mP(e[r],t[r],n):e[r]=t[r]);return e}function pf(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var x6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function b6(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return x6[t]}):e}var Dy=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,E6=function(e){$y(t,e);function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ma(this,t),r=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(r)),r.data=n||{},r.options=i,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r}return Fa(t,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var i=this.options.ns.indexOf(r);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,p=[r,i];return a&&typeof a!="string"&&(p=p.concat(a)),a&&typeof a=="string"&&(p=p.concat(c?a.split(c):a)),r.indexOf(".")>-1&&(p=r.split(".")),ny(this.data,p)}},{key:"addResource",value:function(r,i,a,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},p=this.options.keySeparator;p===void 0&&(p=".");var v=[r,i];a&&(v=v.concat(p?a.split(p):a)),r.indexOf(".")>-1&&(v=r.split("."),l=i,i=v[1]),this.addNamespaces(i),VT(this.data,v,l),c.silent||this.emit("added",r,i,a,l)}},{key:"addResources",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in a)(typeof a[c]=="string"||Object.prototype.toString.apply(a[c])==="[object Array]")&&this.addResource(r,i,c,a[c],{silent:!0});l.silent||this.emit("added",r,i,a)}},{key:"addResourceBundle",value:function(r,i,a,l,c){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},v=[r,i];r.indexOf(".")>-1&&(v=r.split("."),l=a,a=i,i=v[1]),this.addNamespaces(i);var m=ny(this.data,v)||{};l?mP(m,a,c):m=Br({},m,a),VT(this.data,v,m),p.silent||this.emit("added",r,i,a)}},{key:"removeResourceBundle",value:function(r,i){this.hasResourceBundle(r,i)&&delete this.data[r][i],this.removeNamespaces(i),this.emit("removed",r,i)}},{key:"hasResourceBundle",value:function(r,i){return this.getResource(r,i)!==void 0}},{key:"getResourceBundle",value:function(r,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Br({},{},this.getResource(r,i)):this.getResource(r,i)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"toJSON",value:function(){return this.data}}]),t}(jl),yP={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,i,a){var l=this;return t.forEach(function(c){l.processors[c]&&(n=l.processors[c].process(n,r,i,a))}),n}},QT={},ZT=function(e){$y(t,e);function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ma(this,t),r=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(r)),y6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Fl(r)),r.options=i,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=ks.create("translator"),r}return Fa(t,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=this.resolve(r,i);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(r,i){var a=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ns||this.options.defaultNS;if(a&&r.indexOf(a)>-1){var p=r.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:r,namespaces:c};var v=r.split(a);(a!==l||a===l&&this.options.ns.indexOf(v[0])>-1)&&(c=v.shift()),r=v.join(l)}return typeof c=="string"&&(c=[c]),{key:r,namespaces:c}}},{key:"translate",value:function(r,i,a){var l=this;if(Ro(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,p=this.extractFromKey(r[r.length-1],i),v=p.key,m=p.namespaces,x=m[m.length-1],S=i.lng||this.language,C=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(S&&S.toLowerCase()==="cimode"){if(C){var I=i.nsSeparator||this.options.nsSeparator;return x+I+v}return v}var $=this.resolve(r,i),N=$&&$.res,L=$&&$.usedKey||v,M=$&&$.exactUsedKey||v,B=Object.prototype.toString.apply(N),j=["[object Number]","[object Function]","[object RegExp]"],U=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,X=!this.i18nFormat||this.i18nFormat.handleAsObject,V=typeof N!="string"&&typeof N!="boolean"&&typeof N!="number";if(X&&N&&V&&j.indexOf(B)<0&&!(typeof U=="string"&&B==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,N,i):"key '".concat(v," (").concat(this.language,")' returned an object instead of string.");if(c){var re=B==="[object Array]",fe=re?[]:{},ve=re?M:L;for(var xe in N)if(Object.prototype.hasOwnProperty.call(N,xe)){var ze="".concat(ve).concat(c).concat(xe);fe[xe]=this.translate(ze,Br({},i,{joinArrays:!1,ns:m})),fe[xe]===ze&&(fe[xe]=N[xe])}N=fe}}else if(X&&typeof U=="string"&&B==="[object Array]")N=N.join(U),N&&(N=this.extendTranslation(N,r,i,a));else{var J=!1,Q=!1,G=i.count!==void 0&&typeof i.count!="string",Ce=t.hasDefaultValue(i),Te=G?this.pluralResolver.getSuffix(S,i.count):"",ye=i["defaultValue".concat(Te)]||i.defaultValue;!this.isValidLookup(N)&&Ce&&(J=!0,N=ye),this.isValidLookup(N)||(Q=!0,N=v);var me=Ce&&ye!==N&&this.options.updateMissing;if(Q||J||me){if(this.logger.log(me?"updateKey":"missingKey",S,x,v,me?ye:N),c){var be=this.resolve(v,Br({},i,{keySeparator:!1}));be&&be.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var te=[],oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(var we=0;we<oe.length;we++)te.push(oe[we]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);var ne=function(pe,_e,Ne){l.options.missingKeyHandler?l.options.missingKeyHandler(pe,x,_e,me?Ne:N,me,i):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(pe,x,_e,me?Ne:N,me,i),l.emit("missingKey",pe,x,_e,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&G?te.forEach(function(le){l.pluralResolver.getSuffixes(le).forEach(function(pe){ne([le],v+pe,i["defaultValue".concat(pe)]||ye)})}):ne(te,v,ye))}N=this.extendTranslation(N,r,i,$,a),Q&&N===v&&this.options.appendNamespaceToMissingKey&&(N="".concat(x,":").concat(v)),Q&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(N))}return N}},{key:"extendTranslation",value:function(r,i,a,l,c){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,a,l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Br({},a,{interpolation:Br({},this.options.interpolation,a.interpolation)}));var v=a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,m;if(v){var x=r.match(this.interpolator.nestingRegexp);m=x&&x.length}var S=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(S=Br({},this.options.interpolation.defaultVariables,S)),r=this.interpolator.interpolate(r,S,a.lng||this.language,a),v){var C=r.match(this.interpolator.nestingRegexp),I=C&&C.length;m<I&&(a.nest=!1)}a.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var L=arguments.length,M=new Array(L),B=0;B<L;B++)M[B]=arguments[B];return c&&c[0]===M[0]&&!a.context?(p.logger.warn("It seems you are nesting recursively key: ".concat(M[0]," in key: ").concat(i[0])),null):p.translate.apply(p,M.concat([i]))},a)),a.interpolation&&this.interpolator.reset()}var $=a.postProcess||this.options.postProcess,N=typeof $=="string"?[$]:$;return r!=null&&N&&N.length&&a.applyPostProcessor!==!1&&(r=yP.handle(N,r,i,this.options&&this.options.postProcessPassResolved?Br({i18nResolved:l},a):a,this)),r}},{key:"resolve",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,c,p,v,m;return typeof r=="string"&&(r=[r]),r.forEach(function(x){if(!i.isValidLookup(l)){var S=i.extractFromKey(x,a),C=S.key;c=C;var I=S.namespaces;i.options.fallbackNS&&(I=I.concat(i.options.fallbackNS));var $=a.count!==void 0&&typeof a.count!="string",N=a.context!==void 0&&typeof a.context=="string"&&a.context!=="",L=a.lngs?a.lngs:i.languageUtils.toResolveHierarchy(a.lng||i.language,a.fallbackLng);I.forEach(function(M){i.isValidLookup(l)||(m=M,!QT["".concat(L[0],"-").concat(M)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(m)&&(QT["".concat(L[0],"-").concat(M)]=!0,i.logger.warn('key "'.concat(c,'" for languages "').concat(L.join(", "),'" won\'t get resolved as namespace "').concat(m,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(function(B){if(!i.isValidLookup(l)){v=B;var j=C,U=[j];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(U,C,B,M,a);else{var X;$&&(X=i.pluralResolver.getSuffix(B,a.count)),$&&N&&U.push(j+X),N&&U.push(j+="".concat(i.options.contextSeparator).concat(a.context)),$&&U.push(j+=X)}for(var V;V=U.pop();)i.isValidLookup(l)||(p=V,l=i.getResource(B,M,V,a))}}))})}}),{res:l,usedKey:c,exactUsedKey:p,usedLng:v,usedNS:m}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,i,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,i,a,l):this.resourceStore.getResource(r,i,a,l)}}],[{key:"hasDefaultValue",value:function(r){var i="defaultValue";for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&i===a.substring(0,i.length)&&r[a]!==void 0)return!0;return!1}}]),t}(jl);function Xw(e){return e.charAt(0).toUpperCase()+e.slice(1)}var S6=function(){function e(t){Ma(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ks.create("languageUtils")}return Fa(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Xw(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Xw(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Xw(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isWhitelisted",value:function(n){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(n)}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(a){if(!i){var l=r.formatLanguageCode(a);(!r.options.supportedLngs||r.isSupportedCode(l))&&(i=l)}}),!i&&this.options.supportedLngs&&n.forEach(function(a){if(!i){var l=r.getLanguagePartFromCode(a);if(r.isSupportedCode(l))return i=l;i=r.options.supportedLngs.find(function(c){if(c.indexOf(l)===0)return c})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,a=this.getFallbackCodes(r||this.options.fallbackLng||[],n),l=[],c=function(v){v&&(i.isSupportedCode(v)?l.push(v):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(v)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(n))):typeof n=="string"&&c(this.formatLanguageCode(n)),a.forEach(function(p){l.indexOf(p)<0&&c(i.formatLanguageCode(p))}),l}}]),e}(),C6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],T6={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function k6(){var e={};return C6.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:T6[t.fc]}})}),e}var _6=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ma(this,e),this.languageUtils=t,this.options=n,this.logger=ks.create("pluralResolver"),this.rules=k6()}return Fa(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=this.getRule(n);return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){return this.getSuffixes(n).map(function(i){return r+i})}},{key:"getSuffixes",value:function(n){var r=this,i=this.getRule(n);return i?i.numbers.map(function(a){return r.getSuffix(n,a)}):[]}},{key:"getSuffix",value:function(n,r){var i=this,a=this.getRule(n);if(a){var l=a.noAbs?a.plurals(r):a.plurals(Math.abs(r)),c=a.numbers[l];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));var p=function(){return i.options.prepend&&c.toString()?i.options.prepend+c.toString():c.toString()};return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?"_plural_".concat(c.toString()):p():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?p():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}return this.logger.warn("no plural rule found for: ".concat(n)),""}}]),e}(),O6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ma(this,e),this.logger=ks.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Fa(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:b6,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?pf(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?pf(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?pf(r.nestingPrefix):r.nestingPrefixEscaped||pf("$t("),this.nestingSuffix=r.nestingSuffix?pf(r.nestingSuffix):r.nestingSuffixEscaped||pf(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,a){var l=this,c,p,v,m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function x(N){return N.replace(/\$/g,"$$$$")}var S=function(L){if(L.indexOf(l.formatSeparator)<0){var M=YT(r,m,L);return l.alwaysFormat?l.format(M,void 0,i):M}var B=L.split(l.formatSeparator),j=B.shift().trim(),U=B.join(l.formatSeparator).trim();return l.format(YT(r,m,j),U,i,a)};this.resetRegExp();var C=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,I=a&&a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,$=[{regex:this.regexpUnescape,safeValue:function(L){return x(L)}},{regex:this.regexp,safeValue:function(L){return l.escapeValue?x(l.escape(L)):x(L)}}];return $.forEach(function(N){for(v=0;c=N.regex.exec(n);){if(p=S(c[1].trim()),p===void 0)if(typeof C=="function"){var L=C(n,c,a);p=typeof L=="string"?L:""}else if(I){p=c[0];continue}else l.logger.warn("missed to pass in variable ".concat(c[1]," for interpolating ").concat(n)),p="";else typeof p!="string"&&!l.useRawValueToEscape&&(p=XT(p));if(n=n.replace(c[0],N.safeValue(p)),N.regex.lastIndex=0,v++,v>=l.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l,c,p=Br({},a);p.applyPostProcessor=!1,delete p.defaultValue;function v(C,I){var $=this.nestingOptionsSeparator;if(C.indexOf($)<0)return C;var N=C.split(new RegExp("".concat($,"[ ]*{"))),L="{".concat(N[1]);C=N[0],L=this.interpolate(L,p),L=L.replace(/'/g,'"');try{p=JSON.parse(L),I&&(p=Br({},I,p))}catch(M){return this.logger.warn("failed parsing options string in nesting for key ".concat(C),M),"".concat(C).concat($).concat(L)}return delete p.defaultValue,C}for(;l=this.nestingRegexp.exec(n);){var m=[],x=!1;if(l[0].includes(this.formatSeparator)&&!/{.*}/.test(l[1])){var S=l[1].split(this.formatSeparator).map(function(C){return C.trim()});l[1]=S.shift(),m=S,x=!0}if(c=r(v.call(this,l[1].trim(),p),p),c&&l[0]===n&&typeof c!="string")return c;typeof c!="string"&&(c=XT(c)),c||(this.logger.warn("missed to resolve ".concat(l[1]," for nesting ").concat(n)),c=""),x&&(c=m.reduce(function(C,I){return i.format(C,I,a.lng,a)},c.trim())),n=n.replace(l[0],c),this.regexp.lastIndex=0}return n}}]),e}();function L6(e,t){for(var n=e.indexOf(t);n!==-1;)e.splice(n,1),n=e.indexOf(t)}var P6=function(e){$y(t,e);function t(n,r,i){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ma(this,t),a=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(a)),a.backend=n,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=l,a.logger=ks.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,l.backend,l),a}return Fa(t,[{key:"queueLoad",value:function(r,i,a,l){var c=this,p=[],v=[],m=[],x=[];return r.forEach(function(S){var C=!0;i.forEach(function(I){var $="".concat(S,"|").concat(I);!a.reload&&c.store.hasResourceBundle(S,I)?c.state[$]=2:c.state[$]<0||(c.state[$]===1?v.indexOf($)<0&&v.push($):(c.state[$]=1,C=!1,v.indexOf($)<0&&v.push($),p.indexOf($)<0&&p.push($),x.indexOf(I)<0&&x.push(I)))}),C||m.push(S)}),(p.length||v.length)&&this.queue.push({pending:v,loaded:{},errors:[],callback:l}),{toLoad:p,pending:v,toLoadLanguages:m,toLoadNamespaces:x}}},{key:"loaded",value:function(r,i,a){var l=r.split("|"),c=l[0],p=l[1];i&&this.emit("failedLoading",c,p,i),a&&this.store.addResourceBundle(c,p,a),this.state[r]=i?-1:2;var v={};this.queue.forEach(function(m){w6(m.loaded,[c],p),L6(m.pending,r),i&&m.errors.push(i),m.pending.length===0&&!m.done&&(Object.keys(m.loaded).forEach(function(x){v[x]||(v[x]=[]),m.loaded[x].length&&m.loaded[x].forEach(function(S){v[x].indexOf(S)<0&&v[x].push(S)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(function(m){return!m.done})}},{key:"read",value:function(r,i,a){var l=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,v=arguments.length>5?arguments[5]:void 0;return r.length?this.backend[a](r,i,function(m,x){if(m&&x&&c<5){setTimeout(function(){l.read.call(l,r,i,a,c+1,p*2,v)},p);return}v(m,x)}):v(null,{})}},{key:"prepareLoading",value:function(r,i){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof i=="string"&&(i=[i]);var p=this.queueLoad(r,i,l,c);if(!p.toLoad.length)return p.pending.length||c(),null;p.toLoad.forEach(function(v){a.loadOne(v)})}},{key:"load",value:function(r,i,a){this.prepareLoading(r,i,{},a)}},{key:"reload",value:function(r,i,a){this.prepareLoading(r,i,{reload:!0},a)}},{key:"loadOne",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=r.split("|"),c=l[0],p=l[1];this.read(c,p,"read",void 0,void 0,function(v,m){v&&i.logger.warn("".concat(a,"loading namespace ").concat(p," for language ").concat(c," failed"),v),!v&&m&&i.logger.log("".concat(a,"loaded namespace ").concat(p," for language ").concat(c),m),i.loaded(r,v,m)})}},{key:"saveMissing",value:function(r,i,a,l,c){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}a==null||a===""||(this.backend&&this.backend.create&&this.backend.create(r,i,a,l,null,Br({},p,{isUpdate:c})),!(!r||!r[0])&&this.store.addResource(r[0],i,a,l))}}]),t}(jl);function A6(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Ro(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Ro(t[2])==="object"||Ro(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function JT(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Nv(){}var N6=function(e){$y(t,e);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Ma(this,t),n=cp(this,Yf(t).call(this)),Dy&&jl.call(Fl(n)),n.options=JT(r),n.services={},n.logger=ks,n.modules={external:[]},i&&!n.isInitialized&&!r.isClone){if(!n.options.initImmediate)return n.init(r,i),cp(n,Fl(n));setTimeout(function(){n.init(r,i)},0)}return n}return Fa(t,[{key:"init",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(a=i,i={}),i.whitelist&&!i.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),i.nonExplicitWhitelist&&!i.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Br({},A6(),this.options,JT(i)),this.format=this.options.interpolation.format,a||(a=Nv);function l(I){return I?typeof I=="function"?new I:I:null}if(!this.options.isClone){this.modules.logger?ks.init(l(this.modules.logger),this.options):ks.init(null,this.options);var c=new S6(this.options);this.store=new E6(this.options.resources,this.options);var p=this.services;p.logger=ks,p.resourceStore=this.store,p.languageUtils=c,p.pluralResolver=new _6(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p.interpolator=new O6(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new P6(l(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(I){for(var $=arguments.length,N=new Array($>1?$-1:0),L=1;L<$;L++)N[L-1]=arguments[L];r.emit.apply(r,[I].concat(N))}),this.modules.languageDetector&&(p.languageDetector=l(this.modules.languageDetector),p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=l(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new ZT(this.services,this.options),this.translator.on("*",function(I){for(var $=arguments.length,N=new Array($>1?$-1:0),L=1;L<$;L++)N[L-1]=arguments[L];r.emit.apply(r,[I].concat(N))}),this.modules.external.forEach(function(I){I.init&&I.init(r)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(I){r[I]=function(){var $;return($=r.store)[I].apply($,arguments)}});var x=["addResource","addResources","addResourceBundle","removeResourceBundle"];x.forEach(function(I){r[I]=function(){var $;return($=r.store)[I].apply($,arguments),r}});var S=wh(),C=function(){var $=function(L,M){r.isInitialized&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),S.resolve(M),a(L,M)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return $(null,r.t.bind(r));r.changeLanguage(r.options.lng,$)};return this.options.resources||!this.options.initImmediate?C():setTimeout(C,0),S}},{key:"loadResources",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nv,l=a,c=typeof r=="string"?r:this.language;if(typeof r=="function"&&(l=r),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return l();var p=[],v=function(S){if(S){var C=i.services.languageUtils.toResolveHierarchy(S);C.forEach(function(I){p.indexOf(I)<0&&p.push(I)})}};if(c)v(c);else{var m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.forEach(function(x){return v(x)})}this.options.preload&&this.options.preload.forEach(function(x){return v(x)}),this.services.backendConnector.load(p,this.options.ns,l)}else l(null)}},{key:"reloadResources",value:function(r,i,a){var l=wh();return r||(r=this.languages),i||(i=this.options.ns),a||(a=Nv),this.services.backendConnector.reload(r,i,function(c){l.resolve(),a(c)}),l}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&yP.addPostProcessor(r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"changeLanguage",value:function(r,i){var a=this;this.isLanguageChangingTo=r;var l=wh();this.emit("languageChanging",r);var c=function(m,x){x?(a.language=x,a.languages=a.services.languageUtils.toResolveHierarchy(x),a.translator.changeLanguage(x),a.isLanguageChangingTo=void 0,a.emit("languageChanged",x),a.logger.log("languageChanged",x)):a.isLanguageChangingTo=void 0,l.resolve(function(){return a.t.apply(a,arguments)}),i&&i(m,function(){return a.t.apply(a,arguments)})},p=function(m){var x=typeof m=="string"?m:a.services.languageUtils.getBestMatchFromCodes(m);x&&(a.language||(a.language=x,a.languages=a.services.languageUtils.toResolveHierarchy(x)),a.translator.language||a.translator.changeLanguage(x),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage(x)),a.loadResources(x,function(S){c(S,x)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(p):p(r),l}},{key:"getFixedT",value:function(r,i){var a=this,l=function c(p,v){var m;if(Ro(v)!=="object"){for(var x=arguments.length,S=new Array(x>2?x-2:0),C=2;C<x;C++)S[C-2]=arguments[C];m=a.options.overloadTranslationOptionHandler([p,v].concat(S))}else m=Br({},v);return m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,a.t(p,m)};return typeof r=="string"?l.lng=r:l.lngs=r,l.ns=i,l}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.languages[0],c=this.options?this.options.fallbackLng:!1,p=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var v=function(S,C){var I=i.services.backendConnector.state["".concat(S,"|").concat(C)];return I===-1||I===2};if(a.precheck){var m=a.precheck(this,v);if(m!==void 0)return m}return!!(this.hasResourceBundle(l,r)||!this.services.backendConnector.backend||v(l,r)&&(!c||v(p,r)))}},{key:"loadNamespaces",value:function(r,i){var a=this,l=wh();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(c){a.options.ns.indexOf(c)<0&&a.options.ns.push(c)}),this.loadResources(function(c){l.resolve(),i&&i(c)}),l):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(r,i){var a=wh();typeof r=="string"&&(r=[r]);var l=this.options.preload||[],c=r.filter(function(p){return l.indexOf(p)<0});return c.length?(this.options.preload=l.concat(c),this.loadResources(function(p){a.resolve(),i&&i(p)}),a):(i&&i(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.languages&&this.languages.length>0?this.languages[0]:this.language),!r)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(r))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(r,i)}},{key:"cloneInstance",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nv,l=Br({},this.options,i,{isClone:!0}),c=new t(l),p=["store","services","language"];return p.forEach(function(v){c[v]=r[v]}),c.services=Br({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new ZT(c.services,c.options),c.translator.on("*",function(v){for(var m=arguments.length,x=new Array(m>1?m-1:0),S=1;S<m;S++)x[S-1]=arguments[S];c.emit.apply(c,[v].concat(x))}),c.init(l,a),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}}]),t}(jl),I6=new N6;function vm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vm=function(n){return typeof n}:vm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vm(e)}var wP=[],R6=wP.forEach,M6=wP.slice;function Ax(e){return R6.call(M6.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}function xP(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":vm(XMLHttpRequest))==="object"}var yr={},bP={},By={};By.byteLength=$6;By.toByteArray=B6;By.fromByteArray=U6;var ba=[],ao=[],F6=typeof Uint8Array<"u"?Uint8Array:Array,Vw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gf=0,j6=Vw.length;gf<j6;++gf)ba[gf]=Vw[gf],ao[Vw.charCodeAt(gf)]=gf;ao["-".charCodeAt(0)]=62;ao["_".charCodeAt(0)]=63;function EP(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function $6(e){var t=EP(e),n=t[0],r=t[1];return(n+r)*3/4-r}function D6(e,t,n){return(t+n)*3/4-n}function B6(e){var t,n=EP(e),r=n[0],i=n[1],a=new F6(D6(e,r,i)),l=0,c=i>0?r-4:r,p;for(p=0;p<c;p+=4)t=ao[e.charCodeAt(p)]<<18|ao[e.charCodeAt(p+1)]<<12|ao[e.charCodeAt(p+2)]<<6|ao[e.charCodeAt(p+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=t&255;return i===2&&(t=ao[e.charCodeAt(p)]<<2|ao[e.charCodeAt(p+1)]>>4,a[l++]=t&255),i===1&&(t=ao[e.charCodeAt(p)]<<10|ao[e.charCodeAt(p+1)]<<4|ao[e.charCodeAt(p+2)]>>2,a[l++]=t>>8&255,a[l++]=t&255),a}function z6(e){return ba[e>>18&63]+ba[e>>12&63]+ba[e>>6&63]+ba[e&63]}function H6(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(z6(r));return i.join("")}function U6(e){for(var t,n=e.length,r=n%3,i=[],a=16383,l=0,c=n-r;l<c;l+=a)i.push(H6(e,l,l+a>c?c:l+a));return r===1?(t=e[n-1],i.push(ba[t>>2]+ba[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(ba[t>>10]+ba[t>>4&63]+ba[t<<2&63]+"=")),i.join("")}var SE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */SE.read=function(e,t,n,r,i){var a,l,c=i*8-r-1,p=(1<<c)-1,v=p>>1,m=-7,x=n?i-1:0,S=n?-1:1,C=e[t+x];for(x+=S,a=C&(1<<-m)-1,C>>=-m,m+=c;m>0;a=a*256+e[t+x],x+=S,m-=8);for(l=a&(1<<-m)-1,a>>=-m,m+=r;m>0;l=l*256+e[t+x],x+=S,m-=8);if(a===0)a=1-v;else{if(a===p)return l?NaN:(C?-1:1)*(1/0);l=l+Math.pow(2,r),a=a-v}return(C?-1:1)*l*Math.pow(2,a-r)};SE.write=function(e,t,n,r,i,a){var l,c,p,v=a*8-i-1,m=(1<<v)-1,x=m>>1,S=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=r?0:a-1,I=r?1:-1,$=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=m):(l=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+x>=1?t+=S/p:t+=S*Math.pow(2,1-x),t*p>=2&&(l++,p/=2),l+x>=m?(c=0,l=m):l+x>=1?(c=(t*p-1)*Math.pow(2,i),l=l+x):(c=t*Math.pow(2,x-1)*Math.pow(2,i),l=0));i>=8;e[n+C]=c&255,C+=I,c/=256,i-=8);for(l=l<<i|c,v+=i;v>0;e[n+C]=l&255,C+=I,l/=256,v-=8);e[n+C-I]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=By,n=SE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const H=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(H,_),H.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');const _=new Uint8Array(H);return Object.setPrototypeOf(_,c.prototype),_}function c(H,_,P){if(typeof H=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(H)}return p(H,_,P)}c.poolSize=8192;function p(H,_,P){if(typeof H=="string")return S(H,_);if(ArrayBuffer.isView(H))return I(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(de(H,ArrayBuffer)||H&&de(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(H,SharedArrayBuffer)||H&&de(H.buffer,SharedArrayBuffer)))return $(H,_,P);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=H.valueOf&&H.valueOf();if(K!=null&&K!==H)return c.from(K,_,P);const se=N(H);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return c.from(H[Symbol.toPrimitive]("string"),_,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}c.from=function(H,_,P){return p(H,_,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function v(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function m(H,_,P){return v(H),H<=0?l(H):_!==void 0?typeof P=="string"?l(H).fill(_,P):l(H).fill(_):l(H)}c.alloc=function(H,_,P){return m(H,_,P)};function x(H){return v(H),l(H<0?0:L(H)|0)}c.allocUnsafe=function(H){return x(H)},c.allocUnsafeSlow=function(H){return x(H)};function S(H,_){if((typeof _!="string"||_==="")&&(_="utf8"),!c.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const P=B(H,_)|0;let K=l(P);const se=K.write(H,_);return se!==P&&(K=K.slice(0,se)),K}function C(H){const _=H.length<0?0:L(H.length)|0,P=l(_);for(let K=0;K<_;K+=1)P[K]=H[K]&255;return P}function I(H){if(de(H,Uint8Array)){const _=new Uint8Array(H);return $(_.buffer,_.byteOffset,_.byteLength)}return C(H)}function $(H,_,P){if(_<0||H.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<_+(P||0))throw new RangeError('"length" is outside of buffer bounds');let K;return _===void 0&&P===void 0?K=new Uint8Array(H):P===void 0?K=new Uint8Array(H,_):K=new Uint8Array(H,_,P),Object.setPrototypeOf(K,c.prototype),K}function N(H){if(c.isBuffer(H)){const _=L(H.length)|0,P=l(_);return P.length===0||H.copy(P,0,0,_),P}if(H.length!==void 0)return typeof H.length!="number"||Fe(H.length)?l(0):C(H);if(H.type==="Buffer"&&Array.isArray(H.data))return C(H.data)}function L(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function M(H){return+H!=H&&(H=0),c.alloc(+H)}c.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==c.prototype},c.compare=function(_,P){if(de(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),de(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(_)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===P)return 0;let K=_.length,se=P.length;for(let ge=0,Oe=Math.min(K,se);ge<Oe;++ge)if(_[ge]!==P[ge]){K=_[ge],se=P[ge];break}return K<se?-1:se<K?1:0},c.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(_,P){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return c.alloc(0);let K;if(P===void 0)for(P=0,K=0;K<_.length;++K)P+=_[K].length;const se=c.allocUnsafe(P);let ge=0;for(K=0;K<_.length;++K){let Oe=_[K];if(de(Oe,Uint8Array))ge+Oe.length>se.length?(c.isBuffer(Oe)||(Oe=c.from(Oe)),Oe.copy(se,ge)):Uint8Array.prototype.set.call(se,Oe,ge);else if(c.isBuffer(Oe))Oe.copy(se,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Oe.length}return se};function B(H,_){if(c.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||de(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const P=H.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&P===0)return 0;let se=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Ot(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return kn(H).length;default:if(se)return K?-1:Ot(H).length;_=(""+_).toLowerCase(),se=!0}}c.byteLength=B;function j(H,_,P){let K=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,_>>>=0,P<=_))return"";for(H||(H="utf8");;)switch(H){case"hex":return me(this,_,P);case"utf8":case"utf-8":return Q(this,_,P);case"ascii":return Te(this,_,P);case"latin1":case"binary":return ye(this,_,P);case"base64":return J(this,_,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,_,P);default:if(K)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),K=!0}}c.prototype._isBuffer=!0;function U(H,_,P){const K=H[_];H[_]=H[P],H[P]=K}c.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<_;P+=2)U(this,P,P+1);return this},c.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<_;P+=4)U(this,P,P+3),U(this,P+1,P+2);return this},c.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<_;P+=8)U(this,P,P+7),U(this,P+1,P+6),U(this,P+2,P+5),U(this,P+3,P+4);return this},c.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?Q(this,0,_):j.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(_){if(!c.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:c.compare(this,_)===0},c.prototype.inspect=function(){let _="";const P=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(_+=" ... "),"<Buffer "+_+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(_,P,K,se,ge){if(de(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(P===void 0&&(P=0),K===void 0&&(K=_?_.length:0),se===void 0&&(se=0),ge===void 0&&(ge=this.length),P<0||K>_.length||se<0||ge>this.length)throw new RangeError("out of range index");if(se>=ge&&P>=K)return 0;if(se>=ge)return-1;if(P>=K)return 1;if(P>>>=0,K>>>=0,se>>>=0,ge>>>=0,this===_)return 0;let Oe=ge-se,Be=K-P;const Gt=Math.min(Oe,Be),Ct=this.slice(se,ge),Ve=_.slice(P,K);for(let gt=0;gt<Gt;++gt)if(Ct[gt]!==Ve[gt]){Oe=Ct[gt],Be=Ve[gt];break}return Oe<Be?-1:Be<Oe?1:0};function X(H,_,P,K,se){if(H.length===0)return-1;if(typeof P=="string"?(K=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,Fe(P)&&(P=se?0:H.length-1),P<0&&(P=H.length+P),P>=H.length){if(se)return-1;P=H.length-1}else if(P<0)if(se)P=0;else return-1;if(typeof _=="string"&&(_=c.from(_,K)),c.isBuffer(_))return _.length===0?-1:V(H,_,P,K,se);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(H,_,P):Uint8Array.prototype.lastIndexOf.call(H,_,P):V(H,[_],P,K,se);throw new TypeError("val must be string, number or Buffer")}function V(H,_,P,K,se){let ge=1,Oe=H.length,Be=_.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(H.length<2||_.length<2)return-1;ge=2,Oe/=2,Be/=2,P/=2}function Gt(Ve,gt){return ge===1?Ve[gt]:Ve.readUInt16BE(gt*ge)}let Ct;if(se){let Ve=-1;for(Ct=P;Ct<Oe;Ct++)if(Gt(H,Ct)===Gt(_,Ve===-1?0:Ct-Ve)){if(Ve===-1&&(Ve=Ct),Ct-Ve+1===Be)return Ve*ge}else Ve!==-1&&(Ct-=Ct-Ve),Ve=-1}else for(P+Be>Oe&&(P=Oe-Be),Ct=P;Ct>=0;Ct--){let Ve=!0;for(let gt=0;gt<Be;gt++)if(Gt(H,Ct+gt)!==Gt(_,gt)){Ve=!1;break}if(Ve)return Ct}return-1}c.prototype.includes=function(_,P,K){return this.indexOf(_,P,K)!==-1},c.prototype.indexOf=function(_,P,K){return X(this,_,P,K,!0)},c.prototype.lastIndexOf=function(_,P,K){return X(this,_,P,K,!1)};function re(H,_,P,K){P=Number(P)||0;const se=H.length-P;K?(K=Number(K),K>se&&(K=se)):K=se;const ge=_.length;K>ge/2&&(K=ge/2);let Oe;for(Oe=0;Oe<K;++Oe){const Be=parseInt(_.substr(Oe*2,2),16);if(Fe(Be))return Oe;H[P+Oe]=Be}return Oe}function fe(H,_,P,K){return pt(Ot(_,H.length-P),H,P,K)}function ve(H,_,P,K){return pt(jt(_),H,P,K)}function xe(H,_,P,K){return pt(kn(_),H,P,K)}function ze(H,_,P,K){return pt(Bt(_,H.length-P),H,P,K)}c.prototype.write=function(_,P,K,se){if(P===void 0)se="utf8",K=this.length,P=0;else if(K===void 0&&typeof P=="string")se=P,K=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(K)?(K=K>>>0,se===void 0&&(se="utf8")):(se=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-P;if((K===void 0||K>ge)&&(K=ge),_.length>0&&(K<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let Oe=!1;for(;;)switch(se){case"hex":return re(this,_,P,K);case"utf8":case"utf-8":return fe(this,_,P,K);case"ascii":case"latin1":case"binary":return ve(this,_,P,K);case"base64":return xe(this,_,P,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze(this,_,P,K);default:if(Oe)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),Oe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(H,_,P){return _===0&&P===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(_,P))}function Q(H,_,P){P=Math.min(H.length,P);const K=[];let se=_;for(;se<P;){const ge=H[se];let Oe=null,Be=ge>239?4:ge>223?3:ge>191?2:1;if(se+Be<=P){let Gt,Ct,Ve,gt;switch(Be){case 1:ge<128&&(Oe=ge);break;case 2:Gt=H[se+1],(Gt&192)===128&&(gt=(ge&31)<<6|Gt&63,gt>127&&(Oe=gt));break;case 3:Gt=H[se+1],Ct=H[se+2],(Gt&192)===128&&(Ct&192)===128&&(gt=(ge&15)<<12|(Gt&63)<<6|Ct&63,gt>2047&&(gt<55296||gt>57343)&&(Oe=gt));break;case 4:Gt=H[se+1],Ct=H[se+2],Ve=H[se+3],(Gt&192)===128&&(Ct&192)===128&&(Ve&192)===128&&(gt=(ge&15)<<18|(Gt&63)<<12|(Ct&63)<<6|Ve&63,gt>65535&&gt<1114112&&(Oe=gt))}}Oe===null?(Oe=65533,Be=1):Oe>65535&&(Oe-=65536,K.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),K.push(Oe),se+=Be}return Ce(K)}const G=4096;function Ce(H){const _=H.length;if(_<=G)return String.fromCharCode.apply(String,H);let P="",K=0;for(;K<_;)P+=String.fromCharCode.apply(String,H.slice(K,K+=G));return P}function Te(H,_,P){let K="";P=Math.min(H.length,P);for(let se=_;se<P;++se)K+=String.fromCharCode(H[se]&127);return K}function ye(H,_,P){let K="";P=Math.min(H.length,P);for(let se=_;se<P;++se)K+=String.fromCharCode(H[se]);return K}function me(H,_,P){const K=H.length;(!_||_<0)&&(_=0),(!P||P<0||P>K)&&(P=K);let se="";for(let ge=_;ge<P;++ge)se+=ke[H[ge]];return se}function be(H,_,P){const K=H.slice(_,P);let se="";for(let ge=0;ge<K.length-1;ge+=2)se+=String.fromCharCode(K[ge]+K[ge+1]*256);return se}c.prototype.slice=function(_,P){const K=this.length;_=~~_,P=P===void 0?K:~~P,_<0?(_+=K,_<0&&(_=0)):_>K&&(_=K),P<0?(P+=K,P<0&&(P=0)):P>K&&(P=K),P<_&&(P=_);const se=this.subarray(_,P);return Object.setPrototypeOf(se,c.prototype),se};function te(H,_,P){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+_>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(_,P,K){_=_>>>0,P=P>>>0,K||te(_,P,this.length);let se=this[_],ge=1,Oe=0;for(;++Oe<P&&(ge*=256);)se+=this[_+Oe]*ge;return se},c.prototype.readUintBE=c.prototype.readUIntBE=function(_,P,K){_=_>>>0,P=P>>>0,K||te(_,P,this.length);let se=this[_+--P],ge=1;for(;P>0&&(ge*=256);)se+=this[_+--P]*ge;return se},c.prototype.readUint8=c.prototype.readUInt8=function(_,P){return _=_>>>0,P||te(_,1,this.length),this[_]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(_,P){return _=_>>>0,P||te(_,2,this.length),this[_]|this[_+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(_,P){return _=_>>>0,P||te(_,2,this.length),this[_]<<8|this[_+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(_,P){return _=_>>>0,P||te(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(_,P){return _=_>>>0,P||te(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},c.prototype.readBigUInt64LE=dt(function(_){_=_>>>0,Dt(_,"offset");const P=this[_],K=this[_+7];(P===void 0||K===void 0)&&Ft(_,this.length-8);const se=P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ge=this[++_]+this[++_]*2**8+this[++_]*2**16+K*2**24;return BigInt(se)+(BigInt(ge)<<BigInt(32))}),c.prototype.readBigUInt64BE=dt(function(_){_=_>>>0,Dt(_,"offset");const P=this[_],K=this[_+7];(P===void 0||K===void 0)&&Ft(_,this.length-8);const se=P*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ge=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+K;return(BigInt(se)<<BigInt(32))+BigInt(ge)}),c.prototype.readIntLE=function(_,P,K){_=_>>>0,P=P>>>0,K||te(_,P,this.length);let se=this[_],ge=1,Oe=0;for(;++Oe<P&&(ge*=256);)se+=this[_+Oe]*ge;return ge*=128,se>=ge&&(se-=Math.pow(2,8*P)),se},c.prototype.readIntBE=function(_,P,K){_=_>>>0,P=P>>>0,K||te(_,P,this.length);let se=P,ge=1,Oe=this[_+--se];for(;se>0&&(ge*=256);)Oe+=this[_+--se]*ge;return ge*=128,Oe>=ge&&(Oe-=Math.pow(2,8*P)),Oe},c.prototype.readInt8=function(_,P){return _=_>>>0,P||te(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},c.prototype.readInt16LE=function(_,P){_=_>>>0,P||te(_,2,this.length);const K=this[_]|this[_+1]<<8;return K&32768?K|4294901760:K},c.prototype.readInt16BE=function(_,P){_=_>>>0,P||te(_,2,this.length);const K=this[_+1]|this[_]<<8;return K&32768?K|4294901760:K},c.prototype.readInt32LE=function(_,P){return _=_>>>0,P||te(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},c.prototype.readInt32BE=function(_,P){return _=_>>>0,P||te(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},c.prototype.readBigInt64LE=dt(function(_){_=_>>>0,Dt(_,"offset");const P=this[_],K=this[_+7];(P===void 0||K===void 0)&&Ft(_,this.length-8);const se=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(K<<24);return(BigInt(se)<<BigInt(32))+BigInt(P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),c.prototype.readBigInt64BE=dt(function(_){_=_>>>0,Dt(_,"offset");const P=this[_],K=this[_+7];(P===void 0||K===void 0)&&Ft(_,this.length-8);const se=(P<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(se)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+K)}),c.prototype.readFloatLE=function(_,P){return _=_>>>0,P||te(_,4,this.length),n.read(this,_,!0,23,4)},c.prototype.readFloatBE=function(_,P){return _=_>>>0,P||te(_,4,this.length),n.read(this,_,!1,23,4)},c.prototype.readDoubleLE=function(_,P){return _=_>>>0,P||te(_,8,this.length),n.read(this,_,!0,52,8)},c.prototype.readDoubleBE=function(_,P){return _=_>>>0,P||te(_,8,this.length),n.read(this,_,!1,52,8)};function oe(H,_,P,K,se,ge){if(!c.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>se||_<ge)throw new RangeError('"value" argument is out of bounds');if(P+K>H.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(_,P,K,se){if(_=+_,P=P>>>0,K=K>>>0,!se){const Be=Math.pow(2,8*K)-1;oe(this,_,P,K,Be,0)}let ge=1,Oe=0;for(this[P]=_&255;++Oe<K&&(ge*=256);)this[P+Oe]=_/ge&255;return P+K},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(_,P,K,se){if(_=+_,P=P>>>0,K=K>>>0,!se){const Be=Math.pow(2,8*K)-1;oe(this,_,P,K,Be,0)}let ge=K-1,Oe=1;for(this[P+ge]=_&255;--ge>=0&&(Oe*=256);)this[P+ge]=_/Oe&255;return P+K},c.prototype.writeUint8=c.prototype.writeUInt8=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,1,255,0),this[P]=_&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,2,65535,0),this[P]=_&255,this[P+1]=_>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,2,65535,0),this[P]=_>>>8,this[P+1]=_&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,4,4294967295,0),this[P+3]=_>>>24,this[P+2]=_>>>16,this[P+1]=_>>>8,this[P]=_&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,4,4294967295,0),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4};function we(H,_,P,K,se){wt(_,K,se,H,P,7);let ge=Number(_&BigInt(4294967295));H[P++]=ge,ge=ge>>8,H[P++]=ge,ge=ge>>8,H[P++]=ge,ge=ge>>8,H[P++]=ge;let Oe=Number(_>>BigInt(32)&BigInt(4294967295));return H[P++]=Oe,Oe=Oe>>8,H[P++]=Oe,Oe=Oe>>8,H[P++]=Oe,Oe=Oe>>8,H[P++]=Oe,P}function ne(H,_,P,K,se){wt(_,K,se,H,P,7);let ge=Number(_&BigInt(4294967295));H[P+7]=ge,ge=ge>>8,H[P+6]=ge,ge=ge>>8,H[P+5]=ge,ge=ge>>8,H[P+4]=ge;let Oe=Number(_>>BigInt(32)&BigInt(4294967295));return H[P+3]=Oe,Oe=Oe>>8,H[P+2]=Oe,Oe=Oe>>8,H[P+1]=Oe,Oe=Oe>>8,H[P]=Oe,P+8}c.prototype.writeBigUInt64LE=dt(function(_,P=0){return we(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=dt(function(_,P=0){return ne(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(_,P,K,se){if(_=+_,P=P>>>0,!se){const Gt=Math.pow(2,8*K-1);oe(this,_,P,K,Gt-1,-Gt)}let ge=0,Oe=1,Be=0;for(this[P]=_&255;++ge<K&&(Oe*=256);)_<0&&Be===0&&this[P+ge-1]!==0&&(Be=1),this[P+ge]=(_/Oe>>0)-Be&255;return P+K},c.prototype.writeIntBE=function(_,P,K,se){if(_=+_,P=P>>>0,!se){const Gt=Math.pow(2,8*K-1);oe(this,_,P,K,Gt-1,-Gt)}let ge=K-1,Oe=1,Be=0;for(this[P+ge]=_&255;--ge>=0&&(Oe*=256);)_<0&&Be===0&&this[P+ge+1]!==0&&(Be=1),this[P+ge]=(_/Oe>>0)-Be&255;return P+K},c.prototype.writeInt8=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,1,127,-128),_<0&&(_=255+_+1),this[P]=_&255,P+1},c.prototype.writeInt16LE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,2,32767,-32768),this[P]=_&255,this[P+1]=_>>>8,P+2},c.prototype.writeInt16BE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,2,32767,-32768),this[P]=_>>>8,this[P+1]=_&255,P+2},c.prototype.writeInt32LE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,4,2147483647,-2147483648),this[P]=_&255,this[P+1]=_>>>8,this[P+2]=_>>>16,this[P+3]=_>>>24,P+4},c.prototype.writeInt32BE=function(_,P,K){return _=+_,P=P>>>0,K||oe(this,_,P,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4},c.prototype.writeBigInt64LE=dt(function(_,P=0){return we(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=dt(function(_,P=0){return ne(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(H,_,P,K,se,ge){if(P+K>H.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function pe(H,_,P,K,se){return _=+_,P=P>>>0,se||le(H,_,P,4),n.write(H,_,P,K,23,4),P+4}c.prototype.writeFloatLE=function(_,P,K){return pe(this,_,P,!0,K)},c.prototype.writeFloatBE=function(_,P,K){return pe(this,_,P,!1,K)};function _e(H,_,P,K,se){return _=+_,P=P>>>0,se||le(H,_,P,8),n.write(H,_,P,K,52,8),P+8}c.prototype.writeDoubleLE=function(_,P,K){return _e(this,_,P,!0,K)},c.prototype.writeDoubleBE=function(_,P,K){return _e(this,_,P,!1,K)},c.prototype.copy=function(_,P,K,se){if(!c.isBuffer(_))throw new TypeError("argument should be a Buffer");if(K||(K=0),!se&&se!==0&&(se=this.length),P>=_.length&&(P=_.length),P||(P=0),se>0&&se<K&&(se=K),se===K||_.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),_.length-P<se-K&&(se=_.length-P+K);const ge=se-K;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,K,se):Uint8Array.prototype.set.call(_,this.subarray(K,se),P),ge},c.prototype.fill=function(_,P,K,se){if(typeof _=="string"){if(typeof P=="string"?(se=P,P=0,K=this.length):typeof K=="string"&&(se=K,K=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!c.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(_.length===1){const Oe=_.charCodeAt(0);(se==="utf8"&&Oe<128||se==="latin1")&&(_=Oe)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(P<0||this.length<P||this.length<K)throw new RangeError("Out of range index");if(K<=P)return this;P=P>>>0,K=K===void 0?this.length:K>>>0,_||(_=0);let ge;if(typeof _=="number")for(ge=P;ge<K;++ge)this[ge]=_;else{const Oe=c.isBuffer(_)?_:c.from(_,se),Be=Oe.length;if(Be===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<K-P;++ge)this[ge+P]=Oe[ge%Be]}return this};const Ne={};function Ue(H,_,P){Ne[H]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(H,"]"),this.stack,delete this.name}get code(){return H}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return"".concat(this.name," [").concat(H,"]: ").concat(this.message)}}}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?"".concat(H," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(H,_){return'The "'.concat(H,'" argument must be of type number. Received type ').concat(typeof _)},TypeError),Ue("ERR_OUT_OF_RANGE",function(H,_,P){let K='The value of "'.concat(H,'" is out of range.'),se=P;return Number.isInteger(P)&&Math.abs(P)>2**32?se=nt(String(P)):typeof P=="bigint"&&(se=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(se=nt(se)),se+="n"),K+=" It must be ".concat(_,". Received ").concat(se),K},RangeError);function nt(H){let _="",P=H.length;const K=H[0]==="-"?1:0;for(;P>=K+4;P-=3)_="_".concat(H.slice(P-3,P)).concat(_);return"".concat(H.slice(0,P)).concat(_)}function Ye(H,_,P){Dt(_,"offset"),(H[_]===void 0||H[_+P]===void 0)&&Ft(_,H.length-(P+1))}function wt(H,_,P,K,se,ge){if(H>P||H<_){const Oe=typeof _=="bigint"?"n":"";let Be;throw ge>3?_===0||_===BigInt(0)?Be=">= 0".concat(Oe," and < 2").concat(Oe," ** ").concat((ge+1)*8).concat(Oe):Be=">= -(2".concat(Oe," ** ").concat((ge+1)*8-1).concat(Oe,") and < 2 ** ")+"".concat((ge+1)*8-1).concat(Oe):Be=">= ".concat(_).concat(Oe," and <= ").concat(P).concat(Oe),new Ne.ERR_OUT_OF_RANGE("value",Be,H)}Ye(K,se,ge)}function Dt(H,_){if(typeof H!="number")throw new Ne.ERR_INVALID_ARG_TYPE(_,"number",H)}function Ft(H,_,P){throw Math.floor(H)!==H?(Dt(H,P),new Ne.ERR_OUT_OF_RANGE(P||"offset","an integer",H)):_<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(P||"offset",">= ".concat(P?1:0," and <= ").concat(_),H)}const it=/[^+/0-9A-Za-z-_]/g;function yt(H){if(H=H.split("=")[0],H=H.trim().replace(it,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Ot(H,_){_=_||1/0;let P;const K=H.length;let se=null;const ge=[];for(let Oe=0;Oe<K;++Oe){if(P=H.charCodeAt(Oe),P>55295&&P<57344){if(!se){if(P>56319){(_-=3)>-1&&ge.push(239,191,189);continue}else if(Oe+1===K){(_-=3)>-1&&ge.push(239,191,189);continue}se=P;continue}if(P<56320){(_-=3)>-1&&ge.push(239,191,189),se=P;continue}P=(se-55296<<10|P-56320)+65536}else se&&(_-=3)>-1&&ge.push(239,191,189);if(se=null,P<128){if((_-=1)<0)break;ge.push(P)}else if(P<2048){if((_-=2)<0)break;ge.push(P>>6|192,P&63|128)}else if(P<65536){if((_-=3)<0)break;ge.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((_-=4)<0)break;ge.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ge}function jt(H){const _=[];for(let P=0;P<H.length;++P)_.push(H.charCodeAt(P)&255);return _}function Bt(H,_){let P,K,se;const ge=[];for(let Oe=0;Oe<H.length&&!((_-=2)<0);++Oe)P=H.charCodeAt(Oe),K=P>>8,se=P%256,ge.push(se),ge.push(K);return ge}function kn(H){return t.toByteArray(yt(H))}function pt(H,_,P,K){let se;for(se=0;se<K&&!(se+P>=_.length||se>=H.length);++se)_[se+P]=H[se];return se}function de(H,_){return H instanceof _||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===_.name}function Fe(H){return H!==H}const ke=function(){const H="0123456789abcdef",_=new Array(256);for(let P=0;P<16;++P){const K=P*16;for(let se=0;se<16;++se)_[K+se]=H[P]+H[se]}return _}();function dt(H){return typeof BigInt>"u"?zn:H}function zn(){throw new Error("BigInt not supported")}})(bP);var SP={exports:{}},Bn=SP.exports={},wa,xa;function Nx(){throw new Error("setTimeout has not been defined")}function Ix(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wa=setTimeout:wa=Nx}catch{wa=Nx}try{typeof clearTimeout=="function"?xa=clearTimeout:xa=Ix}catch{xa=Ix}})();function CP(e){if(wa===setTimeout)return setTimeout(e,0);if((wa===Nx||!wa)&&setTimeout)return wa=setTimeout,setTimeout(e,0);try{return wa(e,0)}catch{try{return wa.call(null,e,0)}catch{return wa.call(this,e,0)}}}function W6(e){if(xa===clearTimeout)return clearTimeout(e);if((xa===Ix||!xa)&&clearTimeout)return xa=clearTimeout,clearTimeout(e);try{return xa(e)}catch{try{return xa.call(null,e)}catch{return xa.call(this,e)}}}var _s=[],Df=!1,Wu,mm=-1;function K6(){!Df||!Wu||(Df=!1,Wu.length?_s=Wu.concat(_s):mm=-1,_s.length&&TP())}function TP(){if(!Df){var e=CP(K6);Df=!0;for(var t=_s.length;t;){for(Wu=_s,_s=[];++mm<t;)Wu&&Wu[mm].run();mm=-1,t=_s.length}Wu=null,Df=!1,W6(e)}}Bn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_s.push(new kP(e,t)),_s.length===1&&!Df&&CP(TP)};function kP(e,t){this.fun=e,this.array=t}kP.prototype.run=function(){this.fun.apply(null,this.array)};Bn.title="browser";Bn.browser=!0;Bn.env={};Bn.argv=[];Bn.version="";Bn.versions={};function Rs(){}Bn.on=Rs;Bn.addListener=Rs;Bn.once=Rs;Bn.off=Rs;Bn.removeListener=Rs;Bn.removeAllListeners=Rs;Bn.emit=Rs;Bn.prependListener=Rs;Bn.prependOnceListener=Rs;Bn.listeners=function(e){return[]};Bn.binding=function(e){throw new Error("process.binding is not supported")};Bn.cwd=function(){return"/"};Bn.chdir=function(e){throw new Error("process.chdir is not supported")};Bn.umask=function(){return 0};var G6=SP.exports;(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP,n=G6,r=l=>l&&l.__esModule?l:{default:l},i=r(n),a=globalThis||void 0||self;Object.defineProperty(e,"Buffer",{enumerable:!0,get:()=>t.Buffer}),Object.defineProperty(e,"process",{enumerable:!0,get:()=>i.default}),e.global=a})(yr);function q6(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rx={exports:{}},Iv={exports:{}},ek;function X6(){return ek||(ek=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof r<"u")return r;throw new Error("unable to locate global object")},r=n();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response}(Iv,Iv.exports)),Iv.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof Pn<"u"&&Pn.fetch?n=Pn.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch)),typeof q6<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||X6();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(Rx,Rx.exports);var _P=Rx.exports;const OP=Sn(_P),tk=kj({__proto__:null,default:OP},[_P]);function Gh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gh=function(n){return typeof n}:Gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gh(e)}var $l;typeof fetch=="function"&&(typeof yr.global<"u"&&yr.global.fetch?$l=yr.global.fetch:typeof window<"u"&&window.fetch&&($l=window.fetch));var fp;xP&&(typeof yr.global<"u"&&yr.global.XMLHttpRequest?fp=yr.global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(fp=window.XMLHttpRequest));var ry;typeof ActiveXObject=="function"&&(typeof yr.global<"u"&&yr.global.ActiveXObject?ry=yr.global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ry=window.ActiveXObject));!$l&&tk&&!fp&&!ry&&($l=OP||tk);typeof $l!="function"&&($l=void 0);var Mx=function(t,n){if(n&&Gh(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},V6=function(t,n,r,i){t.queryStringParams&&(n=Mx(n,t.queryStringParams));var a=Ax({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);r&&(a["Content-Type"]="application/json"),$l(n,Ax({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:a},typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions)).then(function(l){if(!l.ok)return i(l.statusText||"Error",{status:l.status});l.text().then(function(c){i(null,{status:l.status,data:c})}).catch(i)}).catch(i)},Y6=function(t,n,r,i){r&&Gh(r)==="object"&&(r=Mx("",r).slice(1)),t.queryStringParams&&(n=Mx(n,t.queryStringParams));try{var a;fp?a=new fp:a=new ry("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",n,1),t.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!t.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var l=t.customHeaders;if(l=typeof l=="function"?l():l,l)for(var c in l)a.setRequestHeader(c,l[c]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(p){console&&console.log(p)}},Q6=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},$l)return V6(t,n,r,i);if(xP||typeof ActiveXObject=="function")return Y6(t,n,r,i)};function Z6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J6(e,t,n){return t&&nk(e.prototype,t),n&&nk(e,n),e}function eU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tU=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return eU({},r,i||"")},request:Q6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},LP=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z6(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return J6(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Ax(i,this.options||{},tU()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){var a=this.options.loadPath;typeof this.options.loadPath=="function"&&(a=this.options.loadPath(n,r));var l=this.services.interpolator.interpolate(a,{lng:n.join("+"),ns:r.join("+")});this.loadUrl(l,i,n,r)}},{key:"read",value:function(n,r,i){var a=this.options.loadPath;typeof this.options.loadPath=="function"&&(a=this.options.loadPath([n],[r]));var l=this.services.interpolator.interpolate(a,{lng:n,ns:r});this.loadUrl(l,i,n,r)}},{key:"loadUrl",value:function(n,r,i,a){var l=this;this.options.request(this.options,n,void 0,function(c,p){if(p&&(p.status>=500&&p.status<600||!p.status))return r("failed loading "+n+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return r("failed loading "+n+"; status code: "+p.status,!1);if(!p&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var v,m;try{typeof p.data=="string"?v=l.options.parse(p.data,i,a):v=p.data}catch{m="failed parsing "+n+" to json"}if(m)return r(m,!1);r(null,v)})}},{key:"create",value:function(n,r,i,a,l){var c=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var p=this.options.parsePayload(r,i,a),v=0,m=[],x=[];n.forEach(function(S){var C=c.options.addPath;typeof c.options.addPath=="function"&&(C=c.options.addPath(S,r));var I=c.services.interpolator.interpolate(C,{lng:S,ns:r});c.options.request(c.options,I,p,function($,N){v+=1,m.push($),x.push(N),v===n.length&&l&&l(m,x)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,a=r.languageUtils,l=r.logger,c=i.language;if(!(c&&c.toLowerCase()==="cimode")){var p=[],v=function(x){var S=a.toResolveHierarchy(x);S.forEach(function(C){p.indexOf(C)<0&&p.push(C)})};v(c),this.allOptions.preload&&this.allOptions.preload.forEach(function(m){return v(m)}),p.forEach(function(m){n.allOptions.ns.forEach(function(x){i.read(m,x,"read",null,null,function(S,C){S&&l.warn("loading namespace ".concat(x," for language ").concat(m," failed"),S),!S&&C&&l.log("loaded namespace ".concat(x," for language ").concat(m),C),i.loaded("".concat(m,"|").concat(x),S,C)})})})}}}]),e}();LP.type="backend";const qp=I6.createInstance();qp.use(LP).use(D4).init({debug:!1,backend:{loadPath:"./locales/{{lng}}.json"},fallbackLng:"en-us",interpolation:{escapeValue:!1},load:"currentOnly"});const Wl=()=>({height:100,highlighted:!1,left:0,name:qp.t("store.passageDefaults.name"),selected:!1,tags:[],text:"",top:0,width:100}),id=()=>({ifid:"",lastUpdate:new Date,passages:[],name:qp.t("store.storyDefaults.name"),script:"",selected:!1,snapToGrid:!0,startPassage:"",storyFormat:"",storyFormatVersion:"",stylesheet:"",tags:[],tagColors:{},zoom:1});function rk(e){return e*e}function Yw(e,t){return rk(e[0]-t[0])+rk(e[1]-t[1])}function nU(e,t,n){const r=Yw(t,n);if(r===0)return Yw(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),Yw(e,[t[0]+i*(n[0]-t[0]),t[1]+i*(n[1]-t[1])])}function Rv(e,t,n){return Math.sqrt(nU(e,t,n))<1}const ik=0,PP=1,rU=2;function iU(e,t,n,r,i){let a=t[0],l=t[1],c=n[0],p=n[1],v=r[0],m=r[1],x=i[0],S=i[1],C,I,$,N,L,M,B,j,U,X,V,re,fe;return C=p-l,$=a-c,L=c*l-a*p,U=C*v+$*m+L,X=C*x+$*S+L,U!==0&&X!==0&&(U>=0&&X>=0||U<0&&X<0)||(I=S-m,N=v-x,M=x*m-v*S,B=I*a+N*l+M,j=I*c+N*p+M,B!==0&&j!==0&&(B>=0&&j>=0||B<0&&j<0))?ik:(V=C*N-I*$,V===0?rU:(re=$*M-N*L,fe=I*L-C*M,e[0]=(re<0,re/V),e[1]=(fe<0,fe/V),PP))}function Mv(e,t,n,r,i){const a=iU(e,t,n,r,i);return a===PP?a:Rv(t,r,i)?(e[0]=t[0],e[1]=t[1],!0):Rv(n,r,i)?(e[0]=n[0],e[1]=n[1],!0):Rv(r,t,n)?(e[0]=r[0],e[1]=r[1],!0):Rv(i,t,n)?(e[0]=i[0],e[1]=i[1],!0):!1}function oU(e,t){return Math.atan2(t.top-e.top,t.left-e.left)*180/Math.PI}function aU(e,t){return Math.hypot(e.left-t.left,e.top-t.top)}function ok(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Qw(e,t){const n={height:0,left:0,top:0,width:0};return e.left<t.left?(n.left=e.left,n.width=t.left-e.left):(n.left=t.left,n.width=e.left-t.left),e.top<t.top?(n.top=e.top,n.height=t.top-e.top):(n.top=t.top,n.height=e.top-t.top),n}function zy(e,t){return!(t.left>e.left+e.width||t.left+t.width<e.left||t.top>e.top+e.height||t.top+t.height<e.top)}function ak(e,t,n){let r=[NaN,NaN];return Mv(r,[e.left,e.top],[e.left,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left+e.width,e.top],[e.left+e.width,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left,e.top],[e.left+e.width,e.top],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:Mv(r,[e.left,e.top+e.height],[e.left+e.width,e.top+e.height],[t.left,t.top],[n.left,n.top])?{left:r[0],top:r[1]}:null}function sU(e){if(e.length===0)throw new Error("Can't calculate bounding rect for 0 rects");let t=e[0].left,n=e[0].left+e[0].width,r=e[0].top,i=e[0].top+e[0].height;for(let a=1;a<e.length;a++){const l=e[a].left+e[a].width,c=e[a].top+e[a].height;e[a].left<t&&(t=e[a].left),e[a].top<r&&(r=e[a].top),l>n&&(n=l),c>i&&(i=c)}return{left:t,top:r,height:i-r,width:n-t}}var lU=fc,uU=lU(Object,"create"),Hy=uU,sk=Hy;function cU(){this.__data__=sk?sk(null):{},this.size=0}var fU=cU;function dU(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hU=dU,pU=Hy,gU="__lodash_hash_undefined__",vU=Object.prototype,mU=vU.hasOwnProperty;function yU(e){var t=this.__data__;if(pU){var n=t[e];return n===gU?void 0:n}return mU.call(t,e)?t[e]:void 0}var wU=yU,xU=Hy,bU=Object.prototype,EU=bU.hasOwnProperty;function SU(e){var t=this.__data__;return xU?t[e]!==void 0:EU.call(t,e)}var CU=SU,TU=Hy,kU="__lodash_hash_undefined__";function _U(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=TU&&t===void 0?kU:t,this}var OU=_U,LU=fU,PU=hU,AU=wU,NU=CU,IU=OU;function od(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}od.prototype.clear=LU;od.prototype.delete=PU;od.prototype.get=AU;od.prototype.has=NU;od.prototype.set=IU;var RU=od;function MU(){this.__data__=[],this.size=0}var FU=MU,jU=jy;function $U(e,t){for(var n=e.length;n--;)if(jU(e[n][0],t))return n;return-1}var Uy=$U,DU=Uy,BU=Array.prototype,zU=BU.splice;function HU(e){var t=this.__data__,n=DU(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zU.call(t,n,1),--this.size,!0}var UU=HU,WU=Uy;function KU(e){var t=this.__data__,n=WU(t,e);return n<0?void 0:t[n][1]}var GU=KU,qU=Uy;function XU(e){return qU(this.__data__,e)>-1}var VU=XU,YU=Uy;function QU(e,t){var n=this.__data__,r=YU(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ZU=QU,JU=FU,eW=UU,tW=GU,nW=VU,rW=ZU;function ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ad.prototype.clear=JU;ad.prototype.delete=eW;ad.prototype.get=tW;ad.prototype.has=nW;ad.prototype.set=rW;var Wy=ad,iW=fc,oW=Is,aW=iW(oW,"Map"),CE=aW,lk=RU,sW=Wy,lW=CE;function uW(){this.size=0,this.__data__={hash:new lk,map:new(lW||sW),string:new lk}}var cW=uW;function fW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dW=fW,hW=dW;function pW(e,t){var n=e.__data__;return hW(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ky=pW,gW=Ky;function vW(e){var t=gW(this,e).delete(e);return this.size-=t?1:0,t}var mW=vW,yW=Ky;function wW(e){return yW(this,e).get(e)}var xW=wW,bW=Ky;function EW(e){return bW(this,e).has(e)}var SW=EW,CW=Ky;function TW(e,t){var n=CW(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var kW=TW,_W=cW,OW=mW,LW=xW,PW=SW,AW=kW;function sd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sd.prototype.clear=_W;sd.prototype.delete=OW;sd.prototype.get=LW;sd.prototype.has=PW;sd.prototype.set=AW;var TE=sd,NW="__lodash_hash_undefined__";function IW(e){return this.__data__.set(e,NW),this}var RW=IW;function MW(e){return this.__data__.has(e)}var FW=MW,jW=TE,$W=RW,DW=FW;function iy(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jW;++t<n;)this.add(e[t])}iy.prototype.add=iy.prototype.push=$W;iy.prototype.has=DW;var AP=iy;function BW(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var zW=BW;function HW(e){return e!==e}var UW=HW;function WW(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var KW=WW,GW=zW,qW=UW,XW=KW;function VW(e,t,n){return t===t?XW(e,t,n):GW(e,qW,n)}var YW=VW,QW=YW;function ZW(e,t){var n=e==null?0:e.length;return!!n&&QW(e,t,0)>-1}var JW=ZW;function e8(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var t8=e8;function n8(e,t){return e.has(t)}var NP=n8,r8=fc,i8=Is,o8=r8(i8,"Set"),IP=o8;function a8(){}var s8=a8;function l8(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kE=l8,Zw=IP,u8=s8,c8=kE,f8=1/0,d8=Zw&&1/c8(new Zw([,-0]))[1]==f8?function(e){return new Zw(e)}:u8,h8=d8,p8=AP,g8=JW,v8=t8,m8=NP,y8=h8,w8=kE,x8=200;function b8(e,t,n){var r=-1,i=g8,a=e.length,l=!0,c=[],p=c;if(n)l=!1,i=v8;else if(a>=x8){var v=t?null:y8(e);if(v)return w8(v);l=!1,i=m8,p=new p8}else p=t?[]:c;e:for(;++r<a;){var m=e[r],x=t?t(m):m;if(m=n||m!==0?m:0,l&&x===x){for(var S=p.length;S--;)if(p[S]===x)continue e;t&&p.push(x),c.push(m)}else i(p,x,n)||(p!==c&&p.push(x),c.push(m))}return c}var E8=b8,S8=E8;function C8(e){return e&&e.length?S8(e):[]}var T8=C8;const RP=Sn(T8),k8=e=>e.match(/\[\[.*?\]\]/g)||[],_8=e=>!/^\w+:\/\/\/?\w/i.test(e),O8=e=>e!=="",L8=e=>{const t=ym(e,"][",0);return t!=null?t:e},P8=e=>e.substr(2,e.length-4),ym=(e,t,n)=>{const r=e.split(t);if(r.length!==1)return n<0?r[r.length+n]:r[n]},A8=e=>ym(e,"->",-1)||ym(e,"<-",0)||ym(e,"|",-1)||e;function Ju(e,t){let n=RP(k8(e).map(P8).map(L8).map(A8).filter(O8));return t&&(n=n.filter(_8)),n}function N8(e,t,n,r){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");return i=>{const a=Ju(r),l=Ju(n).filter(C=>!a.includes(C)&&!e.passages.some(I=>I.name===C));if(l.length===0)return;const c=Wl(),p=25;let v=t.top+t.height+p;const m=l.length*c.width+(l.length-1)*p;let x=t.left+(t.width-m)/2;const S=()=>e.passages.some(C=>zy(C,{left:x,top:v,height:c.height,width:m}));for(;S()&&(x+=c.width+p,!(!S()||(x-=2*(c.width+p),!S())));)x+=c.width+p,v+=c.height+p;i({type:"createPassages",storyId:e.id,props:l.map(C=>{const I={left:x,name:C,top:v};return x+=c.width+p,I})})}}function I8(e,t,n){const r=mn();if(n.name.trim()==="")throw new Error("Story name cannot be empty");if(e.some(i=>i.name.toLowerCase()===n.name.toLowerCase()))throw new Error('There is already a story named "'.concat(n.name,'"'));return i=>(i({type:"createStory",props:{id:r,storyFormat:t.storyFormat.name,storyFormatVersion:t.storyFormat.version,...n}}),r)}function dp(e,t){if(t.includes(e)){let n=1;for(;t.includes("".concat(e," ").concat(n));)n++;return"".concat(e," ").concat(n)}return e}function MP(e,t,n){if(!Number.isFinite(t)||!Number.isFinite(n))throw new Error("Center must be a finite coordinate pair");const r=Wl(),i=dp(r.name,e.passages.map(p=>p.name)),a=25,l={height:r.height,left:Math.max(t-r.width/2,0),top:Math.max(n-r.height/2,0),width:r.width};e.snapToGrid&&(l.left=Math.round(l.left/a)*a,l.top=Math.round(l.top/a)*a);const c=()=>e.passages.some(p=>zy(p,l));for(;c()&&(l.left+=l.width+a,!(!c()||(l.left-=l.width+a,l.top+=l.height+a,!c())));){if(l.left>=l.width+a){if(l.left-=l.width+a,!c())break;l.left+=l.width+a}l.top+=l.height+a}return{type:"createPassage",storyId:e.id,props:{...l,story:e.id,name:i}}}function R8(e,t){return{type:"deletePassages",storyId:e.id,passageIds:t.map(n=>n.id)}}function M8(e){return{type:"deleteStory",storyId:e.id}}function F8(e,t){return{type:"createStory",props:{...e,id:mn(),ifid:mn(),name:dp(e.name,t.map(n=>n.name))}}}function j8(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var FP=j8,$8=Up,D8=Gp,B8="[object Symbol]";function z8(e){return typeof e=="symbol"||D8(e)&&$8(e)==B8}var Gy=z8,uk=Hp,H8=FP,U8=ja,W8=Gy,K8=1/0,ck=uk?uk.prototype:void 0,fk=ck?ck.toString:void 0;function jP(e){if(typeof e=="string")return e;if(U8(e))return H8(e,jP)+"";if(W8(e))return fk?fk.call(e):"";var t=e+"";return t=="0"&&1/e==-K8?"-0":t}var G8=jP,q8=G8;function X8(e){return e==null?"":q8(e)}var _E=X8,V8=_E,$P=/[\\^$.*+?()[\]{}|]/g,Y8=RegExp($P.source);function Q8(e){return e=V8(e),e&&Y8.test(e)?e.replace($P,"\\$&"):e}var Z8=Q8;const DP=Sn(Z8);function BP(e,t){return new RegExp(t.useRegexes?e:DP(e),t.matchCase?"g":"gi")}function J8(e){return e.replace(/\$/g,"$$$$")}function As(e){return Array.isArray?Array.isArray(e):UP(e)==="[object Array]"}const e5=1/0;function t5(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-e5?"-0":t}function n5(e){return e==null?"":t5(e)}function ka(e){return typeof e=="string"}function zP(e){return typeof e=="number"}function r5(e){return e===!0||e===!1||i5(e)&&UP(e)=="[object Boolean]"}function HP(e){return typeof e=="object"}function i5(e){return HP(e)&&e!==null}function Fi(e){return e!=null}function Jw(e){return!e.trim().length}function UP(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const o5="Incorrect 'index' type",a5=e=>"Invalid value for key ".concat(e),s5=e=>"Pattern length exceeds max of ".concat(e,"."),l5=e=>"Missing ".concat(e," property in key"),u5=e=>"Property 'weight' in key '".concat(e,"' must be a positive integer"),dk=Object.prototype.hasOwnProperty;class c5{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=WP(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function WP(e){let t=null,n=null,r=null,i=1,a=null;if(ka(e)||As(e))r=e,t=hk(e),n=Fx(e);else{if(!dk.call(e,"name"))throw new Error(l5("name"));const l=e.name;if(r=l,dk.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(u5(l));t=hk(l),n=Fx(l),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function hk(e){return As(e)?e:e.split(".")}function Fx(e){return As(e)?e.join("."):e}function f5(e,t){let n=[],r=!1;const i=(a,l,c)=>{if(Fi(a))if(!l[c])n.push(a);else{let p=l[c];const v=a[p];if(!Fi(v))return;if(c===l.length-1&&(ka(v)||zP(v)||r5(v)))n.push(n5(v));else if(As(v)){r=!0;for(let m=0,x=v.length;m<x;m+=1)i(v[m],l,c+1)}else l.length&&i(v,l,c+1)}};return i(e,ka(t)?t.split("."):t,0),r?n:n[0]}const d5={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},h5={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},p5={location:0,threshold:.6,distance:100},g5={useExtendedSearch:!1,getFn:f5,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Et={...h5,...d5,...p5,...g5};const v5=/[^ ]+/g;function m5(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const a=i.match(v5).length;if(n.has(a))return n.get(a);const l=1/Math.pow(a,.5*e),c=parseFloat(Math.round(l*r)/r);return n.set(a,c),c},clear(){n.clear()}}}class OE{constructor({getFn:t=Et.getFn,fieldNormWeight:n=Et.fieldNormWeight}={}){this.norm=m5(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ka(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ka(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Fi(t)||Jw(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,a)=>{let l=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Fi(l)){if(As(l)){let c=[];const p=[{nestedArrIndex:-1,value:l}];for(;p.length;){const{nestedArrIndex:v,value:m}=p.pop();if(Fi(m))if(ka(m)&&!Jw(m)){let x={v:m,i:v,n:this.norm.get(m)};c.push(x)}else As(m)&&m.forEach((x,S)=>{p.push({nestedArrIndex:S,value:x})})}r.$[a]=c}else if(ka(l)&&!Jw(l)){let c={v:l,n:this.norm.get(l)};r.$[a]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function KP(e,t,{getFn:n=Et.getFn,fieldNormWeight:r=Et.fieldNormWeight}={}){const i=new OE({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(WP)),i.setSources(t),i.create(),i}function y5(e,{getFn:t=Et.getFn,fieldNormWeight:n=Et.fieldNormWeight}={}){const{keys:r,records:i}=e,a=new OE({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function Fv(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Et.distance,ignoreLocation:a=Et.ignoreLocation}={}){const l=t/e.length;if(a)return l;const c=Math.abs(r-n);return i?l+c/i:c?1:l}function w5(e=[],t=Et.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let l=e.length;a<l;a+=1){let c=e[a];c&&r===-1?r=a:!c&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}const ju=32;function x5(e,t,n,{location:r=Et.location,distance:i=Et.distance,threshold:a=Et.threshold,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,includeMatches:p=Et.includeMatches,ignoreLocation:v=Et.ignoreLocation}={}){if(t.length>ju)throw new Error(s5(ju));const m=t.length,x=e.length,S=Math.max(0,Math.min(r,x));let C=a,I=S;const $=c>1||p,N=$?Array(x):[];let L;for(;(L=e.indexOf(t,I))>-1;){let V=Fv(t,{currentLocation:L,expectedLocation:S,distance:i,ignoreLocation:v});if(C=Math.min(V,C),I=L+m,$){let re=0;for(;re<m;)N[L+re]=1,re+=1}}I=-1;let M=[],B=1,j=m+x;const U=1<<m-1;for(let V=0;V<m;V+=1){let re=0,fe=j;for(;re<fe;)Fv(t,{errors:V,currentLocation:S+fe,expectedLocation:S,distance:i,ignoreLocation:v})<=C?re=fe:j=fe,fe=Math.floor((j-re)/2+re);j=fe;let ve=Math.max(1,S-fe+1),xe=l?x:Math.min(S+fe,x)+m,ze=Array(xe+2);ze[xe+1]=(1<<V)-1;for(let Q=xe;Q>=ve;Q-=1){let G=Q-1,Ce=n[e.charAt(G)];if($&&(N[G]=+!!Ce),ze[Q]=(ze[Q+1]<<1|1)&Ce,V&&(ze[Q]|=(M[Q+1]|M[Q])<<1|1|M[Q+1]),ze[Q]&U&&(B=Fv(t,{errors:V,currentLocation:G,expectedLocation:S,distance:i,ignoreLocation:v}),B<=C)){if(C=B,I=G,I<=S)break;ve=Math.max(1,2*S-I)}}if(Fv(t,{errors:V+1,currentLocation:S,expectedLocation:S,distance:i,ignoreLocation:v})>C)break;M=ze}const X={isMatch:I>=0,score:Math.max(.001,B)};if($){const V=w5(N,c);V.length?p&&(X.indices=V):X.isMatch=!1}return X}function b5(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class GP{constructor(t,{location:n=Et.location,threshold:r=Et.threshold,distance:i=Et.distance,includeMatches:a=Et.includeMatches,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,isCaseSensitive:p=Et.isCaseSensitive,ignoreLocation:v=Et.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:p,ignoreLocation:v},this.pattern=p?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const m=(S,C)=>{this.chunks.push({pattern:S,alphabet:b5(S),startIndex:C})},x=this.pattern.length;if(x>ju){let S=0;const C=x%ju,I=x-C;for(;S<I;)m(this.pattern.substr(S,ju),S),S+=ju;if(C){const $=x-ju;m(this.pattern.substr($),$)}}else m(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let I={isMatch:!0,score:0};return r&&(I.indices=[[0,t.length-1]]),I}const{location:i,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:p,ignoreLocation:v}=this.options;let m=[],x=0,S=!1;this.chunks.forEach(({pattern:I,alphabet:$,startIndex:N})=>{const{isMatch:L,score:M,indices:B}=x5(t,I,$,{location:i+N,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:p,includeMatches:r,ignoreLocation:v});L&&(S=!0),x+=M,L&&B&&(m=[...m,...B])});let C={isMatch:S,score:S?x/this.chunks.length:1};return S&&r&&(C.indices=m),C}}class Kl{constructor(t){this.pattern=t}static isMultiMatch(t){return pk(t,this.multiRegex)}static isSingleMatch(t){return pk(t,this.singleRegex)}search(){}}function pk(e,t){const n=e.match(t);return n?n[1]:null}class E5 extends Kl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class S5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class C5 extends Kl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class T5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class k5 extends Kl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class _5 extends Kl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class qP extends Kl{constructor(t,{location:n=Et.location,threshold:r=Et.threshold,distance:i=Et.distance,includeMatches:a=Et.includeMatches,findAllMatches:l=Et.findAllMatches,minMatchCharLength:c=Et.minMatchCharLength,isCaseSensitive:p=Et.isCaseSensitive,ignoreLocation:v=Et.ignoreLocation}={}){super(t),this._bitapSearch=new GP(t,{location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class XP extends Kl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],a=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+a,i.push([r,n-1]);const l=!!i.length;return{isMatch:l,score:l?0:1,indices:i}}}const jx=[E5,XP,C5,T5,_5,k5,S5,qP],gk=jx.length,O5=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,L5="|";function P5(e,t={}){return e.split(L5).map(n=>{let r=n.trim().split(O5).filter(a=>a&&!!a.trim()),i=[];for(let a=0,l=r.length;a<l;a+=1){const c=r[a];let p=!1,v=-1;for(;!p&&++v<gk;){const m=jx[v];let x=m.isMultiMatch(c);x&&(i.push(new m(x,t)),p=!0)}if(!p)for(v=-1;++v<gk;){const m=jx[v];let x=m.isSingleMatch(c);if(x){i.push(new m(x,t));break}}}return i})}const A5=new Set([qP.type,XP.type]);class N5{constructor(t,{isCaseSensitive:n=Et.isCaseSensitive,includeMatches:r=Et.includeMatches,minMatchCharLength:i=Et.minMatchCharLength,ignoreLocation:a=Et.ignoreLocation,findAllMatches:l=Et.findAllMatches,location:c=Et.location,threshold:p=Et.threshold,distance:v=Et.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:l,ignoreLocation:a,location:c,threshold:p,distance:v},this.pattern=n?t:t.toLowerCase(),this.query=P5(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let a=0,l=[],c=0;for(let p=0,v=n.length;p<v;p+=1){const m=n[p];l.length=0,a=0;for(let x=0,S=m.length;x<S;x+=1){const C=m[x],{isMatch:I,indices:$,score:N}=C.search(t);if(I){if(a+=1,c+=N,r){const L=C.constructor.type;A5.has(L)?l=[...l,...$]:l.push($)}}else{c=0,a=0,l.length=0;break}}if(a){let x={isMatch:!0,score:c/a};return r&&(x.indices=l),x}}return{isMatch:!1,score:1}}}const $x=[];function I5(...e){$x.push(...e)}function Dx(e,t){for(let n=0,r=$x.length;n<r;n+=1){let i=$x[n];if(i.condition(e,t))return new i(e,t)}return new GP(e,t)}const oy={AND:"$and",OR:"$or"},Bx={PATH:"$path",PATTERN:"$val"},zx=e=>!!(e[oy.AND]||e[oy.OR]),R5=e=>!!e[Bx.PATH],M5=e=>!As(e)&&HP(e)&&!zx(e),vk=e=>({[oy.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function VP(e,t,{auto:n=!0}={}){const r=i=>{let a=Object.keys(i);const l=R5(i);if(!l&&a.length>1&&!zx(i))return r(vk(i));if(M5(i)){const p=l?i[Bx.PATH]:a[0],v=l?i[Bx.PATTERN]:i[p];if(!ka(v))throw new Error(a5(p));const m={keyId:Fx(p),pattern:v};return n&&(m.searcher=Dx(v,t)),m}let c={children:[],operator:a[0]};return a.forEach(p=>{const v=i[p];As(v)&&v.forEach(m=>{c.children.push(r(m))})}),c};return zx(e)||(e=vk(e)),r(e)}function F5(e,{ignoreFieldNorm:t=Et.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:a,score:l})=>{const c=i?i.weight:null;r*=Math.pow(l===0&&c?Number.EPSILON:l,(c||1)*(t?1:a))}),n.score=r})}function j5(e,t){const n=e.matches;t.matches=[],Fi(n)&&n.forEach(r=>{if(!Fi(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let l={indices:i,value:a};r.key&&(l.key=r.key.src),r.idx>-1&&(l.refIndex=r.idx),t.matches.push(l)})}function $5(e,t){t.score=e.score}function D5(e,t,{includeMatches:n=Et.includeMatches,includeScore:r=Et.includeScore}={}){const i=[];return n&&i.push(j5),r&&i.push($5),e.map(a=>{const{idx:l}=a,c={item:t[l],refIndex:l};return i.length&&i.forEach(p=>{p(a,c)}),c})}class ld{constructor(t,n={},r){this.options={...Et,...n},this.options.useExtendedSearch,this._keyStore=new c5(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof OE))throw new Error(o5);this._myIndex=n||KP(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Fi(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];t(a,r)&&(this.removeAt(r),r-=1,i-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:l,ignoreFieldNorm:c}=this.options;let p=ka(t)?ka(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return F5(p,{ignoreFieldNorm:c}),a&&p.sort(l),zP(n)&&n>-1&&(p=p.slice(0,n)),D5(p,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=Dx(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:l,n:c})=>{if(!Fi(a))return;const{isMatch:p,score:v,indices:m}=n.searchIn(a);p&&i.push({item:a,idx:l,matches:[{score:v,value:a,norm:c,indices:m}]})}),i}_searchLogical(t){const n=VP(t,this.options),r=(c,p,v)=>{if(!c.children){const{keyId:x,searcher:S}=c,C=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(p,x),searcher:S});return C&&C.length?[{idx:v,item:p,matches:C}]:[]}const m=[];for(let x=0,S=c.children.length;x<S;x+=1){const C=c.children[x],I=r(C,p,v);if(I.length)m.push(...I);else if(c.operator===oy.AND)return[]}return m},i=this._myIndex.records,a={},l=[];return i.forEach(({$:c,i:p})=>{if(Fi(c)){let v=r(n,c,p);v.length&&(a[p]||(a[p]={idx:p,item:c,matches:[]},l.push(a[p])),v.forEach(({matches:m})=>{a[p].matches.push(...m)}))}}),l}_searchObjectList(t){const n=Dx(t,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:l,i:c})=>{if(!Fi(l))return;let p=[];r.forEach((v,m)=>{p.push(...this._findMatches({key:v,value:l[m],searcher:n}))}),p.length&&a.push({idx:c,item:l,matches:p})}),a}_findMatches({key:t,value:n,searcher:r}){if(!Fi(n))return[];let i=[];if(As(n))n.forEach(({v:a,i:l,n:c})=>{if(!Fi(a))return;const{isMatch:p,score:v,indices:m}=r.searchIn(a);p&&i.push({score:v,key:t,value:a,idx:l,norm:c,indices:m})});else{const{v:a,n:l}=n,{isMatch:c,score:p,indices:v}=r.searchIn(a);c&&i.push({score:p,key:t,value:a,norm:l,indices:v})}return i}}ld.version="6.6.2";ld.createIndex=KP;ld.parseIndex=y5;ld.config=Et;ld.parseQuery=VP;I5(N5);function Os(e,t,n){const i=on(e,t).passages.find(a=>a.id===n);if(i)return i;throw new Error('There is no passage with ID "'.concat(n,'" in a story with ID "').concat(t,'".'))}function ay(e,t,n){const i=on(e,t).passages.find(a=>a.name===n);if(i)return i;throw new Error('There is no passage with name "'.concat(n,'" in a story with ID "').concat(t,'".'))}function mk(e,t){const n=t!=null?t:a=>Ju(a,!0),r=new Map(e.map(a=>[a.name,a])),i={draggable:{broken:new Set,connections:new Map,self:new Set},fixed:{broken:new Set,connections:new Map,self:new Set}};return e.forEach(a=>n(a.text).forEach(l=>{if(l===a.name)(a.selected?i.draggable:i.fixed).self.add(a);else{const c=r.get(l);if(c){const p=a.selected||c.selected?i.draggable:i.fixed;p.connections.has(a)?p.connections.get(a).add(c):p.connections.set(a,new Set([c]))}else(a.selected?i.draggable:i.fixed).broken.add(a)}})),i}function B5(e,t,n=5){return t.trim()===""?[]:new ld(e,{ignoreLocation:!0,keys:[{name:"name",weight:.6},{name:"text",weight:.4}]}).search(t,{limit:n}).map(({item:i})=>i)}function z5(e,t,n){if(t==="")return[];const{includePassageNames:r,matchCase:i,useRegexes:a}=n;let l;try{l=BP(t,{matchCase:i,useRegexes:a})}catch{return[]}return e.reduce((c,p)=>l.test(p.text)||r&&l.test(p.name)?[...c,p]:c,[])}function YP(e){return Array.from(e.passages.reduce((t,n)=>(n.tags&&n.tags.forEach(r=>t.add(r)),t),new Set)).sort()}function H5(e){const t=e.passages.reduce((r,i)=>[...r,...Ju(i.text).filter(a=>r.indexOf(a)===-1)],[]);return{brokenLinks:RP(t).filter(r=>!e.passages.some(i=>i.name===r)),links:t,characters:e.passages.reduce((r,i)=>r+i.text.length,0),passages:e.passages.length,words:e.passages.reduce((r,i)=>r+i.text.split(/\s+/).length,0)}}function LE(e){return Array.from(e.reduce((t,n)=>(n.tags&&n.tags.forEach(r=>t.add(r)),t),new Set)).sort()}function on(e,t){const n=e.find(r=>r.id===t);if(n)return n;throw new Error('There is no story with ID "'.concat(t,'".'))}function QP(e,t){const n=e.find(r=>r.name===t);if(n)return n;throw new Error('There is no story with name "'.concat(t,'".'))}function ZP(e){return e.text===""&&e.tags.length===0&&e.width===100&&e.height===100}function U5(e,t,n,r){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");return i=>{const a=Ju(r),l=Ju(n),p=a.filter(v=>!l.includes(v)).reduce((v,m)=>{const x=e.passages.find(S=>S.name===m);return!x||!ZP(x)||e.startPassage===x.id||e.passages.some(S=>S.id!==t.id&&Ju(S.text).includes(m))?v:[...v,x.id]},[]);p.length>0&&i({type:"deletePassages",passageIds:p,storyId:e.id})}}function Dl(e,t,n,r={}){if(!e.passages.some(i=>i.id===t.id))throw new Error("This passage does not belong to this story.");if("name"in n&&e.passages.filter(i=>i.name===n.name).some(i=>i.id!==t.id))throw new Error('There is already a passage named "'.concat(n.name,'".'));return(i,a)=>{const l=t.name,c=t.text;if(i({props:n,type:"updatePassage",passageId:t.id,storyId:e.id}),!r.dontUpdateOthers&&n.text){i(U5(e,t,n.text,c));const p=on(a(),e.id);i(N8(p,t,n.text,c))}if(n.name){const p=DP(l),v=n.name.replace(/\$/g,"$$$$"),m=new RegExp("\\[\\["+p+"(\\]\\[.*?)?\\]\\]","g"),x=new RegExp("\\[\\[(.*?)(\\||->)"+p+"(\\]\\[.*?)?\\]\\]","g"),S=new RegExp("\\[\\["+p+"(<-.*?)(\\]\\[.*?)?\\]\\]","g");e.passages.forEach(C=>{if(m.test(C.text)||x.test(C.text)||S.test(C.text)){let I=C.text;I=I.replace(m,"[["+v+"$1]]"),I=I.replace(x,"[[$1$2"+v+"$3]]"),I=I.replace(S,"[["+v+"$1$2]]"),Dl(e,C,{text:I},r)(i,a)}})}}}function sy(e,t,n,r){const{matchCase:i,useRegexes:a}=r,l=BP(t,{matchCase:i,useRegexes:a}),c=a?n:J8(n);return e.replace(l,c)}function W5(e,t,n,r,i){return(a,l)=>{if(n==="")throw new Error("Can't replace an empty string");if(t.story!==e.id)throw new Error("Passage does not belong to story");const{includePassageNames:c}=i,p={},v=sy(t.text,n,r,i);if(v!==t.text&&(p.text=v),c){const m=sy(t.name,n,r,i);m!==t.name&&(p.name=m)}Object.keys(p).length>0&&Dl(e,t,p)(a,l)}}function K5(e,t,n,r){return(i,a)=>{if(t==="")throw new Error("Can't replace an empty string");if(r.includePassageNames){for(const l of e.passages){const c=sy(l.name,t,n,r);c!==l.name&&Dl(e,l,{name:c})(i,a)}for(const l of e.passages){const c=sy(l.text,t,n,r);c!==l.text&&Dl(e,l,{text:c})(i,a)}}else for(const l of e.passages)W5(e,l,t,n,r)(i,a)}}function yk(e,t){return n=>{let r={};for(const i of e.passages){const a=i.highlighted,l=t.includes(i.id);l!==a&&(r[i.id]={highlighted:l})}Object.keys(r).length>0&&n({passageUpdates:r,type:"updatePassages",storyId:e.id})}}function hi(e,t=".html"){return e.name.replace(/[^\w. -]/g,"_")+t}function G5(e,t){return e.forEach(n=>{if(e.some(r=>r!==n&&hi(r)===hi(n)))throw new Error('Stories to import cannot have the same name: "'.concat(n.name,'"'))}),n=>{e.forEach(r=>{const i={...r};delete i.id;const a=t.find(l=>hi(l)===hi(r));a?(i.passages&&(i.passages=i.passages.map(l=>({...l,story:a.id}))),n({props:i,type:"updateStory",storyId:a.id})):n({props:i,type:"createStory"})})}}function q5(e,t,n,r){const i={};if(!Number.isFinite(n)||!Number.isFinite(r))throw new Error("Offset must be a finite number.");return t.forEach(a=>{const l=e.passages.find(v=>v.id===a);if(!l)throw new Error('There is no passage in this story with ID "'.concat(a,'".'));let c=Math.max(l.left+n,0),p=Math.max(l.top+r,0);e.snapToGrid&&(c=Math.round(c/25)*25,p=Math.round(p/25)*25),i[l.id]={left:c,top:p}}),{type:"updatePassages",passageUpdates:i,storyId:e.id}}function ud(e){return e.length>0&&!/\s/.test(e)}function X5(e,t,n){if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));return r=>{const i={};if(e.passages.forEach(a=>{a.tags.includes(t)&&(i[a.id]={tags:a.tags.map(l=>l===t?n:l)})}),Object.keys(i).length>0){r({type:"updatePassages",passageUpdates:i,storyId:e.id});const a={...e.tagColors};delete a[t],a[n]=e.tagColors[t],r({type:"updateStory",props:{tagColors:a},storyId:e.id})}}}function V5(e,t,n){if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));return r=>{e.forEach(i=>{i.tags.includes(t)&&r({type:"updateStory",storyId:i.id,props:{tags:i.tags.map(a=>a===t?n:a)}})})}}function Y5(e,t){if(t.story!==e.id)throw new Error("This passage does not belong to this story");return n=>{t.selected&&n({type:"updatePassage",passageId:t.id,props:{selected:!1},storyId:e.id})}}function Q5(e){return t=>{const n={};e.passages.forEach(r=>{r.selected||(n[r.id]={selected:!0})}),Object.keys(n).length>0&&t({passageUpdates:n,type:"updatePassages",storyId:e.id})}}function JP(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story");return r=>{const i={};t.selected||(i[t.id]={selected:!0}),n&&e.passages.forEach(a=>{a.id!==t.id&&a.selected&&(i[a.id]={selected:!1})}),Object.keys(i).length>0&&r({type:"updatePassages",passageUpdates:i,storyId:e.id})}}function Z5(e,t,n=[]){return r=>{const i={};e.passages.forEach(a=>{if(n.find(c=>c===a.id))return;const l=zy(t,a);a.selected!==l&&(i[a.id]={selected:l})}),Object.keys(i).length>0&&r({type:"updatePassages",passageUpdates:i,storyId:e.id})}}function J5(e){return(t,n)=>{e.selected||t({type:"updateStory",storyId:e.id,props:{selected:!1}})}}function e7(){return(e,t)=>{for(const n of t())n.selected&&e({type:"updateStory",storyId:n.id,props:{selected:!1}})}}function t7(e,t){return(n,r)=>{if(e.selected||n({type:"updateStory",storyId:e.id,props:{selected:!0}}),t)for(const i of r())i.id!==e.id&&i.selected&&n({type:"updateStory",storyId:i.id,props:{selected:!1}})}}function eA(e,t,n){if(!ud(t))throw new Error('"'.concat(t,'" is not a valid tag name.'));return r=>{if(n==="none"){if(t in e.tagColors){const i={...e.tagColors};delete i[t],r({type:"updateStory",props:{tagColors:i},storyId:e.id})}}else r({type:"updateStory",props:{tagColors:{...e.tagColors,[t]:n}},storyId:e.id})}}function n7(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story.");if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));if(t.tags.includes(n))throw new Error('This passage already has the tag "'.concat(n,'".'));return{type:"updatePassage",passageId:t.id,storyId:e.id,props:{tags:[...t.tags,n]}}}function r7(e,t,n){if(t.story!==e.id)throw new Error("This passage does not belong to this story.");if(!ud(n))throw new Error('"'.concat(n,'" is not a valid tag name.'));if(!t.tags.includes(n))throw new Error('This passage does not have the tag "'.concat(n,'".'));return{type:"updatePassage",passageId:t.id,storyId:e.id,props:{tags:t.tags.filter(r=>r!==n)}}}function Zr(e,t,n){if(n.name&&e.filter(r=>hi(r)===hi({...r,...n})).some(r=>r.id!==t.id))throw new Error('There is already a story named "'.concat(n.name,'".'));return{props:n,storyId:t.id,type:"updateStory"}}var tA={exports:{}};(function(e,t){(function(r,i){e.exports=i(O)})(typeof self<"u"?self:Pn,function(n){return function(r){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=r,a.c=i,a.d=function(l,c,p){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:p})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(c&1&&(l=a(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var p=Object.create(null);if(a.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var v in l)a.d(p,v,(function(m){return l[m]}).bind(null,v));return p},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="/dist/",a(a.s="./src/thunk-reducer.js")}({"./src/thunk-reducer.js":function(r,i,a){a.r(i),a.d(i,"useThunkReducer",function(){return x});var l=a("react");function c(S,C){return m(S)||v(S,C)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(S,C){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]"){var I=[],$=!0,N=!1,L=void 0;try{for(var M=S[Symbol.iterator](),B;!($=(B=M.next()).done)&&(I.push(B.value),!(C&&I.length===C));$=!0);}catch(j){N=!0,L=j}finally{try{!$&&M.return!=null&&M.return()}finally{if(N)throw L}}return I}}function m(S){if(Array.isArray(S))return S}function x(S,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(re){return re},$=Object(l.useState)(I(C)),N=c($,2),L=N[0],M=N[1],B=Object(l.useRef)(L),j=Object(l.useCallback)(function(){return B.current},[B]),U=Object(l.useCallback)(function(re){B.current=re,M(re)},[B,M]),X=Object(l.useCallback)(function(re){return S(j(),re)},[S,j]),V=Object(l.useCallback)(function(re){return typeof re=="function"?re(V,j):U(X(re))},[j,U,X]);return[L,V]}i.default=x},react:function(r,i){r.exports=n}})})})(tA);var i7=tA.exports;const PE=Sn(i7);function nA(e,t,n){let r=!1,i=!1;const a=e.map(l=>{if(l.id!==t)return l;if(r=!0,l.passages.some(v=>v.id===n.id))return console.warn('There is already a passage in this story with ID "'.concat(n.id,'", taking no action')),l;if("name"in n&&l.passages.some(v=>v.name===n.name))return console.warn('There is already a passage in this story with name "'.concat(n.name,'", taking no action')),l;const c={...Wl(),id:mn(),...n,story:l.id},p={...l,lastUpdate:new Date,passages:[...l.passages,c]};return p.passages.length===1&&(p.startPassage=c.id),i=!0,p});return r?i?a:e:(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function o7(e,t,n){return n.reduce((r,i)=>nA(r,t,i),e)}function a7(e,t){if("id"in t&&e.some(r=>r.id===t.id))return console.warn('There is already a story in state with ID "'.concat(t.id,'", taking no action')),e;if("name"in t&&e.some(r=>r.name===t.name))return console.warn('There is already a story in state with name "'.concat(t.name,'", taking no action')),e;let n={id:mn(),...id(),ifid:mn().toUpperCase(),lastUpdate:new Date,passages:[],tags:[],tagColors:{},...t};return n.passages=n.passages.map(r=>({...Wl,...r,story:n.id})),[...e,n]}function rA(e,t,n){let r=!1,i=!1;const a=e.map(l=>{if(l.id!==t)return l;r=!0;const c={...l,passages:l.passages.filter(p=>p.id===n?(i=!0,!1):!0)};return i?(c.lastUpdate=new Date,c):l});return r?i?a:(console.warn('Asked to delete a passage with ID "'.concat(n,'", but it does not exist in story ID ').concat(t,", taking no action")),e):(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function s7(e,t,n){return n.reduce((r,i)=>rA(r,t,i),e)}function l7(e,t){let n=!1;const r=e.filter(i=>i.id===t?(n=!0,!1):!0);return n?r:(console.warn('Asked to delete a story with ID "'.concat(t,'", but it does not exist in state')),e)}function u7(e,t){return[...t]}var Hx={exports:{}};const c7="2.0.0",iA=256,f7=Number.MAX_SAFE_INTEGER||9007199254740991,d7=16,h7=iA-6,p7=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var qy={MAX_LENGTH:iA,MAX_SAFE_COMPONENT_LENGTH:d7,MAX_SAFE_BUILD_LENGTH:h7,MAX_SAFE_INTEGER:f7,RELEASE_TYPES:p7,SEMVER_SPEC_VERSION:c7,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const g7=typeof yr.process=="object"&&yr.process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Xy=g7;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=qy,a=Xy;t=e.exports={};const l=t.re=[],c=t.safeRe=[],p=t.src=[],v=t.t={};let m=0;const x="[a-zA-Z0-9-]",S=[["\\s",1],["\\d",i],[x,r]],C=$=>{for(const[N,L]of S)$=$.split("".concat(N,"*")).join("".concat(N,"{0,").concat(L,"}")).split("".concat(N,"+")).join("".concat(N,"{1,").concat(L,"}"));return $},I=($,N,L)=>{const M=C(N),B=m++;a($,B,N),v[$]=B,p[B]=N,l[B]=new RegExp(N,L?"g":void 0),c[B]=new RegExp(M,L?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*"),I("NUMERICIDENTIFIERLOOSE","\\d+"),I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(x,"*")),I("MAINVERSION","(".concat(p[v.NUMERICIDENTIFIER],")\\.")+"(".concat(p[v.NUMERICIDENTIFIER],")\\.")+"(".concat(p[v.NUMERICIDENTIFIER],")")),I("MAINVERSIONLOOSE","(".concat(p[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(p[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(p[v.NUMERICIDENTIFIERLOOSE],")")),I("PRERELEASEIDENTIFIER","(?:".concat(p[v.NUMERICIDENTIFIER],"|").concat(p[v.NONNUMERICIDENTIFIER],")")),I("PRERELEASEIDENTIFIERLOOSE","(?:".concat(p[v.NUMERICIDENTIFIERLOOSE],"|").concat(p[v.NONNUMERICIDENTIFIER],")")),I("PRERELEASE","(?:-(".concat(p[v.PRERELEASEIDENTIFIER],"(?:\\.").concat(p[v.PRERELEASEIDENTIFIER],")*))")),I("PRERELEASELOOSE","(?:-?(".concat(p[v.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(p[v.PRERELEASEIDENTIFIERLOOSE],")*))")),I("BUILDIDENTIFIER","".concat(x,"+")),I("BUILD","(?:\\+(".concat(p[v.BUILDIDENTIFIER],"(?:\\.").concat(p[v.BUILDIDENTIFIER],")*))")),I("FULLPLAIN","v?".concat(p[v.MAINVERSION]).concat(p[v.PRERELEASE],"?").concat(p[v.BUILD],"?")),I("FULL","^".concat(p[v.FULLPLAIN],"$")),I("LOOSEPLAIN","[v=\\s]*".concat(p[v.MAINVERSIONLOOSE]).concat(p[v.PRERELEASELOOSE],"?").concat(p[v.BUILD],"?")),I("LOOSE","^".concat(p[v.LOOSEPLAIN],"$")),I("GTLT","((?:<|>)?=?)"),I("XRANGEIDENTIFIERLOOSE","".concat(p[v.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),I("XRANGEIDENTIFIER","".concat(p[v.NUMERICIDENTIFIER],"|x|X|\\*")),I("XRANGEPLAIN","[v=\\s]*(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIER],")")+"(?:".concat(p[v.PRERELEASE],")?").concat(p[v.BUILD],"?")+")?)?"),I("XRANGEPLAINLOOSE","[v=\\s]*(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(p[v.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(p[v.PRERELEASELOOSE],")?").concat(p[v.BUILD],"?")+")?)?"),I("XRANGE","^".concat(p[v.GTLT],"\\s*").concat(p[v.XRANGEPLAIN],"$")),I("XRANGELOOSE","^".concat(p[v.GTLT],"\\s*").concat(p[v.XRANGEPLAINLOOSE],"$")),I("COERCE","(^|[^\\d])(\\d{1,".concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),I("COERCERTL",p[v.COERCE],!0),I("LONETILDE","(?:~>?)"),I("TILDETRIM","(\\s*)".concat(p[v.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",I("TILDE","^".concat(p[v.LONETILDE]).concat(p[v.XRANGEPLAIN],"$")),I("TILDELOOSE","^".concat(p[v.LONETILDE]).concat(p[v.XRANGEPLAINLOOSE],"$")),I("LONECARET","(?:\\^)"),I("CARETTRIM","(\\s*)".concat(p[v.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",I("CARET","^".concat(p[v.LONECARET]).concat(p[v.XRANGEPLAIN],"$")),I("CARETLOOSE","^".concat(p[v.LONECARET]).concat(p[v.XRANGEPLAINLOOSE],"$")),I("COMPARATORLOOSE","^".concat(p[v.GTLT],"\\s*(").concat(p[v.LOOSEPLAIN],")$|^$")),I("COMPARATOR","^".concat(p[v.GTLT],"\\s*(").concat(p[v.FULLPLAIN],")$|^$")),I("COMPARATORTRIM","(\\s*)".concat(p[v.GTLT],"\\s*(").concat(p[v.LOOSEPLAIN],"|").concat(p[v.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",I("HYPHENRANGE","^\\s*(".concat(p[v.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(p[v.XRANGEPLAIN],")")+"\\s*$"),I("HYPHENRANGELOOSE","^\\s*(".concat(p[v.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(p[v.XRANGEPLAINLOOSE],")")+"\\s*$"),I("STAR","(<|>)?=?\\s*\\*"),I("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),I("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hx,Hx.exports);var Xp=Hx.exports;const v7=Object.freeze({loose:!0}),m7=Object.freeze({}),y7=e=>e?typeof e!="object"?v7:e:m7;var AE=y7;const wk=/^[0-9]+$/,oA=(e,t)=>{const n=wk.test(e),r=wk.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},w7=(e,t)=>oA(t,e);var aA={compareIdentifiers:oA,rcompareIdentifiers:w7};const jv=Xy,{MAX_LENGTH:xk,MAX_SAFE_INTEGER:$v}=qy,{safeRe:bk,t:Ek}=Xp,x7=AE,{compareIdentifiers:vf}=aA;let b7=class ma{constructor(t,n){if(n=x7(n),t instanceof ma){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>xk)throw new TypeError("version is longer than ".concat(xk," characters"));jv("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?bk[Ek.LOOSE]:bk[Ek.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>$v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$v||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<$v)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(jv("SemVer.compare",this.version,this.options,t),!(t instanceof ma)){if(typeof t=="string"&&t===this.version)return 0;t=new ma(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ma||(t=new ma(t,this.options)),vf(this.major,t.major)||vf(this.minor,t.minor)||vf(this.patch,t.patch)}comparePre(t){if(t instanceof ma||(t=new ma(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(jv("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vf(r,i)}while(++n)}compareBuild(t){t instanceof ma||(t=new ma(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(jv("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vf(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),vf(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error("invalid increment argument: ".concat(t))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};var ti=b7;const Sk=ti,E7=(e,t,n=!1)=>{if(e instanceof Sk)return e;try{return new Sk(e,t)}catch(r){if(!n)return null;throw r}};var cd=E7;const S7=cd,C7=(e,t)=>{const n=S7(e,t);return n?n.version:null};var T7=C7;const k7=cd,_7=(e,t)=>{const n=k7(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var O7=_7;const Ck=ti,L7=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Ck(e instanceof Ck?e.version:e,n).inc(t,r,i).version}catch{return null}};var P7=L7;const Tk=cd,A7=(e,t)=>{const n=Tk(e,null,!0),r=Tk(t,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,l=a?n:r,c=a?r:n,p=!!l.prerelease.length;if(!!c.prerelease.length&&!p)return!c.patch&&!c.minor?"major":l.patch?"patch":l.minor?"minor":"major";const m=p?"pre":"";return n.major!==r.major?m+"major":n.minor!==r.minor?m+"minor":n.patch!==r.patch?m+"patch":"prerelease"};var N7=A7;const I7=ti,R7=(e,t)=>new I7(e,t).major;var M7=R7;const F7=ti,j7=(e,t)=>new F7(e,t).minor;var $7=j7;const D7=ti,B7=(e,t)=>new D7(e,t).patch;var z7=B7;const H7=cd,U7=(e,t)=>{const n=H7(e,t);return n&&n.prerelease.length?n.prerelease:null};var W7=U7;const kk=ti,K7=(e,t,n)=>new kk(e,n).compare(new kk(t,n));var Bo=K7;const G7=Bo,q7=(e,t,n)=>G7(t,e,n);var X7=q7;const V7=Bo,Y7=(e,t)=>V7(e,t,!0);var Q7=Y7;const _k=ti,Z7=(e,t,n)=>{const r=new _k(e,n),i=new _k(t,n);return r.compare(i)||r.compareBuild(i)};var NE=Z7;const J7=NE,e9=(e,t)=>e.sort((n,r)=>J7(n,r,t));var t9=e9;const n9=NE,r9=(e,t)=>e.sort((n,r)=>n9(r,n,t));var i9=r9;const o9=Bo,a9=(e,t,n)=>o9(e,t,n)>0;var Vy=a9;const s9=Bo,l9=(e,t,n)=>s9(e,t,n)<0;var Yy=l9;const sA=Sn(Yy),u9=Bo,c9=(e,t,n)=>u9(e,t,n)===0;var lA=c9;const f9=Bo,d9=(e,t,n)=>f9(e,t,n)!==0;var uA=d9;const h9=Bo,p9=(e,t,n)=>h9(e,t,n)>=0;var IE=p9;const g9=Bo,v9=(e,t,n)=>g9(e,t,n)<=0;var RE=v9;const m9=lA,y9=uA,w9=Vy,x9=IE,b9=Yy,E9=RE,S9=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return m9(e,n,r);case"!=":return y9(e,n,r);case">":return w9(e,n,r);case">=":return x9(e,n,r);case"<":return b9(e,n,r);case"<=":return E9(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}};var cA=S9;const C9=ti,T9=cd,{safeRe:Dv,t:Bv}=Xp,k9=(e,t)=>{if(e instanceof C9)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(Dv[Bv.COERCE]);else{let r;for(;(r=Dv[Bv.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Dv[Bv.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Dv[Bv.COERCERTL].lastIndex=-1}return n===null?null:T9("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)};var _9=k9,e1,Ok;function O9(){return Ok||(Ok=1,e1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),e1}var L9=Vt;Vt.Node=ac;Vt.create=Vt;function Vt(e){var t=this;if(t instanceof Vt||(t=new Vt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Vt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Vt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Vt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Vt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)A9(this,arguments[e]);return this.length};Vt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)N9(this,arguments[e]);return this.length};Vt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Vt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Vt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Vt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Vt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Vt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Vt.prototype.map=function(e,t){t=t||this;for(var n=new Vt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Vt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Vt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Vt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Vt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Vt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Vt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Vt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Vt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Vt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Vt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Vt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=P9(this,i,n[r]);return a};Vt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function P9(e,t,n){var r=t===e.head?new ac(n,null,t,e):new ac(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function A9(e,t){e.tail=new ac(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function N9(e,t){e.head=new ac(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ac(e,t,n,r){if(!(this instanceof ac))return new ac(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{O9()(Vt)}catch{}const I9=L9,$u=Symbol("max"),Es=Symbol("length"),mf=Symbol("lengthCalculator"),qh=Symbol("allowStale"),Ku=Symbol("maxAge"),xs=Symbol("dispose"),Lk=Symbol("noDisposeOnSet"),hr=Symbol("lruList"),Po=Symbol("cache"),fA=Symbol("updateAgeOnGet"),t1=()=>1;class R9{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[$u]=t.max||1/0;const n=t.length||t1;if(this[mf]=typeof n!="function"?t1:n,this[qh]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ku]=t.maxAge||0,this[xs]=t.dispose,this[Lk]=t.noDisposeOnSet||!1,this[fA]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[$u]=t||1/0,xh(this)}get max(){return this[$u]}set allowStale(t){this[qh]=!!t}get allowStale(){return this[qh]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ku]=t,xh(this)}get maxAge(){return this[Ku]}set lengthCalculator(t){typeof t!="function"&&(t=t1),t!==this[mf]&&(this[mf]=t,this[Es]=0,this[hr].forEach(n=>{n.length=this[mf](n.value,n.key),this[Es]+=n.length})),xh(this)}get lengthCalculator(){return this[mf]}get length(){return this[Es]}get itemCount(){return this[hr].length}rforEach(t,n){n=n||this;for(let r=this[hr].tail;r!==null;){const i=r.prev;Pk(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[hr].head;r!==null;){const i=r.next;Pk(this,t,r,n),r=i}}keys(){return this[hr].toArray().map(t=>t.key)}values(){return this[hr].toArray().map(t=>t.value)}reset(){this[xs]&&this[hr]&&this[hr].length&&this[hr].forEach(t=>this[xs](t.key,t.value)),this[Po]=new Map,this[hr]=new I9,this[Es]=0}dump(){return this[hr].map(t=>ly(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[hr]}set(t,n,r){if(r=r||this[Ku],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[mf](n,t);if(this[Po].has(t)){if(a>this[$u])return Bf(this,this[Po].get(t)),!1;const p=this[Po].get(t).value;return this[xs]&&(this[Lk]||this[xs](t,p.value)),p.now=i,p.maxAge=r,p.value=n,this[Es]+=a-p.length,p.length=a,this.get(t),xh(this),!0}const l=new M9(t,n,a,i,r);return l.length>this[$u]?(this[xs]&&this[xs](t,n),!1):(this[Es]+=l.length,this[hr].unshift(l),this[Po].set(t,this[hr].head),xh(this),!0)}has(t){if(!this[Po].has(t))return!1;const n=this[Po].get(t).value;return!ly(this,n)}get(t){return n1(this,t,!0)}peek(t){return n1(this,t,!1)}pop(){const t=this[hr].tail;return t?(Bf(this,t),t.value):null}del(t){Bf(this,this[Po].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{const l=a-n;l>0&&this.set(i.k,i.v,l)}}}prune(){this[Po].forEach((t,n)=>n1(this,n,!1))}}const n1=(e,t,n)=>{const r=e[Po].get(t);if(r){const i=r.value;if(ly(e,i)){if(Bf(e,r),!e[qh])return}else n&&(e[fA]&&(r.value.now=Date.now()),e[hr].unshiftNode(r));return i.value}},ly=(e,t)=>{if(!t||!t.maxAge&&!e[Ku])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Ku]&&n>e[Ku]},xh=e=>{if(e[Es]>e[$u])for(let t=e[hr].tail;e[Es]>e[$u]&&t!==null;){const n=t.prev;Bf(e,t),t=n}},Bf=(e,t)=>{if(t){const n=t.value;e[xs]&&e[xs](n.key,n.value),e[Es]-=n.length,e[Po].delete(n.key),e[hr].removeNode(t)}};class M9{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}const Pk=(e,t,n,r)=>{let i=n.value;ly(e,i)&&(Bf(e,n),e[qh]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var F9=R9,r1,Ak;function zo(){if(Ak)return r1;Ak=1;class e{constructor(Q,G){if(G=r(G),Q instanceof e)return Q.loose===!!G.loose&&Q.includePrerelease===!!G.includePrerelease?Q:new e(Q.raw,G);if(Q instanceof i)return this.raw=Q.value,this.set=[[Q]],this.format(),this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=Q.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(Ce=>this.parseRange(Ce.trim())).filter(Ce=>Ce.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){const Ce=this.set[0];if(this.set=this.set.filter(Te=>!I(Te[0])),this.set.length===0)this.set=[Ce];else if(this.set.length>1){for(const Te of this.set)if(Te.length===1&&$(Te[0])){this.set=[Te];break}}}this.format()}format(){return this.range=this.set.map(Q=>Q.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Q){const Ce=((this.options.includePrerelease&&S)|(this.options.loose&&C))+":"+Q,Te=n.get(Ce);if(Te)return Te;const ye=this.options.loose,me=ye?c[p.HYPHENRANGELOOSE]:c[p.HYPHENRANGE];Q=Q.replace(me,xe(this.options.includePrerelease)),a("hyphen replace",Q),Q=Q.replace(c[p.COMPARATORTRIM],v),a("comparator trim",Q),Q=Q.replace(c[p.TILDETRIM],m),a("tilde trim",Q),Q=Q.replace(c[p.CARETTRIM],x),a("caret trim",Q);let be=Q.split(" ").map(ne=>L(ne,this.options)).join(" ").split(/\s+/).map(ne=>ve(ne,this.options));ye&&(be=be.filter(ne=>(a("loose invalid filter",ne,this.options),!!ne.match(c[p.COMPARATORLOOSE])))),a("range list",be);const te=new Map,oe=be.map(ne=>new i(ne,this.options));for(const ne of oe){if(I(ne))return[ne];te.set(ne.value,ne)}te.size>1&&te.has("")&&te.delete("");const we=[...te.values()];return n.set(Ce,we),we}intersects(Q,G){if(!(Q instanceof e))throw new TypeError("a Range is required");return this.set.some(Ce=>N(Ce,G)&&Q.set.some(Te=>N(Te,G)&&Ce.every(ye=>Te.every(me=>ye.intersects(me,G)))))}test(Q){if(!Q)return!1;if(typeof Q=="string")try{Q=new l(Q,this.options)}catch{return!1}for(let G=0;G<this.set.length;G++)if(ze(this.set[G],Q,this.options))return!0;return!1}}r1=e;const t=F9,n=new t({max:1e3}),r=AE,i=Qy(),a=Xy,l=ti,{safeRe:c,t:p,comparatorTrimReplace:v,tildeTrimReplace:m,caretTrimReplace:x}=Xp,{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:C}=qy,I=J=>J.value==="<0.0.0-0",$=J=>J.value==="",N=(J,Q)=>{let G=!0;const Ce=J.slice();let Te=Ce.pop();for(;G&&Ce.length;)G=Ce.every(ye=>Te.intersects(ye,Q)),Te=Ce.pop();return G},L=(J,Q)=>(a("comp",J,Q),J=U(J,Q),a("caret",J),J=B(J,Q),a("tildes",J),J=V(J,Q),a("xrange",J),J=fe(J,Q),a("stars",J),J),M=J=>!J||J.toLowerCase()==="x"||J==="*",B=(J,Q)=>J.trim().split(/\s+/).map(G=>j(G,Q)).join(" "),j=(J,Q)=>{const G=Q.loose?c[p.TILDELOOSE]:c[p.TILDE];return J.replace(G,(Ce,Te,ye,me,be)=>{a("tilde",J,Ce,Te,ye,me,be);let te;return M(Te)?te="":M(ye)?te=">=".concat(Te,".0.0 <").concat(+Te+1,".0.0-0"):M(me)?te=">=".concat(Te,".").concat(ye,".0 <").concat(Te,".").concat(+ye+1,".0-0"):be?(a("replaceTilde pr",be),te=">=".concat(Te,".").concat(ye,".").concat(me,"-").concat(be," <").concat(Te,".").concat(+ye+1,".0-0")):te=">=".concat(Te,".").concat(ye,".").concat(me," <").concat(Te,".").concat(+ye+1,".0-0"),a("tilde return",te),te})},U=(J,Q)=>J.trim().split(/\s+/).map(G=>X(G,Q)).join(" "),X=(J,Q)=>{a("caret",J,Q);const G=Q.loose?c[p.CARETLOOSE]:c[p.CARET],Ce=Q.includePrerelease?"-0":"";return J.replace(G,(Te,ye,me,be,te)=>{a("caret",J,Te,ye,me,be,te);let oe;return M(ye)?oe="":M(me)?oe=">=".concat(ye,".0.0").concat(Ce," <").concat(+ye+1,".0.0-0"):M(be)?ye==="0"?oe=">=".concat(ye,".").concat(me,".0").concat(Ce," <").concat(ye,".").concat(+me+1,".0-0"):oe=">=".concat(ye,".").concat(me,".0").concat(Ce," <").concat(+ye+1,".0.0-0"):te?(a("replaceCaret pr",te),ye==="0"?me==="0"?oe=">=".concat(ye,".").concat(me,".").concat(be,"-").concat(te," <").concat(ye,".").concat(me,".").concat(+be+1,"-0"):oe=">=".concat(ye,".").concat(me,".").concat(be,"-").concat(te," <").concat(ye,".").concat(+me+1,".0-0"):oe=">=".concat(ye,".").concat(me,".").concat(be,"-").concat(te," <").concat(+ye+1,".0.0-0")):(a("no pr"),ye==="0"?me==="0"?oe=">=".concat(ye,".").concat(me,".").concat(be).concat(Ce," <").concat(ye,".").concat(me,".").concat(+be+1,"-0"):oe=">=".concat(ye,".").concat(me,".").concat(be).concat(Ce," <").concat(ye,".").concat(+me+1,".0-0"):oe=">=".concat(ye,".").concat(me,".").concat(be," <").concat(+ye+1,".0.0-0")),a("caret return",oe),oe})},V=(J,Q)=>(a("replaceXRanges",J,Q),J.split(/\s+/).map(G=>re(G,Q)).join(" ")),re=(J,Q)=>{J=J.trim();const G=Q.loose?c[p.XRANGELOOSE]:c[p.XRANGE];return J.replace(G,(Ce,Te,ye,me,be,te)=>{a("xRange",J,Ce,Te,ye,me,be,te);const oe=M(ye),we=oe||M(me),ne=we||M(be),le=ne;return Te==="="&&le&&(Te=""),te=Q.includePrerelease?"-0":"",oe?Te===">"||Te==="<"?Ce="<0.0.0-0":Ce="*":Te&&le?(we&&(me=0),be=0,Te===">"?(Te=">=",we?(ye=+ye+1,me=0,be=0):(me=+me+1,be=0)):Te==="<="&&(Te="<",we?ye=+ye+1:me=+me+1),Te==="<"&&(te="-0"),Ce="".concat(Te+ye,".").concat(me,".").concat(be).concat(te)):we?Ce=">=".concat(ye,".0.0").concat(te," <").concat(+ye+1,".0.0-0"):ne&&(Ce=">=".concat(ye,".").concat(me,".0").concat(te," <").concat(ye,".").concat(+me+1,".0-0")),a("xRange return",Ce),Ce})},fe=(J,Q)=>(a("replaceStars",J,Q),J.trim().replace(c[p.STAR],"")),ve=(J,Q)=>(a("replaceGTE0",J,Q),J.trim().replace(c[Q.includePrerelease?p.GTE0PRE:p.GTE0],"")),xe=J=>(Q,G,Ce,Te,ye,me,be,te,oe,we,ne,le,pe)=>(M(Ce)?G="":M(Te)?G=">=".concat(Ce,".0.0").concat(J?"-0":""):M(ye)?G=">=".concat(Ce,".").concat(Te,".0").concat(J?"-0":""):me?G=">=".concat(G):G=">=".concat(G).concat(J?"-0":""),M(oe)?te="":M(we)?te="<".concat(+oe+1,".0.0-0"):M(ne)?te="<".concat(oe,".").concat(+we+1,".0-0"):le?te="<=".concat(oe,".").concat(we,".").concat(ne,"-").concat(le):J?te="<".concat(oe,".").concat(we,".").concat(+ne+1,"-0"):te="<=".concat(te),"".concat(G," ").concat(te).trim()),ze=(J,Q,G)=>{for(let Ce=0;Ce<J.length;Ce++)if(!J[Ce].test(Q))return!1;if(Q.prerelease.length&&!G.includePrerelease){for(let Ce=0;Ce<J.length;Ce++)if(a(J[Ce].semver),J[Ce].semver!==i.ANY&&J[Ce].semver.prerelease.length>0){const Te=J[Ce].semver;if(Te.major===Q.major&&Te.minor===Q.minor&&Te.patch===Q.patch)return!0}return!1}return!0};return r1}var i1,Nk;function Qy(){if(Nk)return i1;Nk=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(m,x){if(x=n(x),m instanceof t){if(m.loose===!!x.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),l("comparator",m,x),this.options=x,this.loose=!!x.loose,this.parse(m),this.semver===e?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(m){const x=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],S=m.match(x);if(!S)throw new TypeError("Invalid comparator: ".concat(m));this.operator=S[1]!==void 0?S[1]:"",this.operator==="="&&(this.operator=""),S[2]?this.semver=new c(S[2],this.options.loose):this.semver=e}toString(){return this.value}test(m){if(l("Comparator.test",m,this.options.loose),this.semver===e||m===e)return!0;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}return a(m,this.operator,this.semver,this.options)}intersects(m,x){if(!(m instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new p(m.value,x).test(this.value):m.operator===""?m.value===""?!0:new p(this.value,x).test(m.semver):(x=n(x),x.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!x.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||a(this.semver,"<",m.semver,x)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||a(this.semver,">",m.semver,x)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}i1=t;const n=AE,{safeRe:r,t:i}=Xp,a=cA,l=Xy,c=ti,p=zo();return i1}const j9=zo(),$9=(e,t,n)=>{try{t=new j9(t,n)}catch{return!1}return t.test(e)};var Zy=$9;const D9=zo(),B9=(e,t)=>new D9(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var z9=B9;const H9=ti,U9=zo(),W9=(e,t,n)=>{let r=null,i=null,a=null;try{a=new U9(t,n)}catch{return null}return e.forEach(l=>{a.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new H9(r,n))}),r};var K9=W9;const G9=ti,q9=zo(),X9=(e,t,n)=>{let r=null,i=null,a=null;try{a=new q9(t,n)}catch{return null}return e.forEach(l=>{a.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new G9(r,n))}),r};var V9=X9;const o1=ti,Y9=zo(),Ik=Vy,Q9=(e,t)=>{e=new Y9(e,t);let n=new o1("0.0.0");if(e.test(n)||(n=new o1("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let a=null;i.forEach(l=>{const c=new o1(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Ik(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(l.operator))}}),a&&(!n||Ik(n,a))&&(n=a)}return n&&e.test(n)?n:null};var Z9=Q9;const J9=zo(),eK=(e,t)=>{try{return new J9(e,t).range||"*"}catch{return null}};var tK=eK;const nK=ti,dA=Qy(),{ANY:rK}=dA,iK=zo(),oK=Zy,Rk=Vy,Mk=Yy,aK=RE,sK=IE,lK=(e,t,n,r)=>{e=new nK(e,r),t=new iK(t,r);let i,a,l,c,p;switch(n){case">":i=Rk,a=aK,l=Mk,c=">",p=">=";break;case"<":i=Mk,a=sK,l=Rk,c="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(oK(e,t,r))return!1;for(let v=0;v<t.set.length;++v){const m=t.set[v];let x=null,S=null;if(m.forEach(C=>{C.semver===rK&&(C=new dA(">=0.0.0")),x=x||C,S=S||C,i(C.semver,x.semver,r)?x=C:l(C.semver,S.semver,r)&&(S=C)}),x.operator===c||x.operator===p||(!S.operator||S.operator===c)&&a(e,S.semver))return!1;if(S.operator===p&&l(e,S.semver))return!1}return!0};var ME=lK;const uK=ME,cK=(e,t,n)=>uK(e,t,">",n);var fK=cK;const dK=ME,hK=(e,t,n)=>dK(e,t,"<",n);var pK=hK;const Fk=zo(),gK=(e,t,n)=>(e=new Fk(e,n),t=new Fk(t,n),e.intersects(t,n));var vK=gK;const mK=Zy,yK=Bo;var wK=(e,t,n)=>{const r=[];let i=null,a=null;const l=e.sort((m,x)=>yK(m,x,n));for(const m of l)mK(m,t,n)?(a=m,i||(i=m)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const c=[];for(const[m,x]of r)m===x?c.push(m):!x&&m===l[0]?c.push("*"):x?m===l[0]?c.push("<=".concat(x)):c.push("".concat(m," - ").concat(x)):c.push(">=".concat(m));const p=c.join(" || "),v=typeof t.raw=="string"?t.raw:String(t);return p.length<v.length?p:t};const jk=zo(),FE=Qy(),{ANY:a1}=FE,bh=Zy,jE=Bo,xK=(e,t,n={})=>{if(e===t)return!0;e=new jk(e,n),t=new jk(t,n);let r=!1;e:for(const i of e.set){for(const a of t.set){const l=EK(i,a,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},bK=[new FE(">=0.0.0-0")],$k=[new FE(">=0.0.0")],EK=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===a1){if(t.length===1&&t[0].semver===a1)return!0;n.includePrerelease?e=bK:e=$k}if(t.length===1&&t[0].semver===a1){if(n.includePrerelease)return!0;t=$k}const r=new Set;let i,a;for(const C of e)C.operator===">"||C.operator===">="?i=Dk(i,C,n):C.operator==="<"||C.operator==="<="?a=Bk(a,C,n):r.add(C.semver);if(r.size>1)return null;let l;if(i&&a){if(l=jE(i.semver,a.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const C of r){if(i&&!bh(C,String(i),n)||a&&!bh(C,String(a),n))return null;for(const I of t)if(!bh(C,String(I),n))return!1;return!0}let c,p,v,m,x=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,S=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;x&&x.prerelease.length===1&&a.operator==="<"&&x.prerelease[0]===0&&(x=!1);for(const C of t){if(m=m||C.operator===">"||C.operator===">=",v=v||C.operator==="<"||C.operator==="<=",i){if(S&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===S.major&&C.semver.minor===S.minor&&C.semver.patch===S.patch&&(S=!1),C.operator===">"||C.operator===">="){if(c=Dk(i,C,n),c===C&&c!==i)return!1}else if(i.operator===">="&&!bh(i.semver,String(C),n))return!1}if(a){if(x&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===x.major&&C.semver.minor===x.minor&&C.semver.patch===x.patch&&(x=!1),C.operator==="<"||C.operator==="<="){if(p=Bk(a,C,n),p===C&&p!==a)return!1}else if(a.operator==="<="&&!bh(a.semver,String(C),n))return!1}if(!C.operator&&(a||i)&&l!==0)return!1}return!(i&&v&&!a&&l!==0||a&&m&&!i&&l!==0||S||x)},Dk=(e,t,n)=>{if(!e)return t;const r=jE(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Bk=(e,t,n)=>{if(!e)return t;const r=jE(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var SK=xK;const s1=Xp,zk=qy,CK=ti,Hk=aA,TK=cd,kK=T7,_K=O7,OK=P7,LK=N7,PK=M7,AK=$7,NK=z7,IK=W7,RK=Bo,MK=X7,FK=Q7,jK=NE,$K=t9,DK=i9,BK=Vy,zK=Yy,HK=lA,UK=uA,WK=IE,KK=RE,GK=cA,qK=_9,XK=Qy(),VK=zo(),YK=Zy,QK=z9,ZK=K9,JK=V9,eG=Z9,tG=tK,nG=ME,rG=fK,iG=pK,oG=vK,aG=wK,sG=SK;var $E={parse:TK,valid:kK,clean:_K,inc:OK,diff:LK,major:PK,minor:AK,patch:NK,prerelease:IK,compare:RK,rcompare:MK,compareLoose:FK,compareBuild:jK,sort:$K,rsort:DK,gt:BK,lt:zK,eq:HK,neq:UK,gte:WK,lte:KK,cmp:GK,coerce:qK,Comparator:XK,Range:VK,satisfies:YK,toComparators:QK,maxSatisfying:ZK,minSatisfying:JK,minVersion:eG,validRange:tG,outside:nG,gtr:rG,ltr:iG,intersects:oG,simplifyRange:aG,subset:sG,SemVer:CK,re:s1.re,src:s1.src,tokens:s1.t,SEMVER_SPEC_VERSION:zk.SEMVER_SPEC_VERSION,RELEASE_TYPES:zk.RELEASE_TYPES,compareIdentifiers:Hk.compareIdentifiers,rcompareIdentifiers:Hk.rcompareIdentifiers};function yf(e,t,n,r){let i='Repairing passage (name: "'.concat(e.name,'", id: ').concat(e.id,"): setting ").concat(t," to ").concat(n,", was ").concat(e[t]);r&&(i+=" (".concat(r,")")),console.info(i)}function lG(e,t){const n=Wl(),r={};if(typeof e.id!="string"||e.id===""){const i=mn();yf(e,"id",i,"was undefined or empty string"),r.id=mn()}if(Object.entries(n).forEach(([i,a])=>{const l=i;(typeof a=="number"&&!Number.isFinite(e[l])||typeof a!=typeof e[l])&&(yf(e,l,n[l]),r[l]=n[l])}),["left","top"].forEach(i=>{const a=i;typeof e[a]=="number"&&e[a]<0&&(yf(e,a,0,"was negative"),r[a]=0)}),["height","width"].forEach(i=>{const a=i;typeof e[a]=="number"&&e[a]<5&&(yf(e,a,0,"was less than 5"),r[a]=5)}),e.story!==t.id&&(yf(e,"story",t.id,"didn't match parent story"),r.story=t.id),t.passages.some(i=>i===e?!1:i.id===e.id)){const i=mn();yf(e,"id",i,"conflicted with another passage in the story"),r.id=i}return Object.keys(r).length>0?{...e,...r}:e}function va(e,t,n,r){let i='Repairing story (name: "'.concat(e.name,'", id: ').concat(e.id,") by setting ").concat(t," to ").concat(n,", was ").concat(e[t]);r&&(i+=" (".concat(r,")")),console.info(i)}function uG(e,t,n,r){const i=id(),a={};if(typeof e.id!="string"||e.id===""){const p=mn();va(e,"id",p,"was bad type or empty string"),a.id=p}if(typeof e.ifid!="string"||e.id===""){const p=mn();va(e,"ifid",p,"was bad type or empty string"),a.ifid=p}if(Object.entries(i).forEach(([p,v])=>{const m=p;(typeof v=="number"&&!Number.isFinite(e[m])||typeof v!=typeof e[m])&&(va(e,m,i[m]),a[m]=i[m])}),typeof e.storyFormat!="string"||e.storyFormat===""||typeof e.storyFormatVersion!="string"||e.storyFormatVersion==="")va(e,"storyFormat",r.name,"was bad type or unset"),va(e,"storyFormatVersion",r.version,"was bad type or unset"),a.storyFormat=r.name,a.storyFormatVersion=r.version;else if(!n.some(p=>p.name===e.storyFormat&&p.version===e.storyFormatVersion)){const p=n.find(v=>v.name===e.storyFormat&&$E.satisfies(v.version,"^"+e.storyFormatVersion));p?(va(e,"storyFormat",p.name,"no match in existing formats but found one that satisfies semver"),va(e,"storyFormatVersion",p.version,"no match in existing formats but found one that satisfies semver"),a.storyFormat=p.name,a.storyFormatVersion=p.version):(va(e,"storyFormat",r.name,"no match in existing formats and could not find one that satisfies semver"),va(e,"storyFormatVersion",r.version,"no match in existing formats and could not find one that satisfies semver"),a.storyFormat=r.name,a.storyFormatVersion=r.version)}if(t.some(p=>p===e?!1:p.id===e.id)){const p=mn();va(e,"id",p,"conflicted with another story's ID"),a.id=p}let l=!1;const c=e.passages.map(p=>{const v=lG(p,{...e,...a});return v!==p?(l=!0,v):p});return l&&(a.passages=c),Object.keys(a).length>0?{...e,...a}:e}function cG(e,t,n){return e.map(r=>uG(r,e,t,n))}const fG=["highlighted","selected"],dG=["lastUpdate","selected"],hG=["loadError","loadState","properties","selected"];function hp(e){return Object.keys(e).some(t=>!fG.includes(t))}function hA(e){return Object.keys(e).some(t=>!dG.includes(t))}function pA(e){return Object.keys(e).some(t=>!hG.includes(t))}function gA(e,t,n,r){let i=!1,a=!1;const l=e.map(c=>{if(c.id!==t)return c;if(i=!0,"name"in r&&c.passages.some(v=>v.name===r.name&&v.id!==n))return console.warn('There is already a passage in this story with name "'.concat(r.name,'", taking no action')),c;const p={...c,passages:c.passages.map(v=>v.id!==n?v:(a=!0,{...v,...r}))};return a?(hp(r)&&(p.lastUpdate=new Date),p):(console.warn('Asked to update a passage with ID "'.concat(n,'", but it does not exist in story ID ').concat(t,", taking no action")),c)});return i?a?l:e:(console.warn('No story in state with ID "'.concat(t,'", taking no action')),e)}function pG(e,t,n){return Object.keys(n).reduce((r,i)=>gA(r,t,i,n[i]),e)}function gG(e,t,n){if("name"in n&&e.some(a=>a.name===n.name&&a.id!==t))return console.warn('There is another story in state with name "'.concat(n.name,'", taking no action')),e;let r=!1;const i=e.map(a=>{if(a.id!==t)return a;r=!0;const l={...a,...n};return hA(n)&&(l.lastUpdate=new Date),l});return r?i:(console.warn('Asked to update a story with ID "'.concat(t,'", but it does not exist in state')),e)}const vG=(e,t)=>{switch(t.type){case"createPassage":return nA(e,t.storyId,t.props);case"createPassages":return o7(e,t.storyId,t.props);case"createStory":return a7(e,t.props);case"deletePassage":return rA(e,t.storyId,t.passageId);case"deletePassages":return s7(e,t.storyId,t.passageIds);case"deleteStory":return l7(e,t.storyId);case"init":return u7(e,t.state);case"repair":return cG(e,t.allFormats,t.defaultFormat);case"updatePassage":return gA(e,t.storyId,t.passageId,t.props);case"updatePassages":return pG(e,t.storyId,t.passageUpdates);case"updateStory":return gG(e,t.storyId,t.props);default:console.warn("".concat(t.type," not implemented yet"))}return e};var Ux={exports:{}},Wx={exports:{}},pp=1e3,gp=pp*60,vp=gp*60,mp=vp*24,mG=mp*365.25,yG=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return wG(e);if(n==="number"&&isNaN(e)===!1)return t.long?bG(e):xG(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function wG(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*mG;case"days":case"day":case"d":return n*mp;case"hours":case"hour":case"hrs":case"hr":case"h":return n*vp;case"minutes":case"minute":case"mins":case"min":case"m":return n*gp;case"seconds":case"second":case"secs":case"sec":case"s":return n*pp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function xG(e){return e>=mp?Math.round(e/mp)+"d":e>=vp?Math.round(e/vp)+"h":e>=gp?Math.round(e/gp)+"m":e>=pp?Math.round(e/pp)+"s":e+"ms"}function bG(e){return zv(e,mp,"day")||zv(e,vp,"hour")||zv(e,gp,"minute")||zv(e,pp,"second")||e+" ms"}function zv(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=p,t.disable=l,t.enable=a,t.enabled=c,t.humanize=yG,t.names=[],t.skips=[],t.formatters={};var n;function r(v){var m=0,x;for(x in v)m=(m<<5)-m+v.charCodeAt(x),m|=0;return t.colors[Math.abs(m)%t.colors.length]}function i(v){function m(){if(m.enabled){var x=m,S=+new Date,C=S-(n||S);x.diff=C,x.prev=n,x.curr=S,n=S;for(var I=new Array(arguments.length),$=0;$<I.length;$++)I[$]=arguments[$];I[0]=t.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");var N=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,function(M,B){if(M==="%%")return M;N++;var j=t.formatters[B];if(typeof j=="function"){var U=I[N];M=j.call(x,U),I.splice(N,1),N--}return M}),t.formatArgs.call(x,I);var L=m.log||t.log||console.log.bind(console);L.apply(x,I)}}return m.namespace=v,m.enabled=t.enabled(v),m.useColors=t.useColors(),m.color=r(v),typeof t.init=="function"&&t.init(m),m}function a(v){t.save(v),t.names=[],t.skips=[];for(var m=(typeof v=="string"?v:"").split(/[\s,]+/),x=m.length,S=0;S<x;S++)m[S]&&(v=m[S].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")))}function l(){t.enable("")}function c(v){var m,x;for(m=0,x=t.skips.length;m<x;m++)if(t.skips[m].test(v))return!1;for(m=0,x=t.names.length;m<x;m++)if(t.names[m].test(v))return!0;return!1}function p(v){return v instanceof Error?v.stack||v.message:v}})(Wx,Wx.exports);var EG=Wx.exports;(function(e,t){t=e.exports=EG,t.log=i,t.formatArgs=r,t.save=a,t.load=l,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(p){try{return JSON.stringify(p)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}};function r(p){var v=this.useColors;if(p[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+p[0]+(v?"%c ":" ")+"+"+t.humanize(this.diff),!!v){var m="color: "+this.color;p.splice(1,0,m,"color: inherit");var x=0,S=0;p[0].replace(/%[a-zA-Z%]/g,function(C){C!=="%%"&&(x++,C==="%c"&&(S=x))}),p.splice(S,0,m)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(p){try{p==null?t.storage.removeItem("debug"):t.storage.debug=p}catch{}}function l(){var p;try{p=t.storage.debug}catch{}return!p&&typeof yr.process<"u"&&"env"in yr.process&&(p={}.DEBUG),p}t.enable(l());function c(){try{return window.localStorage}catch{}}})(Ux,Ux.exports);var SG=Ux.exports,Uk=SG("jsonp"),CG=_G,TG=0;function kG(){}function _G(e,t,n){typeof t=="function"&&(n=t,t={}),t||(t={});var r=t.prefix||"__jp",i=t.name||r+TG++,a=t.param||"callback",l=t.timeout!=null?t.timeout:6e4,c=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head,v,m;l&&(m=setTimeout(function(){x(),n&&n(new Error("Timeout"))},l));function x(){v.parentNode&&v.parentNode.removeChild(v),window[i]=kG,m&&clearTimeout(m)}function S(){window[i]&&x()}return window[i]=function(C){Uk("jsonp got",C),x(),n&&n(null,C)},e+=(~e.indexOf("?")?"&":"?")+a+"="+c(i),e=e.replace("?&","?"),Uk('jsonp req "%s"',e),v=document.createElement("script"),v.src=e,p.parentNode.insertBefore(v,p),S}const OG=Sn(CG);let Wk=Promise.resolve();async function uy(e,t=2e3){return new Promise((n,r)=>Wk=Wk.then(()=>new Promise(i=>{OG(e,{timeout:t,name:"storyFormat"},(a,l)=>{a?r(a):n(l),i()})})))}function LG(e,t){if(!t.name||!t.version)throw new Error("Missing required properties for a new story format");return{type:"create",props:{url:e,name:t.name,selected:!1,userAdded:!0,version:t.version}}}function PG(e){return{type:"delete",id:e.id}}function AG(){return(e,t)=>{for(const n of t())n.selected&&e({type:"update",id:n.id,props:{selected:!1}})}}function NG(e){return{type:"update",id:e.id,props:{selected:!1}}}async function vA(e,t){t({type:"update",id:e.id,props:{loadState:"loading"}});try{let n=await uy(e.url);if(n.hydrate)try{const r={};new Function(n.hydrate).call(r),n={...r,...n}}catch(r){console.error("Format ".concat(e.id," has a hydrate property but it threw an error when called"),r)}return t({type:"update",id:e.id,props:{properties:n,loadState:"loaded"}}),n}catch(n){t({type:"update",id:e.id,props:{loadError:n,loadState:"error"}})}}function IG(e){const t=e.filter(n=>n.loadState!=="loaded"&&n.loadState!=="loading");return t?async n=>{await Promise.allSettled(t.map(r=>vA(r,n)))}:()=>{}}function yp(e){return e.loadState==="loaded"?()=>e.properties:async t=>await vA(e,t)}function RG(e,t){return(n,r)=>{if(e.selected||n({type:"update",id:e.id,props:{selected:!0}}),t)for(const i of r())i.id!==e.id&&i.selected&&n({type:"update",id:i.id,props:{selected:!1}})}}const mA=()=>[{name:"Chapbook",url:"story-formats/chapbook-1.2.3/format.js",version:"1.2.3"},{name:"Harlowe",url:"story-formats/harlowe-1.2.4/format.js",version:"1.2.4"},{name:"Harlowe",url:"story-formats/harlowe-2.1.0/format.js",version:"2.1.0"},{name:"Harlowe",url:"story-formats/harlowe-3.3.7/format.js",version:"3.3.7"},{name:"Paperthin",url:"story-formats/paperthin-1.0.0/format.js",version:"1.0.0"},{name:"Snowman",url:"story-formats/snowman-1.4.0/format.js",version:"1.4.0"},{name:"Snowman",url:"story-formats/snowman-2.0.2/format.js",version:"2.0.2",userAdded:!1},{name:"SugarCube",url:"story-formats/sugarcube-1.0.35/format.js",version:"1.0.35"},{name:"SugarCube",url:"story-formats/sugarcube-2.36.1/format.js",version:"2.36.1"}];var MG=e=>{if(typeof e!="string")throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return/^[a-zA-Z]:\\/.test(e)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)};const FG=Sn(MG);function jG(e,t){switch(t){case"all":return e;case"current":return Object.values(e.reduce((n,r)=>!n[r.name]||sA(n[r.name].version,r.version)?{...n,[r.name]:r}:n,{}));case"user":return e.filter(n=>n.userAdded)}}function $G(e){if(e.loadState!=="loaded"||!e.properties.image)throw new Error("Format has no image property");return FG(e.properties.image)?e.properties.image:e.url.replace(/\/[^/]*?$/,"/")+e.properties.image}function DG(e,t){const n=e.find(r=>r.id===t);if(n)return n;throw new Error('There is no story format with ID "'.concat(t,'".'))}function ho(e,t,n){const r=e.find(i=>i.name===t&&i.version===n);if(r)return r;throw new Error('There is no story format with name "'.concat(t,'" and version "').concat(n,'".'))}function Kk(e,t){return e.reduce((n,r)=>r.name!==t?n:!n||$E.gt(r.version,n.version)?r:n,void 0)}function yA(e){return e.sort((t,n)=>t.name<n.name?-1:t.name>n.name?1:t.version===n.version?0:sA(n.version,t.version)?-1:1)}const dc=()=>window.navigator.userAgent.indexOf("Electron")!==-1;function DE(){const{t:e,ready:t}=qe("",{useSuspense:!1});return{reportError(n,r){console.error("Twine store error",n),t?window.alert(e(r,{error:n.message})+" "+e("store.errors.".concat(dc()?"electron":"web","Remediation"))):window.alert("An error occurred while saving (".concat(n.message,"). Reloading or restarting the application may help."))}}}const BG=(e,t)=>{switch(t.type){case"init":return[...t.state];case"repair":const n=mA(),r=e.filter(i=>{const a=i.userAdded||n.some(l=>l.name===i.name&&l.version===i.version);return a||console.info("Repairing story formats by removing ".concat(i.name," ").concat(i.version," (outdated version of built-in format)")),a});return n.forEach(i=>{r.some(a=>a.name===i.name&&a.version===i.version)||(console.info("Repairing story formats by adding built-in ".concat(i.name," ").concat(i.version)),r.push({...i,id:mn(),loadState:"unloaded",selected:!1,userAdded:!1}))}),r;case"create":return e.some(i=>i.name===t.props.name&&i.version===t.props.version)?e:[...e,{...t.props,id:mn(),loadState:"unloaded"}];case"delete":return e.filter(i=>i.id!==t.id);case"update":return e.some(i=>i.id!==t.id&&i.name===t.props.name&&i.version===t.props.version)?e:e.map(i=>i.id!==t.id?i:{...i,...t.props})}return e},zG=mA().map(e=>({...e,id:mn(),loadState:"unloaded",selected:!1,userAdded:!1})),BE=O.createContext({dispatch:()=>{},formats:[]});BE.displayName="StoryFormats";const Wi=()=>O.useContext(BE),HG=e=>{const{storyFormats:t}=e0(),{reportError:n}=DE(),r=O.useCallback((l,c)=>{const p=BG(l,c);try{t.saveMiddleware(p,c)}catch(v){n(v,"store.errors.cantPersistStoryFormats")}return p},[n,t]),[i,a]=PE(r,zG);return b.jsx(BE.Provider,{value:{dispatch:a,formats:i},children:e.children})},zE=O.createContext({dispatch:()=>{},stories:[]});zE.displayName="Stories";const dn=()=>O.useContext(zE),UG=e=>{const{stories:t}=e0(),{formats:n}=Wi(),{reportError:r}=DE(),i=O.useMemo(()=>(c,p)=>{const v=vG(c,p);try{t.saveMiddleware(v,p,n)}catch(m){r(m,"store.errors.cantPersistStories")}return v},[n,r,t]),[a,l]=PE(i,[]);return b.jsx(zE.Provider,{value:{dispatch:l,stories:a},children:e.children})},Rh={passage:"tw-passage",story:"tw-story",script:"[role=script]",stylesheet:"[role=stylesheet]",storyData:"tw-storydata",tagColors:"tw-tag",passageData:"tw-passagedata"};function Hv(e){return parseFloat(e)}function Mh(e,t){return Array.from(e.querySelectorAll(t))}function Gk(e){if(typeof e!="string")return;const t=e.split(",");if(t.length===2)return[t[0],t[1]]}function WG(e){var i,a,l,c,p;const t=e.getAttribute("startnode");let n;const r={ifid:(i=e.getAttribute("ifid"))!=null?i:mn(),id:mn(),lastUpdate:void 0,name:(a=e.getAttribute("name"))!=null?a:void 0,storyFormat:(l=e.getAttribute("format"))!=null?l:void 0,storyFormatVersion:(c=e.getAttribute("format-version"))!=null?c:void 0,script:Mh(e,Rh.script).map(v=>v.textContent).join("\n"),stylesheet:Mh(e,Rh.stylesheet).map(v=>v.textContent).join("\n"),tags:e.getAttribute("tags")?e.getAttribute("tags").split(/\s+/):[],zoom:parseFloat((p=e.getAttribute("zoom"))!=null?p:"1"),tagColors:Mh(e,Rh.tagColors).reduce((v,m)=>{const x=m.getAttribute("name");return typeof x!="string"?v:{...v,[x]:m.getAttribute("color")}},{}),passages:Mh(e,Rh.passageData).map(v=>{var C,I;const m=mn(),x=Gk(v.getAttribute("position")),S=Gk(v.getAttribute("size"));return v.getAttribute("pid")===t&&(n=m),{id:m,left:x?Hv(x[0]):void 0,top:x?Hv(x[1]):void 0,width:S?Hv(S[0]):void 0,height:S?Hv(S[1]):void 0,tags:v.getAttribute("tags")?v.getAttribute("tags").split(/\s+/):[],name:(C=v.getAttribute("name"))!=null?C:void 0,text:(I=v.textContent)!=null?I:void 0}})};return r.startPassage=n,r}function wA(e,t){const n=document.createElement("div");return n.innerHTML=e,Mh(n,Rh.storyData).map(r=>{const i=WG(r),a=qT(i,{id:mn()},id());return t&&(a.lastUpdate=t),a.passages=a.passages.map(l=>qT(l,Wl(),{story:a.id})),a})}async function KG(){const{twineElectron:e}=window;if(!e)throw new Error("Electron bridge is not present on window.");const t=await e.loadStories();return t&&Array.isArray(t)?t.reduce((n,r)=>{const i=wA(r.htmlSource,r.mtime);return i[0]?[...n,i[0]]:(console.warn("Could not hydrate story: ",r.htmlSource),n)},[]):(console.warn("No stories to hydrate in Electron bridge"),[])}function GG(e){return function(t){return e==null?void 0:e[t]}}var qG=GG,XG=qG,VG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YG=XG(VG),QG=YG,ZG=QG,JG=_E,xA=/[&<>"']/g,eq=RegExp(xA.source);function tq(e){return e=JG(e),e&&eq.test(e)?e.replace(xA,ZG):e}var nq=tq;const jr=Sn(nq);function rq(){const e=new Date().toLocaleString().replace(/[/:\\]/g,".");return qp.t("store.archiveFilename",{timestamp:e})}function bA(e,t){return e.reduce((n,r)=>n+Jy(r,t,{startOptional:!0})+"\n\n","")}function iq(e,t){return'<tw-passagedata pid="'.concat(jr(t.toString()),'" name="').concat(jr(e.name),'" tags="').concat(jr(e.tags.join(" ")),'" position="').concat(e.left,",").concat(e.top,'" size="').concat(e.width,",").concat(e.height,'">').concat(jr(e.text),"</tw-passagedata>")}function Jy(e,t,{formatOptions:n,startId:r,startOptional:i}={}){if(r=r!=null?r:e.startPassage,!i){if(!r)throw new Error("There is no starting point set for this story and none was set manually.");if(!e.passages.find(p=>p.id===r))throw new Error("The passage set as starting point for this story does not exist.")}let a,l="";e.passages.forEach((p,v)=>{l+=iq(p,v+1),p.id===r&&(a=v+1)});const c=Object.keys(e.tagColors).reduce((p,v)=>p+'<tw-tag name="'.concat(jr(v),'" color="').concat(jr(e.tagColors[v]),'"></tw-tag>'),"");return'<tw-storydata name="'.concat(jr(e.name),'" startnode="').concat(a||"",'" creator="').concat(jr(t.name),'" creator-version="').concat(jr(t.version),'" format="').concat(jr(e.storyFormat),'" format-version="').concat(jr(e.storyFormatVersion),'" ifid="').concat(jr(e.ifid),'" options="').concat(jr(n),'" tags="').concat(jr(e.tags.join(" ")),'" zoom="').concat(jr(e.zoom.toString()),'" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">')+e.stylesheet+'</style><script role="script" id="twine-user-script" type="text/twine-javascript">'+e.script+"<\/script>"+c+l+"</tw-storydata>"}function cy(e,t,n,{formatOptions:r,startId:i}={}){if(!t)throw new Error("Story format source cannot be empty.");let a=t;return a=a.replace(/{{STORY_NAME}}/g,()=>jr(e.name)),a=a.replace(/{{STORY_DATA}}/g,()=>Jy(e,n,{formatOptions:r,startId:i})),a}function uo(){return{name:"Twine",version:"2.8.0"}}async function wf(e,t){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");try{const r=ho(t,e.storyFormat,e.storyFormatVersion);if(r.loadState==="loaded")n.saveStoryHtml(e,cy(e,r.properties.source,uo(),{startOptional:!0}));else{const{source:i}=await uy(r.url);n.saveStoryHtml(e,cy(e,i,uo(),{startOptional:!0}))}}catch(r){console.warn("Could not save full story (".concat(r.message,"). Trying to save story data only.")),n.saveStoryHtml(e,Jy(e,uo(),{startOptional:!0}))}}let l1;function oq(e,t,n){const{twineElectron:r}=window;if(!r)throw new Error("Electron bridge is not present on window.");switch(t.type){case"init":case"repair":break;case"createStory":if(!t.props.name)throw new Error("Passage was created but with no name specified");wf(QP(e,t.props.name),n);break;case"deleteStory":{r.deleteStory(on(l1,t.storyId));break}case"updateStory":if(hA(t.props))if(t.props.name){const i=on(l1,t.storyId),a=on(e,t.storyId);r.onceStoryRenamed(()=>wf(a,n)),r.renameStory(i,a)}else wf(on(e,t.storyId),n);break;case"createPassage":case"createPassages":case"deletePassage":case"deletePassages":wf(on(e,t.storyId),n);break;case"updatePassage":hp(t.props)&&wf(on(e,t.storyId),n);break;case"updatePassages":Object.keys(t.passageUpdates).some(i=>hp(t.passageUpdates[i]))&&wf(on(e,t.storyId),n);break;default:console.warn("Story action ".concat(t.type," has no Electron persistence handler"))}l1=[...e]}async function aq(){const{twineElectron:e}=window;if(!e)throw new Error("Electron bridge is not present on window.");const t=await e.loadStoryFormats();return!t||!Array.isArray(t)?[]:t.map(n=>({id:mn(),loadState:"unloaded",name:n.name,selected:!1,version:n.version,url:n.url,userAdded:n.userAdded}))}function sq(e,t){(t.type==="create"||t.type==="delete"||t.type==="repair"||t.type==="update"&&pA(t.props))&&rP("story-formats.json",e.map(r=>({id:r.id,name:r.name,selected:void 0,version:r.version,url:r.url,userAdded:r.userAdded})))}function lq(){return O.useMemo(()=>({prefs:{load:J4,saveMiddleware:eB},stories:{load:KG,saveMiddleware:oq},storyFormats:{load:aq,saveMiddleware:sq}}),[])}async function uq(){const e=window.localStorage.getItem("twine-prefs"),t={};return e?(e.split(",").forEach(n=>{try{const r=window.localStorage.getItem("twine-prefs-".concat(n));if(!r){console.warn("No preference stored at twine-prefs-".concat(n));return}const i=JSON.parse(r);t[i.name]=i.value}catch(r){console.warn("Preference ".concat(n," had corrupt serialized value, skipping"),window.localStorage.getItem("twine-prefs-".concat(n)),r)}}),t):{}}function cq(e){const t=window.localStorage.getItem("twine-prefs");t&&t.split(",").forEach(r=>{window.localStorage.removeItem("twine-prefs-".concat(r))});let n=[];for(const r in e){const i=mn();n.push(i),window.localStorage.setItem("twine-prefs-".concat(i),JSON.stringify({id:i,name:r,value:e[r]}))}window.localStorage.setItem("twine-prefs",n.join(","))}function fq(e,t){(t.type==="repair"||t.type==="update")&&cq(e)}async function dq(){const e={},t=window.localStorage.getItem("twine-stories");if(!t)return[];t.split(",").forEach(r=>{const i=window.localStorage.getItem("twine-stories-".concat(r));if(!i){console.warn("Story list contained ID ".concat(r,", but twine-stories-").concat(r," does not exist, skipping"));return}try{const a=JSON.parse(i);if(!a.id){console.warn("Story in local storage had no ID, skipping",a);return}e[a.id]={...id(),...a,lastUpdate:a.lastUpdate?new Date(Date.parse(a.lastUpdate)):new Date,passages:[]}}catch{console.warn("Could not parse story as JSON, skipping: ".concat(i))}});const n=window.localStorage.getItem("twine-passages");return n&&n.split(",").forEach(r=>{const i=window.localStorage.getItem("twine-passages-".concat(r));if(!i){console.warn("Passage list contained ID ".concat(r,", but twine-passages-").concat(r," does not exist, skipping"));return}try{const a=JSON.parse(i);if(!a||!a.story){console.warn("Passage ".concat(r," did not have parent story ID, skipping"),a);return}if(!e[a.story]){console.warn("Passage ".concat(r," is orphaned (looking for story ID ").concat(a.story,"), skipping"));return}e[a.story].passages.push({...Wl,...a,tags:a.tags?a.tags.filter(l=>l.trim()!==""):[]})}catch{console.warn("Could not parse passage as JSON, skipping: ".concat(i))}}),Object.values(e)}function hq(e,t){return new RegExp("\\b"+t+"\\b").test(e)}function EA(e,t){return e===""?t:hq(e,t)?e:e+","+t}function SA(e,t){return e=e.replace(new RegExp(",?"+t),""),e[0]===","?e.substring(1):e}function gs(e){var n,r;const t={passageIds:(n=window.localStorage.getItem("twine-passages"))!=null?n:"",storyIds:(r=window.localStorage.getItem("twine-stories"))!=null?r:""};e(t),window.localStorage.setItem("twine-stories",t.storyIds),window.localStorage.setItem("twine-passages",t.passageIds)}function vl(e,t){if(!t.id)throw new Error("Story has no ID");e.storyIds=EA(e.storyIds,t.id),window.localStorage.setItem("twine-stories-".concat(t.id),JSON.stringify({...t,passages:void 0}))}function pq(e,t){if(!t.id)throw new Error("Story has no ID");e.storyIds=SA(e.storyIds,t.id),window.localStorage.removeItem("twine-stories-".concat(t.id))}function xf(e,t){if(!t.id)throw new Error("Passage has no ID");e.passageIds=EA(e.passageIds,t.id),window.localStorage.setItem("twine-passages-".concat(t.id),JSON.stringify(t))}function u1(e,t){e.passageIds=SA(e.passageIds,t),window.localStorage.removeItem("twine-passages-".concat(t))}let qk;function gq(e,t){switch(t.type){case"init":case"repair":break;case"createPassage":{if(!t.props.name)throw new Error("Passage was created but with no name specified");const r=on(e,t.storyId),i=ay(e,r.id,t.props.name);gs(a=>{vl(a,r),xf(a,i)});break}case"createPassages":{const r=on(e,t.storyId);gs(i=>{vl(i,r),t.props.forEach(a=>{if(!a.name)throw new Error("Passage was created but with no name specified");xf(i,ay(e,r.id,a.name))})});break}case"createStory":if(!t.props.name)throw new Error("Story was created but with no name specified");const n=QP(e,t.props.name);gs(r=>{vl(r,n),n.passages.forEach(i=>xf(r,i))});break;case"deletePassage":{const r=on(e,t.storyId);gs(i=>{vl(i,r),u1(i,t.passageId)});break}case"deletePassages":{const r=on(e,t.storyId);gs(i=>{vl(i,r),t.passageIds.forEach(a=>u1(i,a))});break}case"deleteStory":{const r=on(qk,t.storyId);gs(i=>{r.passages.forEach(a=>u1(i,a.id)),pq(i,r)});break}case"updatePassage":if(hp(t.props)){const r=on(e,t.storyId),i=Os(e,t.storyId,t.passageId);gs(a=>{vl(a,r),xf(a,i)});break}break;case"updatePassages":{const r=on(e,t.storyId);gs(i=>{vl(i,r),Object.keys(t.passageUpdates).filter(a=>hp(t.passageUpdates[a])).forEach(a=>xf(i,Os(e,t.storyId,a)))});break}case"updateStory":{const r=on(e,t.storyId);gs(i=>{vl(i,r),r.passages.forEach(a=>xf(i,a))});break}default:console.warn("Story action ".concat(t.type," has no local storage persistence handler"))}qk=e}async function vq(){const e=[],t=window.localStorage.getItem("twine-storyformats");return t?(t.split(",").forEach(n=>{try{const r=window.localStorage.getItem("twine-storyformats-".concat(n));if(!r){console.warn("No story format stored at twine-storyformats-".concat(n,", skipping"));return}e.push({...JSON.parse(r),loadState:"unloaded"})}catch{console.warn("Story format ".concat(n," had corrupt serialized value, skipping"),window.localStorage.getItem("twine-storyformats-".concat(n)))}}),e):[]}function Xk(e){const t=window.localStorage.getItem("twine-storyformats");t&&t.split(",").forEach(r=>{window.localStorage.removeItem("twine-storyformats-".concat(r))});let n=[];e.forEach(r=>{const i=mn();n.push(i),window.localStorage.setItem("twine-storyformats-".concat(i),JSON.stringify({...r,loadError:void 0,loadState:void 0,properties:void 0,selected:void 0}))}),window.localStorage.setItem("twine-storyformats",n.join(","))}function mq(e,t){switch(t.type){case"create":case"delete":case"repair":Xk(e);break;case"update":pA(t.props)&&Xk(e);break}}function yq(){return O.useMemo(()=>({prefs:{load:uq,saveMiddleware:fq},stories:{load:dq,saveMiddleware:gq},storyFormats:{load:vq,saveMiddleware:mq}}),[])}function e0(){const e=lq(),t=yq();return O.useMemo(()=>dc()?e:t,[e,t])}const wq=(e,t)=>{switch(t.type){case"init":return{...e,...t.state};case"repair":const n=Vf();let r=Object.entries(n).reduce((c,[p,v])=>{const m=p;return typeof v=="number"&&!Number.isFinite(e[m])||typeof v!=typeof e[m]?(console.info('Repairing preference "'.concat(p,'" by setting it to ').concat(v,", was ").concat(e[m]," (bad type)")),{...c,[m]:v}):c},{});const{proofingFormat:i,storyFormat:a}=e,{allFormats:l}=t;try{ho(l,i.name,i.version)}catch{const c=Kk(l,i.name);c?(console.info("Repairing proofing format preference (version doesn't exist) by setting to ".concat(c.name," ").concat(c.version,", was ").concat(i.name," ").concat(i.version)),r.proofingFormat={name:c.name,version:c.version}):(console.info("Repairing proofing format preference (format doesn't exist at all) by setting to default ".concat(n.proofingFormat.name," ").concat(n.proofingFormat.version,", was ").concat(i.name," ").concat(i.version)),r.proofingFormat={name:n.proofingFormat.name,version:n.proofingFormat.version})}try{ho(l,a.name,a.version)}catch{const c=Kk(l,a.name);c?(console.info("Repairing story format preference (version doesn't exist) by setting to ".concat(c.name," ").concat(c.version,", was ").concat(a.name," ").concat(a.version)),r.storyFormat={name:c.name,version:c.version}):(console.info("Repairing story format preference (format doesn't exist at all) by setting to default ".concat(n.storyFormat.name," ").concat(n.storyFormat.version,", was ").concat(a.name," ").concat(i.version)),r.storyFormat={name:n.storyFormat.name,version:n.storyFormat.version})}return{...e,...r};case"update":return{...e,[t.name]:t.value}}},HE=O.createContext({dispatch:()=>{},prefs:Vf()});HE.displayName="Prefs";const Yt=()=>O.useContext(HE),xq=e=>{const{prefs:t}=e0(),{reportError:n}=DE(),r=O.useCallback((l,c)=>{const p=wq(l,c);try{t.saveMiddleware(p,c)}catch(v){n(v,"store.errors.cantPersistPrefs")}return p},[t,n]),[i,a]=O.useReducer(r,Vf());return b.jsx(HE.Provider,{value:{dispatch:a,prefs:i},children:e.children})},bq=()=>{const{prefs:e}=Yt();return O.useEffect(()=>{qp.changeLanguage(e.locale)},[e.locale]),null};function Hi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ty(e,t)}var CA={exports:{}},Eq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sq=Eq,Cq=Sq;function TA(){}function kA(){}kA.resetWarningCache=TA;var Tq=function(){function e(r,i,a,l,c,p){if(p!==Cq){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kA,resetWarningCache:TA};return n.PropTypes=n,n};CA.exports=Tq();var t0=CA.exports;const fn=Sn(t0);function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}function Uv(e){return e.charAt(0)==="/"}function c1(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function _A(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Uv(e),a=t&&Uv(t),l=i||a;if(e&&Uv(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c;if(r.length){var p=r[r.length-1];c=p==="."||p===".."||p===""}else c=!1;for(var v=0,m=r.length;m>=0;m--){var x=r[m];x==="."?c1(r,m):x===".."?(c1(r,m),v++):v&&(c1(r,m),v--)}if(!l)for(;v--;v)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Uv(r[0]))&&r.unshift("");var S=r.join("/");return c&&S.substr(-1)!=="/"&&(S+="/"),S}var kq=!0,f1="Invariant failed";function hc(e,t){if(!e){if(kq)throw new Error(f1);var n=typeof t=="function"?t():t,r=n?"".concat(f1,": ").concat(n):f1;throw new Error(r)}}function _q(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function OA(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Af(e,t,n,r){var i;typeof e=="string"?(i=_q(e),i.state=t):(i=wr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_A(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Oq(){var e=null;function t(l){return e=l,function(){e===l&&(e=null)}}function n(l,c,p,v){if(e!=null){var m=typeof e=="function"?e(l,c):e;typeof m=="string"?typeof p=="function"?p(m,v):v(!0):v(m!==!1)}else v(!0)}var r=[];function i(l){var c=!0;function p(){c&&l.apply(void 0,arguments)}return r.push(p),function(){c=!1,r=r.filter(function(v){return v!==p})}}function a(){for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];r.forEach(function(v){return v.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}function Vk(e,t,n){return Math.min(Math.max(e,t),n)}function Lq(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,a=t.initialIndex,l=a===void 0?0:a,c=t.keyLength,p=c===void 0?6:c,v=Oq();function m(re){wr(V,re),V.length=V.entries.length,v.notifyListeners(V.location,V.action)}function x(){return Math.random().toString(36).substr(2,p)}var S=Vk(l,0,i.length-1),C=i.map(function(re){return typeof re=="string"?Af(re,void 0,x()):Af(re,void 0,re.key||x())}),I=OA;function $(re,fe){var ve="PUSH",xe=Af(re,fe,x(),V.location);v.confirmTransitionTo(xe,ve,n,function(ze){if(ze){var J=V.index,Q=J+1,G=V.entries.slice(0);G.length>Q?G.splice(Q,G.length-Q,xe):G.push(xe),m({action:ve,location:xe,index:Q,entries:G})}})}function N(re,fe){var ve="REPLACE",xe=Af(re,fe,x(),V.location);v.confirmTransitionTo(xe,ve,n,function(ze){ze&&(V.entries[V.index]=xe,m({action:ve,location:xe}))})}function L(re){var fe=Vk(V.index+re,0,V.entries.length-1),ve="POP",xe=V.entries[fe];v.confirmTransitionTo(xe,ve,n,function(ze){ze?m({action:ve,location:xe,index:fe}):m()})}function M(){L(-1)}function B(){L(1)}function j(re){var fe=V.index+re;return fe>=0&&fe<V.entries.length}function U(re){return re===void 0&&(re=!1),v.setPrompt(re)}function X(re){return v.appendListener(re)}var V={length:C.length,action:"POP",location:C[S],index:S,entries:C,createHref:I,push:$,replace:N,go:L,goBack:M,goForward:B,canGo:j,block:U,listen:X};return V}var d1=1073741823,Yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof yr.global<"u"?yr.global:{};function Pq(){var e="__global_unique_id__";return Yk[e]=(Yk[e]||0)+1}function Aq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nq(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(a){return a(e,i)})}}}function Iq(e){return Array.isArray(e)?e[0]:e}function Rq(e,t){var n,r,i="__create-react-context-"+Pq()+"__",a=function(c){Hi(p,c);function p(){var m;return m=c.apply(this,arguments)||this,m.emitter=Nq(m.props.value),m}var v=p.prototype;return v.getChildContext=function(){var x;return x={},x[i]=this.emitter,x},v.componentWillReceiveProps=function(x){if(this.props.value!==x.value){var S=this.props.value,C=x.value,I;Aq(S,C)?I=0:(I=typeof t=="function"?t(S,C):d1,I|=0,I!==0&&this.emitter.set(x.value,I))}},v.render=function(){return this.props.children},p}(O.Component);a.childContextTypes=(n={},n[i]=fn.object.isRequired,n);var l=function(c){Hi(p,c);function p(){var m;return m=c.apply(this,arguments)||this,m.state={value:m.getValue()},m.onUpdate=function(x,S){var C=m.observedBits|0;C&S&&m.setState({value:m.getValue()})},m}var v=p.prototype;return v.componentWillReceiveProps=function(x){var S=x.observedBits;this.observedBits=S==null?d1:S},v.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var x=this.props.observedBits;this.observedBits=x==null?d1:x},v.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},v.getValue=function(){return this.context[i]?this.context[i].get():e},v.render=function(){return Iq(this.props.children)(this.state.value)},p}(O.Component);return l.contextTypes=(r={},r[i]=fn.object,r),{Provider:a,Consumer:l}}var LA=ft.createContext||Rq,fd={exports:{}},Mq=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},fy=Mq;fd.exports=NA;fd.exports.parse=UE;fd.exports.compile=jq;fd.exports.tokensToFunction=PA;fd.exports.tokensToRegExp=AA;var Fq=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function UE(e,t){for(var n=[],r=0,i=0,a="",l=t&&t.delimiter||"/",c;(c=Fq.exec(e))!=null;){var p=c[0],v=c[1],m=c.index;if(a+=e.slice(i,m),i=m+p.length,v){a+=v[1];continue}var x=e[i],S=c[2],C=c[3],I=c[4],$=c[5],N=c[6],L=c[7];a&&(n.push(a),a="");var M=S!=null&&x!=null&&x!==S,B=N==="+"||N==="*",j=N==="?"||N==="*",U=c[2]||l,X=I||$;n.push({name:C||r++,prefix:S||"",delimiter:U,optional:j,repeat:B,partial:M,asterisk:!!L,pattern:X?Bq(X):L?".*":"[^"+wm(U)+"]+?"})}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function jq(e,t){return PA(UE(e,t),t)}function $q(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Dq(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function PA(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",KE(t)));return function(i,a){for(var l="",c=i||{},p=a||{},v=p.pretty?$q:encodeURIComponent,m=0;m<e.length;m++){var x=e[m];if(typeof x=="string"){l+=x;continue}var S=c[x.name],C;if(S==null)if(x.optional){x.partial&&(l+=x.prefix);continue}else throw new TypeError('Expected "'+x.name+'" to be defined');if(fy(S)){if(!x.repeat)throw new TypeError('Expected "'+x.name+'" to not repeat, but received `'+JSON.stringify(S)+"`");if(S.length===0){if(x.optional)continue;throw new TypeError('Expected "'+x.name+'" to not be empty')}for(var I=0;I<S.length;I++){if(C=v(S[I]),!n[m].test(C))throw new TypeError('Expected all "'+x.name+'" to match "'+x.pattern+'", but received `'+JSON.stringify(C)+"`");l+=(I===0?x.prefix:x.delimiter)+C}continue}if(C=x.asterisk?Dq(S):v(S),!n[m].test(C))throw new TypeError('Expected "'+x.name+'" to match "'+x.pattern+'", but received "'+C+'"');l+=x.prefix+C}return l}}function wm(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Bq(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function WE(e,t){return e.keys=t,e}function KE(e){return e&&e.sensitive?"":"i"}function zq(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return WE(e,t)}function Hq(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(NA(e[i],t,n).source);var a=new RegExp("(?:"+r.join("|")+")",KE(n));return WE(a,t)}function Uq(e,t,n){return AA(UE(e,n),t,n)}function AA(e,t,n){fy(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,a="",l=0;l<e.length;l++){var c=e[l];if(typeof c=="string")a+=wm(c);else{var p=wm(c.prefix),v="(?:"+c.pattern+")";t.push(c),c.repeat&&(v+="(?:"+p+v+")*"),c.optional?c.partial?v=p+"("+v+")?":v="(?:"+p+"("+v+"))?":v=p+"("+v+")",a+=v}}var m=wm(n.delimiter||"/"),x=a.slice(-m.length)===m;return r||(a=(x?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),i?a+="$":a+=r&&x?"":"(?="+m+"|$)",WE(new RegExp("^"+a,KE(n)),t)}function NA(e,t,n){return fy(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?zq(e,t):fy(e)?Hq(e,t,n):Uq(e,t,n)}var Wq=fd.exports;const Kq=Sn(Wq);var IA={exports:{}},sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,GE=xr?Symbol.for("react.element"):60103,qE=xr?Symbol.for("react.portal"):60106,n0=xr?Symbol.for("react.fragment"):60107,r0=xr?Symbol.for("react.strict_mode"):60108,i0=xr?Symbol.for("react.profiler"):60114,o0=xr?Symbol.for("react.provider"):60109,a0=xr?Symbol.for("react.context"):60110,XE=xr?Symbol.for("react.async_mode"):60111,s0=xr?Symbol.for("react.concurrent_mode"):60111,l0=xr?Symbol.for("react.forward_ref"):60112,u0=xr?Symbol.for("react.suspense"):60113,Gq=xr?Symbol.for("react.suspense_list"):60120,c0=xr?Symbol.for("react.memo"):60115,f0=xr?Symbol.for("react.lazy"):60116,qq=xr?Symbol.for("react.block"):60121,Xq=xr?Symbol.for("react.fundamental"):60117,Vq=xr?Symbol.for("react.responder"):60118,Yq=xr?Symbol.for("react.scope"):60119;function Ki(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GE:switch(e=e.type,e){case XE:case s0:case n0:case i0:case r0:case u0:return e;default:switch(e=e&&e.$$typeof,e){case a0:case l0:case f0:case c0:case o0:return e;default:return t}}case qE:return t}}}function RA(e){return Ki(e)===s0}sn.AsyncMode=XE;sn.ConcurrentMode=s0;sn.ContextConsumer=a0;sn.ContextProvider=o0;sn.Element=GE;sn.ForwardRef=l0;sn.Fragment=n0;sn.Lazy=f0;sn.Memo=c0;sn.Portal=qE;sn.Profiler=i0;sn.StrictMode=r0;sn.Suspense=u0;sn.isAsyncMode=function(e){return RA(e)||Ki(e)===XE};sn.isConcurrentMode=RA;sn.isContextConsumer=function(e){return Ki(e)===a0};sn.isContextProvider=function(e){return Ki(e)===o0};sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GE};sn.isForwardRef=function(e){return Ki(e)===l0};sn.isFragment=function(e){return Ki(e)===n0};sn.isLazy=function(e){return Ki(e)===f0};sn.isMemo=function(e){return Ki(e)===c0};sn.isPortal=function(e){return Ki(e)===qE};sn.isProfiler=function(e){return Ki(e)===i0};sn.isStrictMode=function(e){return Ki(e)===r0};sn.isSuspense=function(e){return Ki(e)===u0};sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===n0||e===s0||e===i0||e===r0||e===u0||e===Gq||typeof e=="object"&&e!==null&&(e.$$typeof===f0||e.$$typeof===c0||e.$$typeof===o0||e.$$typeof===a0||e.$$typeof===l0||e.$$typeof===Xq||e.$$typeof===Vq||e.$$typeof===Yq||e.$$typeof===qq)};sn.typeOf=Ki;IA.exports=sn;var Qq=IA.exports,MA=Qq,Zq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FA={};FA[MA.ForwardRef]=Zq;FA[MA.Memo]=Jq;var eX=function(t){var n=LA();return n.displayName=t,n},jA=eX("Router-History"),tX=function(t){var n=LA();return n.displayName=t,n},sc=tX("Router"),d0=function(e){Hi(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(a){i._isMounted?i.setState({location:a}):i._pendingLocation=a})),i}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return ft.createElement(sc.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ft.createElement(jA.Provider,{children:this.props.children||null,value:this.props.history}))},t}(ft.Component);ft.Component;ft.Component;var Qk={},nX=1e4,Zk=0;function rX(e,t){var n=""+t.end+t.strict+t.sensitive,r=Qk[n]||(Qk[n]={});if(r[e])return r[e];var i=[],a=Kq(e,i,t),l={regexp:a,keys:i};return Zk<nX&&(r[e]=l,Zk++),l}function VE(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=i===void 0?!1:i,l=n.strict,c=l===void 0?!1:l,p=n.sensitive,v=p===void 0?!1:p,m=[].concat(r);return m.reduce(function(x,S){if(!S&&S!=="")return null;if(x)return x;var C=rX(S,{end:a,strict:c,sensitive:v}),I=C.regexp,$=C.keys,N=I.exec(e);if(!N)return null;var L=N[0],M=N.slice(1),B=e===L;return a&&!B?null:{path:S,url:S==="/"&&L===""?"/":L,isExact:B,params:$.reduce(function(j,U,X){return j[U.name]=M[X],j},{})}},null)}var vs=function(e){Hi(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return ft.createElement(sc.Consumer,null,function(a){a||hc(!1);var l=i.props.location||a.location,c=i.props.computedMatch?i.props.computedMatch:i.props.path?VE(l.pathname,i.props):a.match,p=wr({},a,{location:l,match:c}),v=i.props,m=v.children,x=v.component,S=v.render;return Array.isArray(m)&&m.length===0&&(m=null),ft.createElement(sc.Provider,{value:p},p.match?m?typeof m=="function"?m(p):m:x?ft.createElement(x,p):S?S(p):null:typeof m=="function"?m(p):null)})},t}(ft.Component);function YE(e){return e.charAt(0)==="/"?e:"/"+e}function iX(e,t){return e?wr({},t,{pathname:YE(e)+t.pathname}):t}function oX(e,t){if(!e)return t;var n=YE(e);return t.pathname.indexOf(n)!==0?t:wr({},t,{pathname:t.pathname.substr(n.length)})}function Jk(e){return typeof e=="string"?e:OA(e)}function h1(e){return function(){hc(!1)}}function e2(){}ft.Component;var aX=function(e){Hi(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return ft.createElement(sc.Consumer,null,function(a){a||hc(!1);var l=i.props.location||a.location,c,p;return ft.Children.forEach(i.props.children,function(v){if(p==null&&ft.isValidElement(v)){c=v;var m=v.props.path||v.props.from;p=m?VE(l.pathname,wr({},v.props,{path:m})):a.match}}),p?ft.cloneElement(c,{location:l,computedMatch:p}):null})},t}(ft.Component),$A=ft.useContext;function dd(){return $A(jA)}function h0(){var e=$A(sc).match;return e?e.params:{}}function Xh(e){return e.charAt(0)==="/"?e:"/"+e}function t2(e){return e.charAt(0)==="/"?e.substr(1):e}function sX(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function DA(e,t){return sX(e,t)?e.substr(t.length):e}function BA(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function lX(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function ya(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ec(e,t,n,r){var i;typeof e=="string"?(i=lX(e),i.state=t):(i=wr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=_A(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function zA(){var e=null;function t(l){return e=l,function(){e===l&&(e=null)}}function n(l,c,p,v){if(e!=null){var m=typeof e=="function"?e(l,c):e;typeof m=="string"?typeof p=="function"?p(m,v):v(!0):v(m!==!1)}else v(!0)}var r=[];function i(l){var c=!0;function p(){c&&l.apply(void 0,arguments)}return r.push(p),function(){c=!1,r=r.filter(function(v){return v!==p})}}function a(){for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];r.forEach(function(v){return v.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}var HA=!!(typeof window<"u"&&window.document&&window.document.createElement);function UA(e,t){t(window.confirm(e))}function uX(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function cX(){return window.navigator.userAgent.indexOf("Trident")===-1}function fX(){return window.navigator.userAgent.indexOf("Firefox")===-1}function dX(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var n2="popstate",r2="hashchange";function i2(){try{return window.history.state||{}}catch{return{}}}function hX(e){e===void 0&&(e={}),HA||hc(!1);var t=window.history,n=uX(),r=!cX(),i=e,a=i.forceRefresh,l=a===void 0?!1:a,c=i.getUserConfirmation,p=c===void 0?UA:c,v=i.keyLength,m=v===void 0?6:v,x=e.basename?BA(Xh(e.basename)):"";function S(me){var be=me||{},te=be.key,oe=be.state,we=window.location,ne=we.pathname,le=we.search,pe=we.hash,_e=ne+le+pe;return x&&(_e=DA(_e,x)),ec(_e,oe,te)}function C(){return Math.random().toString(36).substr(2,m)}var I=zA();function $(me){wr(ye,me),ye.length=t.length,I.notifyListeners(ye.location,ye.action)}function N(me){dX(me)||B(S(me.state))}function L(){B(S(i2()))}var M=!1;function B(me){if(M)M=!1,$();else{var be="POP";I.confirmTransitionTo(me,be,p,function(te){te?$({action:be,location:me}):j(me)})}}function j(me){var be=ye.location,te=X.indexOf(be.key);te===-1&&(te=0);var oe=X.indexOf(me.key);oe===-1&&(oe=0);var we=te-oe;we&&(M=!0,ve(we))}var U=S(i2()),X=[U.key];function V(me){return x+ya(me)}function re(me,be){var te="PUSH",oe=ec(me,be,C(),ye.location);I.confirmTransitionTo(oe,te,p,function(we){if(we){var ne=V(oe),le=oe.key,pe=oe.state;if(n)if(t.pushState({key:le,state:pe},null,ne),l)window.location.href=ne;else{var _e=X.indexOf(ye.location.key),Ne=X.slice(0,_e+1);Ne.push(oe.key),X=Ne,$({action:te,location:oe})}else window.location.href=ne}})}function fe(me,be){var te="REPLACE",oe=ec(me,be,C(),ye.location);I.confirmTransitionTo(oe,te,p,function(we){if(we){var ne=V(oe),le=oe.key,pe=oe.state;if(n)if(t.replaceState({key:le,state:pe},null,ne),l)window.location.replace(ne);else{var _e=X.indexOf(ye.location.key);_e!==-1&&(X[_e]=oe.key),$({action:te,location:oe})}else window.location.replace(ne)}})}function ve(me){t.go(me)}function xe(){ve(-1)}function ze(){ve(1)}var J=0;function Q(me){J+=me,J===1&&me===1?(window.addEventListener(n2,N),r&&window.addEventListener(r2,L)):J===0&&(window.removeEventListener(n2,N),r&&window.removeEventListener(r2,L))}var G=!1;function Ce(me){me===void 0&&(me=!1);var be=I.setPrompt(me);return G||(Q(1),G=!0),function(){return G&&(G=!1,Q(-1)),be()}}function Te(me){var be=I.appendListener(me);return Q(1),function(){Q(-1),be()}}var ye={length:t.length,action:"POP",location:U,createHref:V,push:re,replace:fe,go:ve,goBack:xe,goForward:ze,block:Ce,listen:Te};return ye}var o2="hashchange",pX={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+t2(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:t2,decodePath:Xh},slash:{encodePath:Xh,decodePath:Xh}};function WA(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Eh(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function gX(e){window.location.hash=e}function p1(e){window.location.replace(WA(window.location.href)+"#"+e)}function vX(e){e===void 0&&(e={}),HA||hc(!1);var t=window.history;fX();var n=e,r=n.getUserConfirmation,i=r===void 0?UA:r,a=n.hashType,l=a===void 0?"slash":a,c=e.basename?BA(Xh(e.basename)):"",p=pX[l],v=p.encodePath,m=p.decodePath;function x(){var be=m(Eh());return c&&(be=DA(be,c)),ec(be)}var S=zA();function C(be){wr(me,be),me.length=t.length,S.notifyListeners(me.location,me.action)}var I=!1,$=null;function N(be,te){return be.pathname===te.pathname&&be.search===te.search&&be.hash===te.hash}function L(){var be=Eh(),te=v(be);if(be!==te)p1(te);else{var oe=x(),we=me.location;if(!I&&N(we,oe)||$===ya(oe))return;$=null,M(oe)}}function M(be){if(I)I=!1,C();else{var te="POP";S.confirmTransitionTo(be,te,i,function(oe){oe?C({action:te,location:be}):B(be)})}}function B(be){var te=me.location,oe=V.lastIndexOf(ya(te));oe===-1&&(oe=0);var we=V.lastIndexOf(ya(be));we===-1&&(we=0);var ne=oe-we;ne&&(I=!0,xe(ne))}var j=Eh(),U=v(j);j!==U&&p1(U);var X=x(),V=[ya(X)];function re(be){var te=document.querySelector("base"),oe="";return te&&te.getAttribute("href")&&(oe=WA(window.location.href)),oe+"#"+v(c+ya(be))}function fe(be,te){var oe="PUSH",we=ec(be,void 0,void 0,me.location);S.confirmTransitionTo(we,oe,i,function(ne){if(ne){var le=ya(we),pe=v(c+le),_e=Eh()!==pe;if(_e){$=le,gX(pe);var Ne=V.lastIndexOf(ya(me.location)),Ue=V.slice(0,Ne+1);Ue.push(le),V=Ue,C({action:oe,location:we})}else C()}})}function ve(be,te){var oe="REPLACE",we=ec(be,void 0,void 0,me.location);S.confirmTransitionTo(we,oe,i,function(ne){if(ne){var le=ya(we),pe=v(c+le),_e=Eh()!==pe;_e&&($=le,p1(pe));var Ne=V.indexOf(ya(me.location));Ne!==-1&&(V[Ne]=le),C({action:oe,location:we})}})}function xe(be){t.go(be)}function ze(){xe(-1)}function J(){xe(1)}var Q=0;function G(be){Q+=be,Q===1&&be===1?window.addEventListener(o2,L):Q===0&&window.removeEventListener(o2,L)}var Ce=!1;function Te(be){be===void 0&&(be=!1);var te=S.setPrompt(be);return Ce||(G(1),Ce=!0),function(){return Ce&&(Ce=!1,G(-1)),te()}}function ye(be){var te=S.appendListener(be);return G(1),function(){G(-1),te()}}var me={length:t.length,action:"POP",location:X,createHref:re,push:fe,replace:ve,go:xe,goBack:ze,goForward:J,block:Te,listen:ye};return me}ft.Component;var mX=function(e){Hi(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.history=vX(r.props),r}var n=t.prototype;return n.render=function(){return ft.createElement(d0,{history:this.history,children:this.props.children})},t}(ft.Component),Kx=function(t,n){return typeof t=="function"?t(n):t},KA=function(t,n){return typeof t=="string"?ec(t,null,null,n):t},QE=function(t){return t},Qf=ft.forwardRef;typeof Qf>"u"&&(Qf=QE);function yX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var wX=Qf(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=cc(e,["innerRef","navigate","onClick"]),l=a.target,c=wr({},a,{onClick:function(v){try{i&&i(v)}catch(m){throw v.preventDefault(),m}!v.defaultPrevented&&v.button===0&&(!l||l==="_self")&&!yX(v)&&(v.preventDefault(),r())}});return QE!==Qf?c.ref=t||n:c.ref=n,ft.createElement("a",c)}),xX=Qf(function(e,t){var n=e.component,r=n===void 0?wX:n,i=e.replace,a=e.to,l=e.innerRef,c=cc(e,["component","replace","to","innerRef"]);return ft.createElement(sc.Consumer,null,function(p){p||hc(!1);var v=p.history,m=KA(Kx(a,p.location),p.location),x=m?v.createHref(m):"",S=wr({},c,{href:x,navigate:function(){var I=Kx(a,p.location),$=i?v.replace:v.push;$(I)}});return QE!==Qf?S.ref=t||l:S.innerRef=l,ft.createElement(r,S)})}),GA=function(t){return t},dy=ft.forwardRef;typeof dy>"u"&&(dy=GA);function bX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}dy(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,a=i===void 0?"active":i,l=e.activeStyle,c=e.className,p=e.exact,v=e.isActive,m=e.location,x=e.sensitive,S=e.strict,C=e.style,I=e.to,$=e.innerRef,N=cc(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ft.createElement(sc.Consumer,null,function(L){L||hc(!1);var M=m||L.location,B=KA(Kx(I,M),M),j=B.pathname,U=j&&j.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),X=U?VE(M.pathname,{path:U,exact:p,sensitive:x,strict:S}):null,V=!!(v?v(X,M):X),re=V?bX(c,a):c,fe=V?wr({},C,{},l):C,ve=wr({"aria-current":V&&r||null,className:re,style:fe,to:B},N);return GA!==dy?ve.ref=t||$:ve.innerRef=$,ft.createElement(xX,ve)})});function EX(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function SX(e,t){e.classList?e.classList.add(t):EX(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function a2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CX(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=a2(e.className,t):e.setAttribute("class",a2(e.className&&e.className.baseVal||"",t))}const s2={disabled:!1},hy=ft.createContext(null);var Fh="unmounted",Iu="exited",Ru="entering",Sf="entered",Gx="exiting",Ms=function(e){Hi(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,p;return a.appearStatus=null,r.in?c?(p=Iu,a.appearStatus=Ru):p=Sf:r.unmountOnExit||r.mountOnEnter?p=Fh:p=Iu,a.state={status:p},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Fh?{status:Iu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ru&&l!==Sf&&(a=Ru):(l===Ru||l===Sf)&&(a=Gx)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(i,a){i===void 0&&(i=!1),a!==null?(this.cancelNextCallback(),a===Ru?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Iu&&this.setState({status:Fh})},n.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,p=this.props.nodeRef?[c]:[Kw.findDOMNode(this),c],v=p[0],m=p[1],x=this.getTimeouts(),S=c?x.appear:x.enter;if(!i&&!l||s2.disabled){this.safeSetState({status:Sf},function(){a.props.onEntered(v)});return}this.props.onEnter(v,m),this.safeSetState({status:Ru},function(){a.props.onEntering(v,m),a.onTransitionEnd(S,function(){a.safeSetState({status:Sf},function(){a.props.onEntered(v,m)})})})},n.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Kw.findDOMNode(this);if(!a||s2.disabled){this.safeSetState({status:Iu},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Gx},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Iu},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Kw.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],v=p[0],m=p[1];this.props.addEndListener(v,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fh)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=cc(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ft.createElement(hy.Provider,{value:null},typeof l=="function"?l(i,c):ft.cloneElement(ft.Children.only(l),c))},t}(ft.Component);Ms.contextType=hy;Ms.propTypes={};function bf(){}Ms.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bf,onEntering:bf,onEntered:bf,onExit:bf,onExiting:bf,onExited:bf};Ms.UNMOUNTED=Fh;Ms.EXITED=Iu;Ms.ENTERING=Ru;Ms.ENTERED=Sf;Ms.EXITING=Gx;const TX=Ms;var kX=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return SX(t,r)})},g1=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return CX(t,r)})},ZE=function(e){Hi(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1];r.removeClasses(m,"exit"),r.addClass(m,x?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,p)},r.onEntering=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1],S=x?"appear":"enter";r.addClass(m,S,"active"),r.props.onEntering&&r.props.onEntering(c,p)},r.onEntered=function(c,p){var v=r.resolveArguments(c,p),m=v[0],x=v[1],S=x?"appear":"enter";r.removeClasses(m,S),r.addClass(m,S,"done"),r.props.onEntered&&r.props.onEntered(c,p)},r.onExit=function(c){var p=r.resolveArguments(c),v=p[0];r.removeClasses(v,"appear"),r.removeClasses(v,"enter"),r.addClass(v,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var p=r.resolveArguments(c),v=p[0];r.addClass(v,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var p=r.resolveArguments(c),v=p[0];r.removeClasses(v,"exit"),r.addClass(v,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,p){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,p]},r.getClassNames=function(c){var p=r.props.classNames,v=typeof p=="string",m=v&&p?p+"-":"",x=v?""+m+c:p[c],S=v?x+"-active":p[c+"Active"],C=v?x+"-done":p[c+"Done"];return{baseClassName:x,activeClassName:S,doneClassName:C}},r}var n=t.prototype;return n.addClass=function(i,a,l){var c=this.getClassNames(a)[l+"ClassName"],p=this.getClassNames("enter"),v=p.doneClassName;a==="appear"&&l==="done"&&v&&(c+=" "+v),l==="active"&&i&&i.scrollTop,c&&(this.appliedClasses[a][l]=c,kX(i,c))},n.removeClasses=function(i,a){var l=this.appliedClasses[a],c=l.base,p=l.active,v=l.done;this.appliedClasses[a]={},c&&g1(i,c),p&&g1(i,p),v&&g1(i,v)},n.render=function(){var i=this.props;i.classNames;var a=cc(i,["classNames"]);return ft.createElement(TX,wr({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(ft.Component);ZE.defaultProps={classNames:""};ZE.propTypes={};const $a=ZE;function JE(e,t){var n=function(a){return t&&O.isValidElement(a)?t(a):a},r=Object.create(null);return e&&O.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _X(e,t){e=e||{},t=t||{};function n(m){return m in t?t[m]:e[m]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var l,c={};for(var p in t){if(r[p])for(l=0;l<r[p].length;l++){var v=r[p][l];c[r[p][l]]=n(v)}c[p]=n(p)}for(l=0;l<i.length;l++)c[i[l]]=n(i[l]);return c}function Gu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function OX(e,t){return JE(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Gu(n,"appear",e),enter:Gu(n,"enter",e),exit:Gu(n,"exit",e)})})}function LX(e,t,n){var r=JE(e.children),i=_X(t,r);return Object.keys(i).forEach(function(a){var l=i[a];if(O.isValidElement(l)){var c=a in t,p=a in r,v=t[a],m=O.isValidElement(v)&&!v.props.in;p&&(!c||m)?i[a]=O.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:Gu(l,"exit",e),enter:Gu(l,"enter",e)}):!p&&c&&!m?i[a]=O.cloneElement(l,{in:!1}):p&&c&&O.isValidElement(v)&&(i[a]=O.cloneElement(l,{onExited:n.bind(null,l),in:v.props.in,exit:Gu(l,"exit",e),enter:Gu(l,"enter",e)}))}}),i}var PX=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},AX={component:"div",childFactory:function(t){return t}},eS=function(e){Hi(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var l=a.handleExited.bind(Fl(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var l=a.children,c=a.handleExited,p=a.firstRender;return{children:p?OX(i,c):LX(i,l,c),firstRender:!1}},n.handleExited=function(i,a){var l=JE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(c){var p=wr({},c.children);return delete p[i.key],{children:p}}))},n.render=function(){var i=this.props,a=i.component,l=i.childFactory,c=cc(i,["component","childFactory"]),p=this.state.contextValue,v=PX(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?ft.createElement(hy.Provider,{value:p},v):ft.createElement(hy.Provider,{value:p},ft.createElement(a,c,v))},t}(ft.Component);eS.propTypes={};eS.defaultProps=AX;const hd=eS,qA=e=>{const{children:t,ignoreSelector:n,onClickAway:r}=e,i=a=>{var l;n&&(l=a.target)!=null&&l.closest(n)||r()};return b.jsx("div",{onClick:i,children:t})};const XA=e=>{var n;const t={gridTemplateColumns:"columnWidth"in e?"repeat(auto-fit, ".concat(typeof e.columnWidth=="number"?e.columnWidth+"px":e.columnWidth,")"):"repeat(".concat(e.columns,", 1fr)"),maxWidth:(n=e.maxWidth)!=null?n:"auto"};return b.jsx("div",{className:"card-group",style:t,children:e.children})};function NX(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var VA=O,IX=NX(VA);function l2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var MX=!!(typeof window<"u"&&window.document&&window.document.createElement);function FX(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],c;function p(){c=e(l.map(function(m){return m.props})),v.canUseDOM?t(c):n&&(c=n(c))}var v=function(m){RX(x,m);function x(){return m.apply(this,arguments)||this}x.peek=function(){return c},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var I=c;return c=void 0,l=[],I};var S=x.prototype;return S.UNSAFE_componentWillMount=function(){l.push(this),p()},S.componentDidUpdate=function(){p()},S.componentWillUnmount=function(){var I=l.indexOf(this);l.splice(I,1),p()},S.render=function(){return IX.createElement(a,this.props)},x}(VA.PureComponent);return l2(v,"displayName","SideEffect("+r(a)+")"),l2(v,"canUseDOM",MX),v}}var jX=FX;const $X=Sn(jX);var DX=typeof Element<"u",BX=typeof Map=="function",zX=typeof Set=="function",HX=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xm(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!xm(e[r],t[r]))return!1;return!0}var a;if(BX&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!xm(r.value[1],t.get(r.value[0])))return!1;return!0}if(zX&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(HX&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(DX&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!xm(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var UX=function(t,n){try{return xm(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const YA=Sn(UX);var tc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},_t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(_t).map(function(e){return _t[e]});var bn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},py={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WX=Object.keys(py).reduce(function(e,t){return e[py[t]]=t,e},{}),KX=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],Io="data-react-helmet",GX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qX=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},XX=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VX=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u2=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},YX=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},qx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},QX=function(t){var n=zf(t,_t.TITLE),r=zf(t,wp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=zf(t,wp.DEFAULT_TITLE);return n||i||void 0},ZX=function(t){return zf(t,wp.ON_CHANGE_CLIENT_STATE)||function(){}},v1=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return di({},r,i)},{})},JX=function(t,n){return n.filter(function(r){return typeof r[_t.BASE]<"u"}).map(function(r){return r[_t.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),l=0;l<a.length;l++){var c=a[l],p=c.toLowerCase();if(t.indexOf(p)!==-1&&i[p])return r.concat(i)}return r},[])},Sh=function(t,n,r){var i={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&rV("Helmet: "+t+' should be of type "Array". Instead found type "'+GX(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,l){var c={};l.filter(function(S){for(var C=void 0,I=Object.keys(S),$=0;$<I.length;$++){var N=I[$],L=N.toLowerCase();n.indexOf(L)!==-1&&!(C===bn.REL&&S[C].toLowerCase()==="canonical")&&!(L===bn.REL&&S[L].toLowerCase()==="stylesheet")&&(C=L),n.indexOf(N)!==-1&&(N===bn.INNER_HTML||N===bn.CSS_TEXT||N===bn.ITEM_PROP)&&(C=N)}if(!C||!S[C])return!1;var M=S[C].toLowerCase();return i[C]||(i[C]={}),c[C]||(c[C]={}),i[C][M]?!1:(c[C][M]=!0,!0)}).reverse().forEach(function(S){return a.push(S)});for(var p=Object.keys(c),v=0;v<p.length;v++){var m=p[v],x=Nj({},i[m],c[m]);i[m]=x}return a},[]).reverse()},zf=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},eV=function(t){return{baseTag:JX([bn.HREF,bn.TARGET],t),bodyAttributes:v1(tc.BODY,t),defer:zf(t,wp.DEFER),encode:zf(t,wp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:v1(tc.HTML,t),linkTags:Sh(_t.LINK,[bn.REL,bn.HREF],t),metaTags:Sh(_t.META,[bn.NAME,bn.CHARSET,bn.HTTPEQUIV,bn.PROPERTY,bn.ITEM_PROP],t),noscriptTags:Sh(_t.NOSCRIPT,[bn.INNER_HTML],t),onChangeClientState:ZX(t),scriptTags:Sh(_t.SCRIPT,[bn.SRC,bn.INNER_HTML],t),styleTags:Sh(_t.STYLE,[bn.CSS_TEXT],t),title:QX(t),titleAttributes:v1(tc.TITLE,t)}},Xx=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Xx(t)},0)}}(),c2=function(t){return clearTimeout(t)},tV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Xx:yr.global.requestAnimationFrame||Xx,nV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||c2:yr.global.cancelAnimationFrame||c2,rV=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ch=null,iV=function(t){Ch&&nV(Ch),t.defer?Ch=tV(function(){f2(t,function(){Ch=null})}):(f2(t),Ch=null)},f2=function(t,n){var r=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,l=t.linkTags,c=t.metaTags,p=t.noscriptTags,v=t.onChangeClientState,m=t.scriptTags,x=t.styleTags,S=t.title,C=t.titleAttributes;Vx(_t.BODY,i),Vx(_t.HTML,a),oV(S,C);var I={baseTag:Ef(_t.BASE,r),linkTags:Ef(_t.LINK,l),metaTags:Ef(_t.META,c),noscriptTags:Ef(_t.NOSCRIPT,p),scriptTags:Ef(_t.SCRIPT,m),styleTags:Ef(_t.STYLE,x)},$={},N={};Object.keys(I).forEach(function(L){var M=I[L],B=M.newTags,j=M.oldTags;B.length&&($[L]=B),j.length&&(N[L]=I[L].oldTags)}),n&&n(),v(t,$,N)},QA=function(t){return Array.isArray(t)?t.join(""):t},oV=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=QA(t)),Vx(_t.TITLE,n)},Vx=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Io),a=i?i.split(","):[],l=[].concat(a),c=Object.keys(n),p=0;p<c.length;p++){var v=c[p],m=n[v]||"";r.getAttribute(v)!==m&&r.setAttribute(v,m),a.indexOf(v)===-1&&a.push(v);var x=l.indexOf(v);x!==-1&&l.splice(x,1)}for(var S=l.length-1;S>=0;S--)r.removeAttribute(l[S]);a.length===l.length?r.removeAttribute(Io):r.getAttribute(Io)!==c.join(",")&&r.setAttribute(Io,c.join(","))}},Ef=function(t,n){var r=document.head||document.querySelector(_t.HEAD),i=r.querySelectorAll(t+"["+Io+"]"),a=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(p){var v=document.createElement(t);for(var m in p)if(p.hasOwnProperty(m))if(m===bn.INNER_HTML)v.innerHTML=p.innerHTML;else if(m===bn.CSS_TEXT)v.styleSheet?v.styleSheet.cssText=p.cssText:v.appendChild(document.createTextNode(p.cssText));else{var x=typeof p[m]>"u"?"":p[m];v.setAttribute(m,x)}v.setAttribute(Io,"true"),a.some(function(S,C){return c=C,v.isEqualNode(S)})?a.splice(c,1):l.push(v)}),a.forEach(function(p){return p.parentNode.removeChild(p)}),l.forEach(function(p){return r.appendChild(p)}),{oldTags:a,newTags:l}},ZA=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},aV=function(t,n,r,i){var a=ZA(r),l=QA(n);return a?"<"+t+" "+Io+'="true" '+a+">"+qx(l,i)+"</"+t+">":"<"+t+" "+Io+'="true">'+qx(l,i)+"</"+t+">"},sV=function(t,n,r){return n.reduce(function(i,a){var l=Object.keys(a).filter(function(v){return!(v===bn.INNER_HTML||v===bn.CSS_TEXT)}).reduce(function(v,m){var x=typeof a[m]>"u"?m:m+'="'+qx(a[m],r)+'"';return v?v+" "+x:x},""),c=a.innerHTML||a.cssText||"",p=KX.indexOf(t)===-1;return i+"<"+t+" "+Io+'="true" '+l+(p?"/>":">"+c+"</"+t+">")},"")},JA=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[py[i]||i]=t[i],r},n)},lV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[WX[i]||i]=t[i],r},n)},uV=function(t,n,r){var i,a=(i={key:n},i[Io]=!0,i),l=JA(r,a);return[ft.createElement(_t.TITLE,l,n)]},cV=function(t,n){return n.map(function(r,i){var a,l=(a={key:i},a[Io]=!0,a);return Object.keys(r).forEach(function(c){var p=py[c]||c;if(p===bn.INNER_HTML||p===bn.CSS_TEXT){var v=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:v}}else l[p]=r[c]}),ft.createElement(t,l)})},ms=function(t,n,r){switch(t){case _t.TITLE:return{toComponent:function(){return uV(t,n.title,n.titleAttributes)},toString:function(){return aV(t,n.title,n.titleAttributes,r)}};case tc.BODY:case tc.HTML:return{toComponent:function(){return JA(n)},toString:function(){return ZA(n)}};default:return{toComponent:function(){return cV(t,n)},toString:function(){return sV(t,n,r)}}}},eN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,l=t.linkTags,c=t.metaTags,p=t.noscriptTags,v=t.scriptTags,m=t.styleTags,x=t.title,S=x===void 0?"":x,C=t.titleAttributes;return{base:ms(_t.BASE,n,i),bodyAttributes:ms(tc.BODY,r,i),htmlAttributes:ms(tc.HTML,a,i),link:ms(_t.LINK,l,i),meta:ms(_t.META,c,i),noscript:ms(_t.NOSCRIPT,p,i),script:ms(_t.SCRIPT,v,i),style:ms(_t.STYLE,m,i),title:ms(_t.TITLE,{title:S,titleAttributes:C},i)}},fV=function(t){var n,r;return r=n=function(i){VX(a,i);function a(){return qX(this,a),YX(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!YA(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,p){if(!p)return null;switch(c.type){case _t.SCRIPT:case _t.NOSCRIPT:return{innerHTML:p};case _t.STYLE:return{cssText:p}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var p,v=c.child,m=c.arrayTypeChildren,x=c.newChildProps,S=c.nestedChildren;return di({},m,(p={},p[v.type]=[].concat(m[v.type]||[],[di({},x,this.mapNestedChildrenToProps(v,S))]),p))},a.prototype.mapObjectTypeChildren=function(c){var p,v,m=c.child,x=c.newProps,S=c.newChildProps,C=c.nestedChildren;switch(m.type){case _t.TITLE:return di({},x,(p={},p[m.type]=C,p.titleAttributes=di({},S),p));case _t.BODY:return di({},x,{bodyAttributes:di({},S)});case _t.HTML:return di({},x,{htmlAttributes:di({},S)})}return di({},x,(v={},v[m.type]=di({},S),v))},a.prototype.mapArrayTypeChildrenToProps=function(c,p){var v=di({},p);return Object.keys(c).forEach(function(m){var x;v=di({},v,(x={},x[m]=c[m],x))}),v},a.prototype.warnOnInvalidChildren=function(c,p){return!0},a.prototype.mapChildrenToProps=function(c,p){var v=this,m={};return ft.Children.forEach(c,function(x){if(!(!x||!x.props)){var S=x.props,C=S.children,I=u2(S,["children"]),$=lV(I);switch(v.warnOnInvalidChildren(x,C),x.type){case _t.LINK:case _t.META:case _t.NOSCRIPT:case _t.SCRIPT:case _t.STYLE:m=v.flattenArrayTypeChildren({child:x,arrayTypeChildren:m,newChildProps:$,nestedChildren:C});break;default:p=v.mapObjectTypeChildren({child:x,newProps:p,newChildProps:$,nestedChildren:C});break}}}),p=this.mapArrayTypeChildrenToProps(m,p),p},a.prototype.render=function(){var c=this.props,p=c.children,v=u2(c,["children"]),m=di({},v);return p&&(m=this.mapChildrenToProps(p,m)),ft.createElement(t,m)},XX(a,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),a}(ft.Component),n.propTypes={base:fn.object,bodyAttributes:fn.object,children:fn.oneOfType([fn.arrayOf(fn.node),fn.node]),defaultTitle:fn.string,defer:fn.bool,encodeSpecialCharacters:fn.bool,htmlAttributes:fn.object,link:fn.arrayOf(fn.object),meta:fn.arrayOf(fn.object),noscript:fn.arrayOf(fn.object),onChangeClientState:fn.func,script:fn.arrayOf(fn.object),style:fn.arrayOf(fn.object),title:fn.string,titleAttributes:fn.object,titleTemplate:fn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=eN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},dV=function(){return null},hV=$X(eV,iV,eN)(dV),gy=fV(hV);gy.renderStatic=gy.rewind;const tN=({title:e})=>(O.useEffect(()=>{if(dc()){const t=window.setTimeout(()=>{document.querySelector("title").innerHTML=e},0);return()=>window.clearTimeout(t)}},[e]),b.jsx(gy,{children:b.jsx("title",{children:e})}));const tS=O.forwardRef((e,t)=>{var c;const{children:n,grabbable:r,title:i}=e,a=O.useRef(null),l=ir("main-content",{padded:(c=e.padded)!=null?c:!0});return O.useImperativeHandle(t,()=>a.current),O.useEffect(()=>{a.current&&a.current.focus()},[]),O.useEffect(()=>{const p=a.current;let v,m;function x(N){p&&(p.scrollLeft=v.left+(m.left-N.clientX),p.scrollTop=v.top+(m.top-N.clientY))}function S(N){p&&(p.releasePointerCapture(N.pointerId),p.removeEventListener("pointerleave",S),p.removeEventListener("pointermove",x),p.style.cursor="",N.preventDefault())}function C(N){N.button===2&&S(N)}function I(N){N.button!==2||!p||(p.setPointerCapture(N.pointerId),p.addEventListener("pointerleave",S),p.addEventListener("pointermove",x),p.addEventListener("pointerup",C),p.style.cursor="grabbing",v={left:p.scrollLeft,top:p.scrollTop},m={left:N.clientX,top:N.clientY},N.preventDefault())}function $(N){N.preventDefault()}if(r&&p)return p.addEventListener("pointerdown",I),p.addEventListener("contextmenu",$),()=>{p.removeEventListener("pointerdown",I),p.removeEventListener("contextmenu",$)}},[r]),b.jsxs("div",{className:l,ref:a,children:[i&&b.jsxs(b.Fragment,{children:[b.jsx(tN,{title:i}),b.jsx("h1",{children:i})]}),n]})});const Th=({label:e})=>b.jsx("span",{className:"badge",children:e});const nS=e=>{const{label:t,onDoubleClick:n,onSelect:r,selected:i,...a}=e,l=O.useCallback(p=>{p.ctrlKey||p.shiftKey?r(!i,!1):r(!0,!0)},[r,i]),c=O.useCallback(p=>{(p.key===" "||p.key==="Enter")&&(p.preventDefault(),p.ctrlKey||p.shiftKey?r(!i,!1):r(!0,!0))},[r,i]);return b.jsx("div",{className:ir("selectable-card",{selected:i}),role:"button","aria-label":t,"aria-pressed":i,onClick:l,onDoubleClick:n,onKeyDown:c,tabIndex:0,children:b.jsx(Ul,{...a})})},pV=({format:e})=>{const{t}=qe();return e.loadState==="unloaded"||e.loadState==="loading"?b.jsx("div",{className:"story-format-card-details",children:b.jsx("p",{children:t("components.storyFormatCard.loadingFormat")})}):e.loadState==="error"?b.jsx("div",{className:"story-format-card-details",children:b.jsx("p",{children:t("components.storyFormatCard.loadError",{errorMessage:e.loadError.message})})}):b.jsxs("div",{className:"story-format-card-details",children:[e.properties.author&&b.jsx("p",{className:"story-format-card-author",dangerouslySetInnerHTML:{__html:t("components.storyFormatCard.author",{author:e.properties.author})}}),e.properties.description&&b.jsx("div",{className:"story-format-card-description",dangerouslySetInnerHTML:{__html:e.properties.description}}),e.properties.license&&b.jsx("p",{className:"story-format-card-license",children:t("components.storyFormatCard.license",{license:e.properties.license})})]})};const gV=e=>{const{defaultFormat:t,editorExtensionsDisabled:n,format:r,onSelect:i,proofingFormat:a}=e,{t:l}=qe();let c=b.jsx(b.Fragment,{});return r.loadState==="error"?c=b.jsx(KD,{}):r.loadState==="unloaded"||r.loadState==="loading"?c=b.jsx(tP,{}):r.loadState==="loaded"&&r.properties.image&&(c=b.jsx("img",{src:$G(r),alt:""})),b.jsx("div",{className:"story-format-card",children:b.jsx(nS,{label:l("components.storyFormatCard.name",{name:r.name,version:r.version}),onSelect:i,selected:r.selected,children:b.jsxs(_r,{children:[b.jsx("div",{className:"story-format-image",children:c}),b.jsxs("div",{className:"story-format-description",children:[b.jsx("h2",{children:l("components.storyFormatCard.name",{name:r.name,version:r.version})}),b.jsx(pV,{format:r})]}),b.jsxs("div",{className:"story-format-badges",children:[!r.userAdded&&b.jsx(Th,{label:l("components.storyFormatCard.builtIn")}),t&&b.jsx(Th,{label:l("components.storyFormatCard.defaultFormat")}),n&&b.jsx(Th,{label:l("components.storyFormatCard.editorExtensionsDisabled")}),r.loadState==="loaded"&&r.properties.proofing&&b.jsx(Th,{label:l("components.storyFormatCard.proofing")}),a&&b.jsx(Th,{label:l("components.storyFormatCard.proofingFormat")})]})]})})})};var d2=function(t){return t.reduce(function(n,r){var i=r[0],a=r[1];return n[i]=a,n},{})},h2=typeof window<"u"&&window.document&&window.document.createElement?O.useLayoutEffect:O.useEffect,po="top",jo="bottom",$o="right",go="left",rS="auto",Vp=[po,jo,$o,go],Zf="start",iS="end",vV="clippingParents",nN="viewport",kh="popper",mV="reference",p2=Vp.reduce(function(e,t){return e.concat([t+"-"+Zf,t+"-"+iS])},[]),rN=[].concat(Vp,[rS]).reduce(function(e,t){return e.concat([t,t+"-"+Zf,t+"-"+iS])},[]),yV="beforeRead",wV="read",xV="afterRead",bV="beforeMain",EV="main",SV="afterMain",CV="beforeWrite",TV="write",kV="afterWrite",_V=[yV,wV,xV,bV,EV,SV,CV,TV,kV];function Na(e){return e?(e.nodeName||"").toLowerCase():null}function Ho(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xp(e){var t=Ho(e).Element;return e instanceof t||e instanceof Element}function Ia(e){var t=Ho(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function iN(e){if(typeof ShadowRoot>"u")return!1;var t=Ho(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function OV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Ia(a)||!Na(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function LV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},l=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=l.reduce(function(p,v){return p[v]="",p},{});!Ia(i)||!Na(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(p){i.removeAttribute(p)}))})}}const PV={name:"applyStyles",enabled:!0,phase:"write",fn:OV,effect:LV,requires:["computeStyles"]};function La(e){return e.split("-")[0]}function Jf(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function oS(e){var t=Jf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function oN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&iN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bl(e){return Ho(e).getComputedStyle(e)}function AV(e){return["table","td","th"].indexOf(Na(e))>=0}function Gl(e){return((xp(e)?e.ownerDocument:e.document)||window.document).documentElement}function p0(e){return Na(e)==="html"?e:e.assignedSlot||e.parentNode||(iN(e)?e.host:null)||Gl(e)}function g2(e){return!Ia(e)||Bl(e).position==="fixed"?null:e.offsetParent}function NV(e){for(var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=p0(e);Ia(n)&&["html","body"].indexOf(Na(n))<0;){var r=Bl(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function Yp(e){for(var t=Ho(e),n=g2(e);n&&AV(n)&&Bl(n).position==="static";)n=g2(n);return n&&(Na(n)==="html"||Na(n)==="body"&&Bl(n).position==="static")?t:n||NV(e)||t}function aS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Nl=Math.max,bp=Math.min,Wv=Math.round;function bm(e,t,n){return Nl(e,bp(t,n))}function aN(){return{top:0,right:0,bottom:0,left:0}}function sN(e){return Object.assign({},aN(),e)}function lN(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var IV=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,sN(typeof t!="number"?t:lN(t,Vp))};function RV(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,l=n.modifiersData.popperOffsets,c=La(n.placement),p=aS(c),v=[go,$o].indexOf(c)>=0,m=v?"height":"width";if(!(!a||!l)){var x=IV(i.padding,n),S=oS(a),C=p==="y"?po:go,I=p==="y"?jo:$o,$=n.rects.reference[m]+n.rects.reference[p]-l[p]-n.rects.popper[m],N=l[p]-n.rects.reference[p],L=Yp(a),M=L?p==="y"?L.clientHeight||0:L.clientWidth||0:0,B=$/2-N/2,j=x[C],U=M-S[m]-x[I],X=M/2-S[m]/2+B,V=bm(j,X,U),re=p;n.modifiersData[r]=(t={},t[re]=V,t.centerOffset=V-X,t)}}function MV(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||oN(t.elements.popper,i)&&(t.elements.arrow=i))}const FV={name:"arrow",enabled:!0,phase:"main",fn:RV,effect:MV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var jV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $V(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Wv(Wv(t*i)/i)||0,y:Wv(Wv(n*i)/i)||0}}function v2(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.offsets,l=e.position,c=e.gpuAcceleration,p=e.adaptive,v=e.roundOffsets,m=v===!0?$V(a):typeof v=="function"?v(a):a,x=m.x,S=x===void 0?0:x,C=m.y,I=C===void 0?0:C,$=a.hasOwnProperty("x"),N=a.hasOwnProperty("y"),L=go,M=po,B=window;if(p){var j=Yp(n),U="clientHeight",X="clientWidth";j===Ho(n)&&(j=Gl(n),Bl(j).position!=="static"&&(U="scrollHeight",X="scrollWidth")),j=j,i===po&&(M=jo,I-=j[U]-r.height,I*=c?1:-1),i===go&&(L=$o,S-=j[X]-r.width,S*=c?1:-1)}var V=Object.assign({position:l},p&&jV);if(c){var re;return Object.assign({},V,(re={},re[M]=N?"0":"",re[L]=$?"0":"",re.transform=(B.devicePixelRatio||1)<2?"translate("+S+"px, "+I+"px)":"translate3d("+S+"px, "+I+"px, 0)",re))}return Object.assign({},V,(t={},t[M]=N?I+"px":"",t[L]=$?S+"px":"",t.transform="",t))}function DV(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,l=a===void 0?!0:a,c=n.roundOffsets,p=c===void 0?!0:c,v={placement:La(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,v2(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:p})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,v2(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const BV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:DV,data:{}};var Kv={passive:!0};function zV(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,p=Ho(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&v.forEach(function(m){m.addEventListener("scroll",n.update,Kv)}),c&&p.addEventListener("resize",n.update,Kv),function(){a&&v.forEach(function(m){m.removeEventListener("scroll",n.update,Kv)}),c&&p.removeEventListener("resize",n.update,Kv)}}const HV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zV,data:{}};var UV={left:"right",right:"left",bottom:"top",top:"bottom"};function Em(e){return e.replace(/left|right|bottom|top/g,function(t){return UV[t]})}var WV={start:"end",end:"start"};function m2(e){return e.replace(/start|end/g,function(t){return WV[t]})}function sS(e){var t=Ho(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lS(e){return Jf(Gl(e)).left+sS(e).scrollLeft}function KV(e){var t=Ho(e),n=Gl(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,l=0,c=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=r.offsetLeft,c=r.offsetTop)),{width:i,height:a,x:l+lS(e),y:c}}function GV(e){var t,n=Gl(e),r=sS(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Nl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Nl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+lS(e),p=-r.scrollTop;return Bl(i||n).direction==="rtl"&&(c+=Nl(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:p}}function uS(e){var t=Bl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function uN(e){return["html","body","#document"].indexOf(Na(e))>=0?e.ownerDocument.body:Ia(e)&&uS(e)?e:uN(p0(e))}function Vh(e,t){var n;t===void 0&&(t=[]);var r=uN(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ho(r),l=i?[a].concat(a.visualViewport||[],uS(r)?r:[]):r,c=t.concat(l);return i?c:c.concat(Vh(p0(l)))}function Yx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qV(e){var t=Jf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function y2(e,t){return t===nN?Yx(KV(e)):Ia(t)?qV(t):Yx(GV(Gl(e)))}function XV(e){var t=Vh(p0(e)),n=["absolute","fixed"].indexOf(Bl(e).position)>=0,r=n&&Ia(e)?Yp(e):e;return xp(r)?t.filter(function(i){return xp(i)&&oN(i,r)&&Na(i)!=="body"}):[]}function VV(e,t,n){var r=t==="clippingParents"?XV(e):[].concat(t),i=[].concat(r,[n]),a=i[0],l=i.reduce(function(c,p){var v=y2(e,p);return c.top=Nl(v.top,c.top),c.right=bp(v.right,c.right),c.bottom=bp(v.bottom,c.bottom),c.left=Nl(v.left,c.left),c},y2(e,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ep(e){return e.split("-")[1]}function cN(e){var t=e.reference,n=e.element,r=e.placement,i=r?La(r):null,a=r?Ep(r):null,l=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,p;switch(i){case po:p={x:l,y:t.y-n.height};break;case jo:p={x:l,y:t.y+t.height};break;case $o:p={x:t.x+t.width,y:c};break;case go:p={x:t.x-n.width,y:c};break;default:p={x:t.x,y:t.y}}var v=i?aS(i):null;if(v!=null){var m=v==="y"?"height":"width";switch(a){case Zf:p[v]=p[v]-(t[m]/2-n[m]/2);break;case iS:p[v]=p[v]+(t[m]/2-n[m]/2);break}}return p}function Sp(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,l=a===void 0?vV:a,c=n.rootBoundary,p=c===void 0?nN:c,v=n.elementContext,m=v===void 0?kh:v,x=n.altBoundary,S=x===void 0?!1:x,C=n.padding,I=C===void 0?0:C,$=sN(typeof I!="number"?I:lN(I,Vp)),N=m===kh?mV:kh,L=e.elements.reference,M=e.rects.popper,B=e.elements[S?N:m],j=VV(xp(B)?B:B.contextElement||Gl(e.elements.popper),l,p),U=Jf(L),X=cN({reference:U,element:M,strategy:"absolute",placement:i}),V=Yx(Object.assign({},M,X)),re=m===kh?V:U,fe={top:j.top-re.top+$.top,bottom:re.bottom-j.bottom+$.bottom,left:j.left-re.left+$.left,right:re.right-j.right+$.right},ve=e.modifiersData.offset;if(m===kh&&ve){var xe=ve[i];Object.keys(fe).forEach(function(ze){var J=[$o,jo].indexOf(ze)>=0?1:-1,Q=[po,jo].indexOf(ze)>=0?"y":"x";fe[ze]+=xe[Q]*J})}return fe}function YV(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,l=n.padding,c=n.flipVariations,p=n.allowedAutoPlacements,v=p===void 0?rN:p,m=Ep(r),x=m?c?p2:p2.filter(function(I){return Ep(I)===m}):Vp,S=x.filter(function(I){return v.indexOf(I)>=0});S.length===0&&(S=x);var C=S.reduce(function(I,$){return I[$]=Sp(e,{placement:$,boundary:i,rootBoundary:a,padding:l})[La($)],I},{});return Object.keys(C).sort(function(I,$){return C[I]-C[$]})}function QV(e){if(La(e)===rS)return[];var t=Em(e);return[m2(e),t,m2(t)]}function ZV(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!0:l,p=n.fallbackPlacements,v=n.padding,m=n.boundary,x=n.rootBoundary,S=n.altBoundary,C=n.flipVariations,I=C===void 0?!0:C,$=n.allowedAutoPlacements,N=t.options.placement,L=La(N),M=L===N,B=p||(M||!I?[Em(N)]:QV(N)),j=[N].concat(B).reduce(function(ne,le){return ne.concat(La(le)===rS?YV(t,{placement:le,boundary:m,rootBoundary:x,padding:v,flipVariations:I,allowedAutoPlacements:$}):le)},[]),U=t.rects.reference,X=t.rects.popper,V=new Map,re=!0,fe=j[0],ve=0;ve<j.length;ve++){var xe=j[ve],ze=La(xe),J=Ep(xe)===Zf,Q=[po,jo].indexOf(ze)>=0,G=Q?"width":"height",Ce=Sp(t,{placement:xe,boundary:m,rootBoundary:x,altBoundary:S,padding:v}),Te=Q?J?$o:go:J?jo:po;U[G]>X[G]&&(Te=Em(Te));var ye=Em(Te),me=[];if(a&&me.push(Ce[ze]<=0),c&&me.push(Ce[Te]<=0,Ce[ye]<=0),me.every(function(ne){return ne})){fe=xe,re=!1;break}V.set(xe,me)}if(re)for(var be=I?3:1,te=function(le){var pe=j.find(function(_e){var Ne=V.get(_e);if(Ne)return Ne.slice(0,le).every(function(Ue){return Ue})});if(pe)return fe=pe,"break"},oe=be;oe>0;oe--){var we=te(oe);if(we==="break")break}t.placement!==fe&&(t.modifiersData[r]._skip=!0,t.placement=fe,t.reset=!0)}}const JV={name:"flip",enabled:!0,phase:"main",fn:ZV,requiresIfExists:["offset"],data:{_skip:!1}};function w2(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function x2(e){return[po,$o,jo,go].some(function(t){return e[t]>=0})}function eY(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,l=Sp(t,{elementContext:"reference"}),c=Sp(t,{altBoundary:!0}),p=w2(l,r),v=w2(c,i,a),m=x2(p),x=x2(v);t.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:v,isReferenceHidden:m,hasPopperEscaped:x},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":x})}const tY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eY};function nY(e,t,n){var r=La(e),i=[go,po].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[go,$o].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function rY(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,l=rN.reduce(function(m,x){return m[x]=nY(x,t.rects,a),m},{}),c=l[t.placement],p=c.x,v=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=v),t.modifiersData[r]=l}const iY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rY};function oY(e){var t=e.state,n=e.name;t.modifiersData[n]=cN({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const aY={name:"popperOffsets",enabled:!0,phase:"read",fn:oY,data:{}};function sY(e){return e==="x"?"y":"x"}function lY(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!1:l,p=n.boundary,v=n.rootBoundary,m=n.altBoundary,x=n.padding,S=n.tether,C=S===void 0?!0:S,I=n.tetherOffset,$=I===void 0?0:I,N=Sp(t,{boundary:p,rootBoundary:v,padding:x,altBoundary:m}),L=La(t.placement),M=Ep(t.placement),B=!M,j=aS(L),U=sY(j),X=t.modifiersData.popperOffsets,V=t.rects.reference,re=t.rects.popper,fe=typeof $=="function"?$(Object.assign({},t.rects,{placement:t.placement})):$,ve={x:0,y:0};if(X){if(a||c){var xe=j==="y"?po:go,ze=j==="y"?jo:$o,J=j==="y"?"height":"width",Q=X[j],G=X[j]+N[xe],Ce=X[j]-N[ze],Te=C?-re[J]/2:0,ye=M===Zf?V[J]:re[J],me=M===Zf?-re[J]:-V[J],be=t.elements.arrow,te=C&&be?oS(be):{width:0,height:0},oe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:aN(),we=oe[xe],ne=oe[ze],le=bm(0,V[J],te[J]),pe=B?V[J]/2-Te-le-we-fe:ye-le-we-fe,_e=B?-V[J]/2+Te+le+ne+fe:me+le+ne+fe,Ne=t.elements.arrow&&Yp(t.elements.arrow),Ue=Ne?j==="y"?Ne.clientTop||0:Ne.clientLeft||0:0,nt=t.modifiersData.offset?t.modifiersData.offset[t.placement][j]:0,Ye=X[j]+pe-nt-Ue,wt=X[j]+_e-nt;if(a){var Dt=bm(C?bp(G,Ye):G,Q,C?Nl(Ce,wt):Ce);X[j]=Dt,ve[j]=Dt-Q}if(c){var Ft=j==="x"?po:go,it=j==="x"?jo:$o,yt=X[U],Ot=yt+N[Ft],jt=yt-N[it],Bt=bm(C?bp(Ot,Ye):Ot,yt,C?Nl(jt,wt):jt);X[U]=Bt,ve[U]=Bt-yt}}t.modifiersData[r]=ve}}const uY={name:"preventOverflow",enabled:!0,phase:"main",fn:lY,requiresIfExists:["offset"]};function cY(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fY(e){return e===Ho(e)||!Ia(e)?sS(e):cY(e)}function dY(e,t,n){n===void 0&&(n=!1);var r=Gl(t),i=Jf(e),a=Ia(t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&((Na(t)!=="body"||uS(r))&&(l=fY(t)),Ia(t)?(c=Jf(t),c.x+=t.clientLeft,c.y+=t.clientTop):r&&(c.x=lS(r))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function hY(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var p=t.get(c);p&&i(p)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function pY(e){var t=hY(e);return _V.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function gY(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function vY(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var b2={placement:"bottom",modifiers:[],strategy:"absolute"};function E2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function mY(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?b2:i;return function(c,p,v){v===void 0&&(v=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},b2,a),modifiersData:{},elements:{reference:c,popper:p},attributes:{},styles:{}},x=[],S=!1,C={state:m,setOptions:function(L){$(),m.options=Object.assign({},a,m.options,L),m.scrollParents={reference:xp(c)?Vh(c):c.contextElement?Vh(c.contextElement):[],popper:Vh(p)};var M=pY(vY([].concat(r,m.options.modifiers)));return m.orderedModifiers=M.filter(function(B){return B.enabled}),I(),C.update()},forceUpdate:function(){if(!S){var L=m.elements,M=L.reference,B=L.popper;if(E2(M,B)){m.rects={reference:dY(M,Yp(B),m.options.strategy==="fixed"),popper:oS(B)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(ve){return m.modifiersData[ve.name]=Object.assign({},ve.data)});for(var j=0;j<m.orderedModifiers.length;j++){if(m.reset===!0){m.reset=!1,j=-1;continue}var U=m.orderedModifiers[j],X=U.fn,V=U.options,re=V===void 0?{}:V,fe=U.name;typeof X=="function"&&(m=X({state:m,options:re,name:fe,instance:C})||m)}}}},update:gY(function(){return new Promise(function(N){C.forceUpdate(),N(m)})}),destroy:function(){$(),S=!0}};if(!E2(c,p))return C;C.setOptions(v).then(function(N){!S&&v.onFirstUpdate&&v.onFirstUpdate(N)});function I(){m.orderedModifiers.forEach(function(N){var L=N.name,M=N.options,B=M===void 0?{}:M,j=N.effect;if(typeof j=="function"){var U=j({state:m,name:L,instance:C,options:B}),X=function(){};x.push(U||X)}})}function $(){x.forEach(function(N){return N()}),x=[]}return C}}var yY=[HV,aY,BV,PV,iY,JV,uY,FV,tY],wY=mY({defaultModifiers:yY}),xY=[],cS=function(t,n,r){r===void 0&&(r={});var i=O.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||xY},l=O.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"}},attributes:{}}),c=l[0],p=l[1],v=O.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(C){var I=C.state,$=Object.keys(I.elements);p({styles:d2($.map(function(N){return[N,I.styles[N]||{}]})),attributes:d2($.map(function(N){return[N,I.attributes[N]]}))})},requires:["computeStyles"]}},[]),m=O.useMemo(function(){var S={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[v,{name:"applyStyles",enabled:!1}])};return YA(i.current,S)?i.current||S:(i.current=S,S)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,v]),x=O.useRef();return h2(function(){x.current&&x.current.setOptions(m)},[m]),h2(function(){if(!(t==null||n==null)){var S=r.createPopper||wY,C=S(t,n,m);return x.current=C,function(){C.destroy(),x.current=null}}},[t,n,r.createPopper]),{state:x.current?x.current.state:null,styles:c.styles,attributes:c.attributes,update:x.current?x.current.update:null,forceUpdate:x.current?x.current.forceUpdate:null}};const bY=e=>{const{anchor:t,label:n,position:r="top"}=e,[i,a]=O.useState(null),[l,c]=O.useState(null),[p,v]=O.useState(!1),[m,x]=O.useState(),{styles:S,attributes:C}=cS(t,i,{modifiers:[{name:"arrow",options:{element:l}},{name:"flip"}],placement:r,strategy:"fixed"});return O.useEffect(()=>{const I=()=>x(window.setTimeout(()=>v(!0),500)),$=()=>{m&&window.clearTimeout(m),v(!1)};if(t)return t.addEventListener("pointerenter",I),t.addEventListener("pointerleave",$),()=>{t.removeEventListener("pointerenter",I),t.removeEventListener("pointerleave",$)}},[t,m]),b.jsx($a,{classNames:"fade-in-out",in:p,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsxs("div",{"aria-hidden":!0,className:"tooltip",ref:a,role:"tooltip",style:S.popper,...C.popper,children:[b.jsx("div",{className:"tooltip-arrow",ref:c,style:S.arrow}),b.jsx("div",{className:"tooltip-label",children:n})]})})},tt=O.forwardRef((e,t)=>{var M;const{ariaChecked:n,disabled:r,icon:i,iconOnly:a,iconPosition:l="start",onClick:c,preventDefault:p,role:v,selectable:m=!1,selected:x=!1,tooltipPosition:S,variant:C="secondary"}=e,I=ir("icon-button","icon-position-".concat(l),{selected:x},"variant-".concat(C),{"icon-only":a}),[$,N]=O.useState(null);O.useImperativeHandle(t,()=>$);const L=B=>{c&&c(B),p&&B.preventDefault()};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{"aria-checked":n,"aria-label":a?e.label:void 0,"aria-pressed":m?x:void 0,disabled:r,className:I,onClick:L,ref:N,role:v,children:[b.jsx("span",{className:"icon",children:i}),!a&&((M=e.displayLabel)!=null?M:e.label)]}),a&&b.jsx(bY,{anchor:$,label:e.label,position:S})]})});const EY=e=>{const{children:t,headerDisplayLabel:n,headerLabel:r,onClose:i,onRaise:a}=e,{didCatch:l,ErrorBoundary:c,error:p}=My(),{t:v}=qe();return O.useEffect(()=>{p&&console.error(p)},[p]),b.jsx("div",{"aria-label":r,className:"dialog-card background",children:b.jsxs(Ul,{floating:!0,children:[b.jsxs("h2",{children:[b.jsx("div",{className:"dialog-card-header",children:b.jsx(tt,{displayLabel:n,icon:null,label:r,onClick:a})}),b.jsx("div",{className:"dialog-card-header-controls",children:b.jsx(tt,{icon:b.jsx(No,{}),iconOnly:!0,label:v("common.close"),onClick:i,tooltipPosition:"bottom"})})]}),l?b.jsx(Hl,{children:v("components.dialogCard.contentsCrashed")}):b.jsx(c,{children:t})]})})},Uo=e=>{const{children:t,className:n,collapsed:r,fixedSize:i,headerDisplayLabel:a,headerLabel:l,highlighted:c,maximizable:p,maximized:v,onChangeCollapsed:m,onChangeHighlighted:x,onChangeMaximized:S,onClose:C}=e,{didCatch:I,ErrorBoundary:$,error:N}=My(),{t:L}=qe();O.useEffect(()=>{N&&console.error(N)},[N]),O.useEffect(()=>{if(c){const j=window.setTimeout(()=>x(!1),400);return()=>window.clearTimeout(j)}},[c,x]);const M=ir("dialog-card",n,{collapsed:r,highlighted:c,"fixed-size":i,maximized:v});function B(j){j.key==="Escape"&&C(j)}return b.jsx("div",{"aria-label":l,role:"dialog",className:M,onKeyDown:B,children:b.jsxs(Ul,{floating:!0,children:[b.jsxs("h2",{children:[b.jsx("div",{className:"dialog-card-header",children:b.jsx(tt,{icon:r?b.jsx(g3,{}):b.jsx(HL,{}),displayLabel:a,label:l,onClick:()=>m(!r)})}),b.jsxs("div",{className:"dialog-card-header-controls",children:[p&&b.jsx(tt,{icon:v?b.jsx(t3,{}):b.jsx(r3,{}),iconOnly:!0,label:L(v?"common.unmaximize":"common.maximize"),onClick:()=>S(!v),tooltipPosition:"bottom"}),b.jsx(tt,{icon:b.jsx(No,{}),iconOnly:!0,label:L("common.close"),onClick:C,tooltipPosition:"bottom"})]})]}),I?b.jsx(Hl,{children:L("components.dialogCard.contentsCrashed")}):b.jsx($,{children:!r&&t})]})})};const fS=e=>b.jsx("div",{className:"dialog-editor",children:e.children}),SY=["Chris Klimas","Lorenzo Ancora","Leon Arnott","Ingrid Cheung","Daithi O Crualaoich","Thomas Michael Edwards","Micah Fitch","Kate Fractal","Juhana Leinonen","Michael Savich","Ross Smith"],CY=["David Marchand (Castellano)","Jordi Mallach (català)","MasterStudioCZ, Svatopluk Vít (Čeština)","Kristian Torgard (Dansk)","Julian Brehmer, Moritz Rebbert (Deutsch)","Valentin Rocher (Français)","Marco Secchi (Italiano)","MinariHak (한국어)","SjoerdHekking, Stefan Peeters (Nederlands)","José Carlos Dias (Português)","Alliah (Português Brasileiro)","Anton Zhuchkov (Русский)","Mika Letonsaari (Suomi)","Désirée Nordlund (Svenska)","H. Utku Maden (Türkçe)","Serhii Mozhaiskyi (українська)","Shitake & SEN1 & 快乐的老鼠宝宝 (简体中文)"],S2={code:SY,localizations:CY};const TY=e=>{const{t}=qe(),n=uo();return b.jsx(Uo,{...e,className:"about-twine-dialog",fixedSize:!0,headerLabel:t("dialogs.aboutTwine.title",{version:n.version}),children:b.jsxs("div",{className:"content",children:[b.jsx("p",{children:t("dialogs.aboutTwine.twineDescription")}),b.jsx("p",{dangerouslySetInnerHTML:{__html:t("dialogs.aboutTwine.license")}}),b.jsxs("div",{className:"credits",children:[b.jsxs("div",{className:"code",children:[b.jsx("h3",{children:t("dialogs.aboutTwine.codeHeader")}),b.jsx("ul",{children:S2.code.map(r=>b.jsx("li",{children:r},r))})]}),b.jsxs("div",{className:"localizations",children:[b.jsx("h3",{children:t("dialogs.aboutTwine.localizationHeader")}),b.jsx("ul",{children:S2.localizations.map(r=>b.jsx("li",{children:r},r))})]})]}),b.jsxs(An,{children:[b.jsx(up,{href:"https://twinery.org/donate",icon:b.jsx(KL,{}),label:t("dialogs.aboutTwine.donateToTwine"),variant:"primary"}),b.jsx(up,{href:"https://github.com/klembot/twinejs",icon:b.jsx(b3,{}),label:t("dialogs.aboutTwine.codeRepo")})]})]})})},kY=e=>{const{dispatch:t}=Yt(),{t:n}=qe();return O.useEffect(()=>t(pr("donateShown",!0)),[t]),b.jsxs(Uo,{...e,className:"app-donation-dialog",fixedSize:!0,headerLabel:n("dialogs.appDonation.title"),children:[b.jsx(_r,{children:b.jsxs("div",{className:"text",children:[b.jsx("p",{children:n("dialogs.appDonation.supportMessage")}),b.jsx("p",{children:n("dialogs.appDonation.onlyOnce")})]})}),b.jsxs(An,{children:[b.jsx(up,{href:"https://twinery.org/donate",icon:b.jsx(KL,{}),label:n("dialogs.appDonation.donate"),variant:"primary"}),b.jsx(tt,{icon:b.jsx(No,{}),label:n("dialogs.appDonation.noThanks"),onClick:e.onClose})]})]})},Pa=e=>{const{checkedIcon:t,icon:n,onChange:r,uncheckedIcon:i,value:a,...l}=e,c=a?t!=null?t:b.jsx(w4,{}):i!=null?i:b.jsx(qL,{});return b.jsx(tt,{icon:n!=null?n:c,onClick:()=>r(!a),role:"checkbox",ariaChecked:a,...l})};const Cp=O.forwardRef((e,t)=>{var r;const n=ir("text-input","orientation-".concat(e.orientation),"type-".concat(e.type));return b.jsx("span",{className:n,children:b.jsxs("label",{children:[b.jsx("span",{className:"text-input-label",children:e.children}),b.jsx("input",{onChange:e.onChange,onInput:e.onInput,placeholder:e.placeholder,ref:t,type:(r=e.type)!=null?r:"text",value:e.value})]})})});const Ps=e=>{const{children:t,onChange:n,options:r,orientation:i,value:a}=e,l=ir("text-select","orientation-".concat(i!=null?i:"horizontal"));return b.jsx("span",{className:l,children:b.jsxs("label",{children:[b.jsx("span",{className:"text-select-label",children:t}),b.jsx("span",{className:"text-select-control",children:b.jsx("select",{onChange:n,value:a,children:r.map(c=>b.jsx("option",{disabled:c.disabled,value:c.value,children:c.label},c.value))})})]})})};const C2=["var(--font-monospaced)","var(--font-system)"],T2=[.8,.9,1,1.25,1.5,2],k2=e=>{const{familyLabel:t,fontFamily:n,fontScale:r,onChangeFamily:i,onChangeScale:a,scaleLabel:l}=e,[c,p]=O.useState(!T2.includes(r)),[v,m]=O.useState(!C2.includes(n)),[x,S]=O.useState(n),[C,I]=O.useState((r*100).toString()),{t:$}=qe();function N(j){j.target.value==="custom"?(m(!0),C2.includes(x)&&S("")):(m(!1),i(j.target.value))}function L(j){j.target.value==="custom"?p(!0):(p(!1),a(parseFloat(j.target.value)))}function M(j){S(j.target.value),j.target.value.trim()!==""&&i(j.target.value)}function B(j){I(j.target.value);const U=parseInt(j.target.value);Number.isFinite(U)&&a(U/100)}return b.jsxs("div",{className:"font-select",children:[b.jsx(Ps,{onChange:N,options:[{label:$("components.fontSelect.fonts.system"),value:"var(--font-system)"},{label:$("components.fontSelect.fonts.monospaced"),value:"var(--font-monospaced)"},{label:$("common.custom"),value:"custom"}],value:v?"custom":n,children:t}),v&&b.jsx(Cp,{onChange:M,orientation:"vertical",value:x,children:$("components.fontSelect.customFamilyDetail")}),b.jsx(Ps,{onChange:L,options:[...T2.map(j=>({label:$("components.fontSelect.percentage",{percent:j*100}),value:j.toString()})),{label:$("common.custom"),value:"custom"}],value:c?"custom":r.toString(),children:l}),c&&b.jsx(Cp,{onChange:B,orientation:"vertical",value:C,children:$("components.fontSelect.customScaleDetail")})]})},Qx=[{code:"ca",name:"Català"},{code:"cs",name:"Čeština"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"en",name:"English"},{code:"es",name:"Castellano"},{code:"fi",name:"Suomi"},{code:"fr",name:"Français"},{code:"it",name:"Italiano"},{code:"ko",name:"한국어"},{code:"ms",name:"Bahasa Melayu"},{code:"nb",name:"Norsk bokmål"},{code:"nl",name:"Nederlands"},{code:"pt-br",name:"Português Brasileiro"},{code:"pt-pt",name:"Português"},{code:"ru",name:"русский"},{code:"sv",name:"Svenska"},{code:"tr",name:"Türkçe"},{code:"uk",name:"Українська"},{code:"zh-cn",name:"中文(简体)"}];function _Y(e){if(Qx.some(t=>t.code===e))return e;if(e.includes("-")){const t=e.replace(/-.+/,""),n=Qx.find(r=>r.code===t||r.code.replace(/-.+/,"")===t);if(n)return n.code}return"en"}const OY=e=>{const{dispatch:t,prefs:n}=Yt(),{t:r}=qe();return b.jsx(Uo,{...e,className:"app-prefs-dialog",fixedSize:!0,headerLabel:r("dialogs.appPrefs.title"),children:b.jsxs(_r,{children:[b.jsx(Ps,{onChange:i=>t(pr("locale",i.target.value)),options:Qx.map(i=>({label:i.name,value:i.code})),value:_Y(n.locale),children:r("dialogs.appPrefs.language")}),b.jsx(Ps,{onChange:i=>t(pr("appTheme",i.target.value)),options:[{label:r("dialogs.appPrefs.themeSystem"),value:"system"},{label:r("dialogs.appPrefs.themeLight"),value:"light"},{label:r("dialogs.appPrefs.themeDark"),value:"dark"}],value:n.appTheme,children:r("dialogs.appPrefs.theme")}),b.jsx(Ps,{onChange:i=>t(pr("dialogWidth",parseInt(i.target.value))),options:[{label:r("dialogs.appPrefs.dialogWidths.default"),value:"600"},{label:r("dialogs.appPrefs.dialogWidths.wider"),value:"700"},{label:r("dialogs.appPrefs.dialogWidths.widest"),value:"800"}],value:n.dialogWidth.toString(),children:r("dialogs.appPrefs.dialogWidth")}),b.jsx(Pa,{label:r("dialogs.appPrefs.editorCursorBlinks"),onChange:i=>t(pr("editorCursorBlinks",i)),value:n.editorCursorBlinks}),b.jsx("p",{className:"font-explanation",children:r("dialogs.appPrefs.fontExplanation")}),b.jsx(k2,{familyLabel:r("dialogs.appPrefs.passageEditorFont"),fontFamily:n.passageEditorFontFamily,fontScale:n.passageEditorFontScale,onChangeFamily:i=>t(pr("passageEditorFontFamily",i)),onChangeScale:i=>t(pr("passageEditorFontScale",i)),scaleLabel:r("dialogs.appPrefs.passageEditorFontScale")}),b.jsx(k2,{familyLabel:r("dialogs.appPrefs.codeEditorFont"),fontFamily:n.codeEditorFontFamily,fontScale:n.codeEditorFontScale,onChangeFamily:i=>t(pr("codeEditorFontFamily",i)),onChangeScale:i=>t(pr("codeEditorFontScale",i)),scaleLabel:r("dialogs.appPrefs.codeEditorFontScale")})]})})};const LY=e=>{const{dialogLength:t,expanded:n,onChangeExpanded:r}=e,[i,a]=O.useState(!1);return O.useEffect(()=>{function l(){n&&(r(!1),a(!1))}return window.addEventListener("touchstart",l),()=>window.removeEventListener("touchstart",l)},[n,r]),n&&i?null:b.jsx("div",{"aria-hidden":!0,className:"dialog-stack-expander",onMouseEnter:()=>r(!n),onTouchEnd:l=>{r(!0),a(!0),l.preventDefault()},style:{bottom:n?0:"auto",height:n?"auto":"var(--control-height)",top:n?"calc(var(--control-height) * ".concat(t,")"):0}})};const Gv=3,qv="var(--control-height)",PY=({children:e,childKeys:t})=>{const n=O.useRef(null),[r,i]=O.useState(!1),a=O.useMemo(()=>[...e].reverse(),[e]),l=O.useMemo(()=>[...t].reverse(),[t]),c=O.useRef();O.useEffect(()=>{c.current=l},[l]);const p=O.useMemo(()=>{var C,I;return l.length===((C=c.current)==null?void 0:C.length)&&l[l.length-1]!==((I=c.current)==null?void 0:I[l.length-1])},[l]),v=Math.min(e.length,Gv),m=e.length>v,x="".concat(qv," / ").concat(e.length+1-Gv),S="calc(100% - (".concat(qv," * ").concat(v-1,"))");return b.jsxs("div",{className:"dialog-stack",onMouseLeave:()=>i(!1),onClick:()=>i(!1),ref:n,children:[m&&b.jsx(LY,{dialogLength:e.length,expanded:r,onChangeExpanded:i}),b.jsx(hd,{component:null,children:a.map((C,I)=>{const $=m&&I<=e.length-Gv,N=$?"calc(".concat(x," * ").concat(I,")"):"calc(".concat(qv," * ").concat(m?I-(e.length-Gv):I,")"),L="calc(".concat(qv," * ").concat(I,")"),M=$&&{onBlur:()=>i(!1),onFocus:()=>i(!0)};return b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx("div",{className:ir("dialog-height-setter",{rising:p&&I===a.length-1}),style:{height:S},...M,children:b.jsx("div",{className:"dialog-transform-setter",style:{transform:"translateY(".concat(r?L:N,")")},children:C})})},l[I])})})]})};function fN(e,t){switch(e.type){case"createPassage":if(e.props.id)return{type:"deletePassage",passageId:e.props.id,storyId:e.storyId};if(e.props.name)return(r,i)=>{r({type:"deletePassage",passageId:ay(i(),e.storyId,e.props.name).id,storyId:e.storyId})};throw new Error("Can't reverse a createPassage action without either name or ID");case"createPassages":if(e.props.some(n=>!n.id&&!n.name))throw new Error("Can't reverse a createPassages action where a prop set doesn't have either name or ID");return(n,r)=>{e.props.forEach(i=>{i.id?n({type:"deletePassage",passageId:i.id,storyId:e.storyId}):i.name&&n({type:"deletePassage",passageId:ay(r(),e.storyId,i.name).id,storyId:e.storyId})})};case"deletePassage":return{type:"createPassage",props:Os(t,e.storyId,e.passageId),storyId:e.storyId};case"deletePassages":return{type:"createPassages",props:e.passageIds.map(n=>Os(t,e.storyId,n)),storyId:e.storyId};case"updatePassage":{const n=Os(t,e.storyId,e.passageId);return{type:"updatePassage",props:Object.keys(e.props).reduce((i,a)=>({...i,[a]:n[a]}),{}),passageId:e.passageId,storyId:e.storyId}}case"updatePassages":return{type:"updatePassages",passageUpdates:Object.keys(e.passageUpdates).reduce((n,r)=>{const i=Os(t,e.storyId,r);return{...n,[r]:Object.keys(e.passageUpdates[r]).reduce((a,l)=>({...a,[l]:i[l]}),{})}},{}),storyId:e.storyId};case"updateStory":{const n=on(t,e.storyId);return{type:"updateStory",props:Object.keys(e.props).reduce((i,a)=>({...i,[a]:n[a]}),{}),storyId:e.storyId}}}throw new Error("Don't know how to reverse action type \"".concat(e.type,'"'))}function dN(e,t){const n=[];return e(i=>{typeof i=="function"?n.push(dN(i,t)):n.push(fN(i,t))},()=>t),i=>n.forEach(i)}const AY=(e,t)=>{switch(t.type){case"addChange":const n={description:t.description,redo:t.action,undo:typeof t.action=="function"?dN(t.action,t.storiesState):fN(t.action,t.storiesState)},r=[...e.changes.slice(0,e.currentChange+1),n];return{changes:r,currentChange:r.length-1};case"updateCurrent":return{...e,currentChange:Math.min(Math.max(e.currentChange+t.change,-1),e.changes.length-1)}}},dS=O.createContext({dispatch:()=>{},stories:[]});dS.displayName="UndoableStories";const Gi=()=>O.useContext(dS),hN=e=>{const{dispatch:t,stories:n}=dn(),[r,i]=O.useReducer(AY,{changes:[],currentChange:-1}),a=O.useCallback((x,S)=>(S&&i({type:"addChange",action:x,description:S,storiesState:n}),t(x)),[n,t]),{t:l}=qe();let c,p,v,m;return r.changes.length>0&&(r.currentChange>=0&&(v=()=>{t(r.changes[r.currentChange].undo),i({type:"updateCurrent",change:-1})},m=l("common.undoChange",{change:l(r.changes[r.currentChange].description)})),r.currentChange<r.changes.length-1&&(c=()=>{t(r.changes[r.currentChange+1].redo),i({type:"updateCurrent",change:1})},p=l("common.redoChange",{change:l(r.changes[r.currentChange+1].description)}))),b.jsx(dS.Provider,{value:{dispatch:a,redo:c,redoLabel:p,stories:n,undo:v,undoLabel:m},children:e.children})};var Tp={},m1={exports:{}},_2;function pd(){return _2||(_2=1,function(e,t){(function(n,r){e.exports=r()})(Pn,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),a=/MSIE \d/.test(n),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),p=a||l||c,v=p&&(a?document.documentMode||6:+(c||l)[1]),m=!c&&/WebKit\//.test(n),x=m&&/Qt\/\d+\.\d+/.test(n),S=!c&&/Chrome\//.test(n),C=/Opera\//.test(n),I=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),N=/PhantomJS/.test(n),L=I&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),M=/Android/.test(n),B=L||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),j=L||/Mac/.test(r),U=/\bCrOS\b/.test(n),X=/win/i.test(r),V=C&&n.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(C=!1,m=!0);var re=j&&(x||C&&(V==null||V<12.11)),fe=i||p&&v>=9;function ve(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var xe=function(o,s){var d=o.className,f=ve(s).exec(d);if(f){var g=d.slice(f.index+f[0].length);o.className=d.slice(0,f.index)+(g?f[1]+g:"")}};function ze(o){for(var s=o.childNodes.length;s>0;--s)o.removeChild(o.firstChild);return o}function J(o,s){return ze(o).appendChild(s)}function Q(o,s,d,f){var g=document.createElement(o);if(d&&(g.className=d),f&&(g.style.cssText=f),typeof s=="string")g.appendChild(document.createTextNode(s));else if(s)for(var w=0;w<s.length;++w)g.appendChild(s[w]);return g}function G(o,s,d,f){var g=Q(o,s,d,f);return g.setAttribute("role","presentation"),g}var Ce;document.createRange?Ce=function(o,s,d,f){var g=document.createRange();return g.setEnd(f||o,d),g.setStart(o,s),g}:Ce=function(o,s,d){var f=document.body.createTextRange();try{f.moveToElementText(o.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",s),f};function Te(o,s){if(s.nodeType==3&&(s=s.parentNode),o.contains)return o.contains(s);do if(s.nodeType==11&&(s=s.host),s==o)return!0;while(s=s.parentNode)}function ye(){var o;try{o=document.activeElement}catch{o=document.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function me(o,s){var d=o.className;ve(s).test(d)||(o.className+=(d?" ":"")+s)}function be(o,s){for(var d=o.split(" "),f=0;f<d.length;f++)d[f]&&!ve(d[f]).test(s)&&(s+=" "+d[f]);return s}var te=function(o){o.select()};L?te=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:p&&(te=function(o){try{o.select()}catch{}});function oe(o){var s=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,s)}}function we(o,s,d){s||(s={});for(var f in o)o.hasOwnProperty(f)&&(d!==!1||!s.hasOwnProperty(f))&&(s[f]=o[f]);return s}function ne(o,s,d,f,g){s==null&&(s=o.search(/[^\s\u00a0]/),s==-1&&(s=o.length));for(var w=f||0,E=g||0;;){var k=o.indexOf("	",w);if(k<0||k>=s)return E+(s-w);E+=k-w,E+=d-E%d,w=k+1}}var le=function(){this.id=null,this.f=null,this.time=0,this.handler=oe(this.onTimeout,this)};le.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},le.prototype.set=function(o,s){this.f=s;var d=+new Date+o;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=d)};function pe(o,s){for(var d=0;d<o.length;++d)if(o[d]==s)return d;return-1}var _e=50,Ne={toString:function(){return"CodeMirror.Pass"}},Ue={scroll:!1},nt={origin:"*mouse"},Ye={origin:"+move"};function wt(o,s,d){for(var f=0,g=0;;){var w=o.indexOf("	",f);w==-1&&(w=o.length);var E=w-f;if(w==o.length||g+E>=s)return f+Math.min(E,s-g);if(g+=w-f,g+=d-g%d,f=w+1,g>=s)return f}}var Dt=[""];function Ft(o){for(;Dt.length<=o;)Dt.push(it(Dt)+" ");return Dt[o]}function it(o){return o[o.length-1]}function yt(o,s){for(var d=[],f=0;f<o.length;f++)d[f]=s(o[f],f);return d}function Ot(o,s,d){for(var f=0,g=d(s);f<o.length&&d(o[f])<=g;)f++;o.splice(f,0,s)}function jt(){}function Bt(o,s){var d;return Object.create?d=Object.create(o):(jt.prototype=o,d=new jt),s&&we(s,d),d}var kn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function pt(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||kn.test(o))}function de(o,s){return s?s.source.indexOf("\\w")>-1&&pt(o)?!0:s.test(o):pt(o)}function Fe(o){for(var s in o)if(o.hasOwnProperty(s)&&o[s])return!1;return!0}var ke=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function dt(o){return o.charCodeAt(0)>=768&&ke.test(o)}function zn(o,s,d){for(;(d<0?s>0:s<o.length)&&dt(o.charAt(s));)s+=d;return s}function H(o,s,d){for(var f=s>d?-1:1;;){if(s==d)return s;var g=(s+d)/2,w=f<0?Math.ceil(g):Math.floor(g);if(w==s)return o(w)?s:d;o(w)?d=w:s=w+f}}function _(o,s,d,f){if(!o)return f(s,d,"ltr",0);for(var g=!1,w=0;w<o.length;++w){var E=o[w];(E.from<d&&E.to>s||s==d&&E.to==s)&&(f(Math.max(E.from,s),Math.min(E.to,d),E.level==1?"rtl":"ltr",w),g=!0)}g||f(s,d,"ltr")}var P=null;function K(o,s,d){var f;P=null;for(var g=0;g<o.length;++g){var w=o[g];if(w.from<s&&w.to>s)return g;w.to==s&&(w.from!=w.to&&d=="before"?f=g:P=g),w.from==s&&(w.from!=w.to&&d!="before"?f=g:P=g)}return f!=null?f:P}var se=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(R){return R<=247?o.charAt(R):1424<=R&&R<=1524?"R":1536<=R&&R<=1785?s.charAt(R-1536):1774<=R&&R<=2220?"r":8192<=R&&R<=8203?"w":R==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,w=/[LRr]/,E=/[Lb1n]/,k=/[1n]/;function A(R,q,Y){this.level=R,this.from=q,this.to=Y}return function(R,q){var Y=q=="ltr"?"L":"R";if(R.length==0||q=="ltr"&&!f.test(R))return!1;for(var ue=R.length,ae=[],Ee=0;Ee<ue;++Ee)ae.push(d(R.charCodeAt(Ee)));for(var Ae=0,De=Y;Ae<ue;++Ae){var We=ae[Ae];We=="m"?ae[Ae]=De:De=We}for(var Ge=0,Ke=Y;Ge<ue;++Ge){var Qe=ae[Ge];Qe=="1"&&Ke=="r"?ae[Ge]="n":w.test(Qe)&&(Ke=Qe,Qe=="r"&&(ae[Ge]="R"))}for(var ot=1,rt=ae[0];ot<ue-1;++ot){var Tt=ae[ot];Tt=="+"&&rt=="1"&&ae[ot+1]=="1"?ae[ot]="1":Tt==","&&rt==ae[ot+1]&&(rt=="1"||rt=="n")&&(ae[ot]=rt),rt=Tt}for(var Xt=0;Xt<ue;++Xt){var _n=ae[Xt];if(_n==",")ae[Xt]="N";else if(_n=="%"){var en=void 0;for(en=Xt+1;en<ue&&ae[en]=="%";++en);for(var lr=Xt&&ae[Xt-1]=="!"||en<ue&&ae[en]=="1"?"1":"N",ur=Xt;ur<en;++ur)ae[ur]=lr;Xt=en-1}}for(var wn=0,qn=Y;wn<ue;++wn){var Mn=ae[wn];qn=="L"&&Mn=="1"?ae[wn]="L":w.test(Mn)&&(qn=Mn)}for(var Zt=0;Zt<ue;++Zt)if(g.test(ae[Zt])){var rn=void 0;for(rn=Zt+1;rn<ue&&g.test(ae[rn]);++rn);for(var gn=(Zt?ae[Zt-1]:Y)=="L",cr=(rn<ue?ae[rn]:Y)=="L",hl=gn==cr?gn?"L":"R":Y,ga=Zt;ga<rn;++ga)ae[ga]=hl;Zt=rn-1}for(var nr=[],ro,Fn=0;Fn<ue;)if(E.test(ae[Fn])){var uh=Fn;for(++Fn;Fn<ue&&E.test(ae[Fn]);++Fn);nr.push(new A(0,uh,Fn))}else{var ko=Fn,us=nr.length,cs=q=="rtl"?1:0;for(++Fn;Fn<ue&&ae[Fn]!="L";++Fn);for(var fr=ko;fr<Fn;)if(k.test(ae[fr])){ko<fr&&(nr.splice(us,0,new A(1,ko,fr)),us+=cs);var pl=fr;for(++fr;fr<Fn&&k.test(ae[fr]);++fr);nr.splice(us,0,new A(2,pl,fr)),us+=cs,ko=fr}else++fr;ko<Fn&&nr.splice(us,0,new A(1,ko,Fn))}return q=="ltr"&&(nr[0].level==1&&(ro=R.match(/^\s+/))&&(nr[0].from=ro[0].length,nr.unshift(new A(0,0,ro[0].length))),it(nr).level==1&&(ro=R.match(/\s+$/))&&(it(nr).to-=ro[0].length,nr.push(new A(0,ue-ro[0].length,ue)))),q=="rtl"?nr.reverse():nr}}();function ge(o,s){var d=o.order;return d==null&&(d=o.order=se(o.text,s)),d}var Oe=[],Be=function(o,s,d){if(o.addEventListener)o.addEventListener(s,d,!1);else if(o.attachEvent)o.attachEvent("on"+s,d);else{var f=o._handlers||(o._handlers={});f[s]=(f[s]||Oe).concat(d)}};function Gt(o,s){return o._handlers&&o._handlers[s]||Oe}function Ct(o,s,d){if(o.removeEventListener)o.removeEventListener(s,d,!1);else if(o.detachEvent)o.detachEvent("on"+s,d);else{var f=o._handlers,g=f&&f[s];if(g){var w=pe(g,d);w>-1&&(f[s]=g.slice(0,w).concat(g.slice(w+1)))}}}function Ve(o,s){var d=Gt(o,s);if(d.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<d.length;++g)d[g].apply(null,f)}function gt(o,s,d){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),Ve(o,d||s.type,o,s),Hr(s)||s.codemirrorIgnore}function Fs(o){var s=o._handlers&&o._handlers.cursorActivity;if(s)for(var d=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),f=0;f<s.length;++f)pe(d,s[f])==-1&&d.push(s[f])}function Hn(o,s){return Gt(o,s).length>0}function wi(o){o.prototype.on=function(s,d){Be(this,s,d)},o.prototype.off=function(s,d){Ct(this,s,d)}}function Un(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function js(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Hr(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function za(o){Un(o),js(o)}function Wo(o){return o.target||o.srcElement}function ql(o){var s=o.which;return s==null&&(o.button&1?s=1:o.button&2?s=3:o.button&4&&(s=2)),j&&o.ctrlKey&&s==1&&(s=3),s}var Xl=function(){if(p&&v<9)return!1;var o=Q("div");return"draggable"in o||"dragDrop"in o}(),br;function gc(o){if(br==null){var s=Q("span","​");J(o,Q("span",[s,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(br=s.offsetWidth<=1&&s.offsetHeight>2&&!(p&&v<8))}var d=br?Q("span","​"):Q("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var Ha;function qi(o){if(Ha!=null)return Ha;var s=J(o,document.createTextNode("AخA")),d=Ce(s,0,1).getBoundingClientRect(),f=Ce(s,1,2).getBoundingClientRect();return ze(o),!d||d.left==d.right?!1:Ha=f.right-d.right<3}var Ua="\n\nb".split(/\n/).length!=3?function(o){for(var s=0,d=[],f=o.length;s<=f;){var g=o.indexOf("\n",s);g==-1&&(g=o.length);var w=o.slice(s,o.charAt(g-1)=="\r"?g-1:g),E=w.indexOf("\r");E!=-1?(d.push(w.slice(0,E)),s+=E+1):(d.push(w),s=g+1)}return d}:function(o){return o.split(/\r\n?|\n/)},vc=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var s;try{s=o.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=o?!1:s.compareEndPoints("StartToEnd",s)!=0},mc=function(){var o=Q("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Vl=null;function Ko(o){if(Vl!=null)return Vl;var s=J(o,Q("span","x")),d=s.getBoundingClientRect(),f=Ce(s,0,1).getBoundingClientRect();return Vl=Math.abs(d.left-f.left)>1}var ni={},Ur={};function yc(o,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),ni[o]=s}function yo(o,s){Ur[o]=s}function Wa(o){if(typeof o=="string"&&Ur.hasOwnProperty(o))o=Ur[o];else if(o&&typeof o.name=="string"&&Ur.hasOwnProperty(o.name)){var s=Ur[o.name];typeof s=="string"&&(s={name:s}),o=Bt(s,o),o.name=s.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Wa("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Wa("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function $s(o,s){s=Wa(s);var d=ni[s.name];if(!d)return $s(o,"text/plain");var f=d(o,s);if(xi.hasOwnProperty(s.name)){var g=xi[s.name];for(var w in g)g.hasOwnProperty(w)&&(f.hasOwnProperty(w)&&(f["_"+w]=f[w]),f[w]=g[w])}if(f.name=s.name,s.helperType&&(f.helperType=s.helperType),s.modeProps)for(var E in s.modeProps)f[E]=s.modeProps[E];return f}var xi={};function bi(o,s){var d=xi.hasOwnProperty(o)?xi[o]:xi[o]={};we(s,d)}function Wr(o,s){if(s===!0)return s;if(o.copyState)return o.copyState(s);var d={};for(var f in s){var g=s[f];g instanceof Array&&(g=g.concat([])),d[f]=g}return d}function Yl(o,s){for(var d;o.innerMode&&(d=o.innerMode(s),!(!d||d.mode==o));)s=d.state,o=d.mode;return d||{mode:o,state:s}}function Ql(o,s,d){return o.startState?o.startState(s,d):!0}var ln=function(o,s,d){this.pos=this.start=0,this.string=o,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};ln.prototype.eol=function(){return this.pos>=this.string.length},ln.prototype.sol=function(){return this.pos==this.lineStart},ln.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ln.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ln.prototype.eat=function(o){var s=this.string.charAt(this.pos),d;if(typeof o=="string"?d=s==o:d=s&&(o.test?o.test(s):o(s)),d)return++this.pos,s},ln.prototype.eatWhile=function(o){for(var s=this.pos;this.eat(o););return this.pos>s},ln.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},ln.prototype.skipToEnd=function(){this.pos=this.string.length},ln.prototype.skipTo=function(o){var s=this.string.indexOf(o,this.pos);if(s>-1)return this.pos=s,!0},ln.prototype.backUp=function(o){this.pos-=o},ln.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ne(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ne(this.string,this.lineStart,this.tabSize):0)},ln.prototype.indentation=function(){return ne(this.string,null,this.tabSize)-(this.lineStart?ne(this.string,this.lineStart,this.tabSize):0)},ln.prototype.match=function(o,s,d){if(typeof o=="string"){var f=function(E){return d?E.toLowerCase():E},g=this.string.substr(this.pos,o.length);if(f(g)==f(o))return s!==!1&&(this.pos+=o.length),!0}else{var w=this.string.slice(this.pos).match(o);return w&&w.index>0?null:(w&&s!==!1&&(this.pos+=w[0].length),w)}},ln.prototype.current=function(){return this.string.slice(this.start,this.pos)},ln.prototype.hideFirstChars=function(o,s){this.lineStart+=o;try{return s()}finally{this.lineStart-=o}},ln.prototype.lookAhead=function(o){var s=this.lineOracle;return s&&s.lookAhead(o)},ln.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function et(o,s){if(s-=o.first,s<0||s>=o.size)throw new Error("There is no line "+(s+o.first)+" in the document.");for(var d=o;!d.lines;)for(var f=0;;++f){var g=d.children[f],w=g.chunkSize();if(s<w){d=g;break}s-=w}return d.lines[s]}function Kr(o,s,d){var f=[],g=s.line;return o.iter(s.line,d.line+1,function(w){var E=w.text;g==d.line&&(E=E.slice(0,d.ch)),g==s.line&&(E=E.slice(s.ch)),f.push(E),++g}),f}function Zl(o,s,d){var f=[];return o.iter(s,d,function(g){f.push(g.text)}),f}function Pr(o,s){var d=s-o.height;if(d)for(var f=o;f;f=f.parent)f.height+=d}function Ut(o){if(o.parent==null)return null;for(var s=o.parent,d=pe(s.lines,o),f=s.parent;f;s=f,f=f.parent)for(var g=0;f.children[g]!=s;++g)d+=f.children[g].chunkSize();return d+s.first}function Ei(o,s){var d=o.first;e:do{for(var f=0;f<o.children.length;++f){var g=o.children[f],w=g.height;if(s<w){o=g;continue e}s-=w,d+=g.chunkSize()}return d}while(!o.lines);for(var E=0;E<o.lines.length;++E){var k=o.lines[E],A=k.height;if(s<A)break;s-=A}return d+E}function Go(o,s){return s>=o.first&&s<o.first+o.size}function Ds(o,s){return String(o.lineNumberFormatter(s+o.firstLineNumber))}function Me(o,s,d){if(d===void 0&&(d=null),!(this instanceof Me))return new Me(o,s,d);this.line=o,this.ch=s,this.sticky=d}function F(o,s){return o.line-s.line||o.ch-s.ch}function Z(o,s){return o.sticky==s.sticky&&F(o,s)==0}function Le(o){return Me(o.line,o.ch)}function je(o,s){return F(o,s)<0?s:o}function ht(o,s){return F(o,s)<0?o:s}function It(o,s){return Math.max(o.first,Math.min(s,o.first+o.size-1))}function Xe(o,s){if(s.line<o.first)return Me(o.first,0);var d=o.first+o.size-1;return s.line>d?Me(d,et(o,d).text.length):Xn(s,et(o,s.line).text.length)}function Xn(o,s){var d=o.ch;return d==null||d>s?Me(o.line,s):d<0?Me(o.line,0):o}function Ar(o,s){for(var d=[],f=0;f<s.length;f++)d[f]=Xe(o,s[f]);return d}var wo=function(o,s){this.state=o,this.lookAhead=s},Si=function(o,s,d,f){this.state=s,this.doc=o,this.line=d,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};Si.prototype.lookAhead=function(o){var s=this.doc.getLine(this.line+o);return s!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),s},Si.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},Si.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Si.fromSaved=function(o,s,d){return s instanceof wo?new Si(o,Wr(o.mode,s.state),d,s.lookAhead):new Si(o,Wr(o.mode,s),d)},Si.prototype.save=function(o){var s=o!==!1?Wr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new wo(s,this.maxLookAhead):s};function tg(o,s,d,f){var g=[o.state.modeGen],w={};yd(o,s.text,o.doc.mode,d,function(R,q){return g.push(R,q)},w,f);for(var E=d.state,k=function(R){d.baseTokens=g;var q=o.state.overlays[R],Y=1,ue=0;d.state=!0,yd(o,s.text,q.mode,d,function(ae,Ee){for(var Ae=Y;ue<ae;){var De=g[Y];De>ae&&g.splice(Y,1,ae,g[Y+1],De),Y+=2,ue=Math.min(ae,De)}if(Ee)if(q.opaque)g.splice(Ae,Y-Ae,ae,"overlay "+Ee),Y=Ae+2;else for(;Ae<Y;Ae+=2){var We=g[Ae+1];g[Ae+1]=(We?We+" ":"")+"overlay "+Ee}},w),d.state=E,d.baseTokens=null,d.baseTokenPos=1},A=0;A<o.state.overlays.length;++A)k(A);return{styles:g,classes:w.bgClass||w.textClass?w:null}}function md(o,s,d){if(!s.styles||s.styles[0]!=o.state.modeGen){var f=Bs(o,Ut(s)),g=s.text.length>o.options.maxHighlightLength&&Wr(o.doc.mode,f.state),w=tg(o,s,f);g&&(f.state=g),s.stateAfter=f.save(!g),s.styles=w.styles,w.classes?s.styleClasses=w.classes:s.styleClasses&&(s.styleClasses=null),d===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return s.styles}function Bs(o,s,d){var f=o.doc,g=o.display;if(!f.mode.startState)return new Si(f,!0,s);var w=rg(o,s,d),E=w>f.first&&et(f,w-1).stateAfter,k=E?Si.fromSaved(f,E,w):new Si(f,Ql(f.mode),w);return f.iter(w,s,function(A){Jl(o,A.text,k);var R=k.line;A.stateAfter=R==s-1||R%5==0||R>=g.viewFrom&&R<g.viewTo?k.save():null,k.nextLine()}),d&&(f.modeFrontier=k.line),k}function Jl(o,s,d,f){var g=o.doc.mode,w=new ln(s,o.options.tabSize,d);for(w.start=w.pos=f||0,s==""&&ng(g,d.state);!w.eol();)wc(g,w,d.state),w.start=w.pos}function ng(o,s){if(o.blankLine)return o.blankLine(s);if(o.innerMode){var d=Yl(o,s);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function wc(o,s,d,f){for(var g=0;g<10;g++){f&&(f[0]=Yl(o,d).mode);var w=o.token(s,d);if(s.pos>s.start)return w}throw new Error("Mode "+o.name+" failed to advance stream.")}var xc=function(o,s,d){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=s||null,this.state=d};function bc(o,s,d,f){var g=o.doc,w=g.mode,E;s=Xe(g,s);var k=et(g,s.line),A=Bs(o,s.line,d),R=new ln(k.text,o.options.tabSize,A),q;for(f&&(q=[]);(f||R.pos<s.ch)&&!R.eol();)R.start=R.pos,E=wc(w,R,A.state),f&&q.push(new xc(R,E,Wr(g.mode,A.state)));return f?q:new xc(R,E,A.state)}function Ka(o,s){if(o)for(;;){var d=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;o=o.slice(0,d.index)+o.slice(d.index+d[0].length);var f=d[1]?"bgClass":"textClass";s[f]==null?s[f]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(s[f])||(s[f]+=" "+d[2])}return o}function yd(o,s,d,f,g,w,E){var k=d.flattenSpans;k==null&&(k=o.options.flattenSpans);var A=0,R=null,q=new ln(s,o.options.tabSize,f),Y,ue=o.options.addModeClass&&[null];for(s==""&&Ka(ng(d,f.state),w);!q.eol();){if(q.pos>o.options.maxHighlightLength?(k=!1,E&&Jl(o,s,f,q.pos),q.pos=s.length,Y=null):Y=Ka(wc(d,q,f.state,ue),w),ue){var ae=ue[0].name;ae&&(Y="m-"+(Y?ae+" "+Y:ae))}if(!k||R!=Y){for(;A<q.start;)A=Math.min(q.start,A+5e3),g(A,R);R=Y}q.start=q.pos}for(;A<q.pos;){var Ee=Math.min(q.pos,A+5e3);g(Ee,R),A=Ee}}function rg(o,s,d){for(var f,g,w=o.doc,E=d?-1:s-(o.doc.mode.innerMode?1e3:100),k=s;k>E;--k){if(k<=w.first)return w.first;var A=et(w,k-1),R=A.stateAfter;if(R&&(!d||k+(R instanceof wo?R.lookAhead:0)<=w.modeFrontier))return k;var q=ne(A.text,null,o.options.tabSize);(g==null||f>q)&&(g=k-1,f=q)}return g}function L0(o,s){if(o.modeFrontier=Math.min(o.modeFrontier,s),!(o.highlightFrontier<s-10)){for(var d=o.first,f=s-1;f>d;f--){var g=et(o,f).stateAfter;if(g&&(!(g instanceof wo)||f+g.lookAhead<s)){d=f+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,d)}}var wd=!1,Xi=!1;function ig(){wd=!0}function og(){Xi=!0}function Ec(o,s,d){this.marker=o,this.from=s,this.to=d}function eu(o,s){if(o)for(var d=0;d<o.length;++d){var f=o[d];if(f.marker==s)return f}}function P0(o,s){for(var d,f=0;f<o.length;++f)o[f]!=s&&(d||(d=[])).push(o[f]);return d}function ag(o,s,d){var f=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));f&&f.has(o.markedSpans)?o.markedSpans.push(s):(o.markedSpans=o.markedSpans?o.markedSpans.concat([s]):[s],f&&f.add(o.markedSpans)),s.marker.attachLine(o)}function A0(o,s,d){var f;if(o)for(var g=0;g<o.length;++g){var w=o[g],E=w.marker,k=w.from==null||(E.inclusiveLeft?w.from<=s:w.from<s);if(k||w.from==s&&E.type=="bookmark"&&(!d||!w.marker.insertLeft)){var A=w.to==null||(E.inclusiveRight?w.to>=s:w.to>s);(f||(f=[])).push(new Ec(E,w.from,A?null:w.to))}}return f}function N0(o,s,d){var f;if(o)for(var g=0;g<o.length;++g){var w=o[g],E=w.marker,k=w.to==null||(E.inclusiveRight?w.to>=s:w.to>s);if(k||w.from==s&&E.type=="bookmark"&&(!d||w.marker.insertLeft)){var A=w.from==null||(E.inclusiveLeft?w.from<=s:w.from<s);(f||(f=[])).push(new Ec(E,A?null:w.from-s,w.to==null?null:w.to-s))}}return f}function xd(o,s){if(s.full)return null;var d=Go(o,s.from.line)&&et(o,s.from.line).markedSpans,f=Go(o,s.to.line)&&et(o,s.to.line).markedSpans;if(!d&&!f)return null;var g=s.from.ch,w=s.to.ch,E=F(s.from,s.to)==0,k=A0(d,g,E),A=N0(f,w,E),R=s.text.length==1,q=it(s.text).length+(R?g:0);if(k)for(var Y=0;Y<k.length;++Y){var ue=k[Y];if(ue.to==null){var ae=eu(A,ue.marker);ae?R&&(ue.to=ae.to==null?null:ae.to+q):ue.to=g}}if(A)for(var Ee=0;Ee<A.length;++Ee){var Ae=A[Ee];if(Ae.to!=null&&(Ae.to+=q),Ae.from==null){var De=eu(k,Ae.marker);De||(Ae.from=q,R&&(k||(k=[])).push(Ae))}else Ae.from+=q,R&&(k||(k=[])).push(Ae)}k&&(k=sg(k)),A&&A!=k&&(A=sg(A));var We=[k];if(!R){var Ge=s.text.length-2,Ke;if(Ge>0&&k)for(var Qe=0;Qe<k.length;++Qe)k[Qe].to==null&&(Ke||(Ke=[])).push(new Ec(k[Qe].marker,null,null));for(var ot=0;ot<Ge;++ot)We.push(Ke);We.push(A)}return We}function sg(o){for(var s=0;s<o.length;++s){var d=o[s];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&o.splice(s--,1)}return o.length?o:null}function bd(o,s,d){var f=null;if(o.iter(s.line,d.line+1,function(ae){if(ae.markedSpans)for(var Ee=0;Ee<ae.markedSpans.length;++Ee){var Ae=ae.markedSpans[Ee].marker;Ae.readOnly&&(!f||pe(f,Ae)==-1)&&(f||(f=[])).push(Ae)}}),!f)return null;for(var g=[{from:s,to:d}],w=0;w<f.length;++w)for(var E=f[w],k=E.find(0),A=0;A<g.length;++A){var R=g[A];if(!(F(R.to,k.from)<0||F(R.from,k.to)>0)){var q=[A,1],Y=F(R.from,k.from),ue=F(R.to,k.to);(Y<0||!E.inclusiveLeft&&!Y)&&q.push({from:R.from,to:k.from}),(ue>0||!E.inclusiveRight&&!ue)&&q.push({from:k.to,to:R.to}),g.splice.apply(g,q),A+=q.length-3}}return g}function lg(o){var s=o.markedSpans;if(s){for(var d=0;d<s.length;++d)s[d].marker.detachLine(o);o.markedSpans=null}}function ug(o,s){if(s){for(var d=0;d<s.length;++d)s[d].marker.attachLine(o);o.markedSpans=s}}function Sc(o){return o.inclusiveLeft?-1:0}function Cc(o){return o.inclusiveRight?1:0}function Ed(o,s){var d=o.lines.length-s.lines.length;if(d!=0)return d;var f=o.find(),g=s.find(),w=F(f.from,g.from)||Sc(o)-Sc(s);if(w)return-w;var E=F(f.to,g.to)||Cc(o)-Cc(s);return E||s.id-o.id}function un(o,s){var d=Xi&&o.markedSpans,f;if(d)for(var g=void 0,w=0;w<d.length;++w)g=d[w],g.marker.collapsed&&(s?g.from:g.to)==null&&(!f||Ed(f,g.marker)<0)&&(f=g.marker);return f}function nn(o){return un(o,!0)}function Tc(o){return un(o,!1)}function I0(o,s){var d=Xi&&o.markedSpans,f;if(d)for(var g=0;g<d.length;++g){var w=d[g];w.marker.collapsed&&(w.from==null||w.from<s)&&(w.to==null||w.to>s)&&(!f||Ed(f,w.marker)<0)&&(f=w.marker)}return f}function cg(o,s,d,f,g){var w=et(o,s),E=Xi&&w.markedSpans;if(E)for(var k=0;k<E.length;++k){var A=E[k];if(A.marker.collapsed){var R=A.marker.find(0),q=F(R.from,d)||Sc(A.marker)-Sc(g),Y=F(R.to,f)||Cc(A.marker)-Cc(g);if(!(q>=0&&Y<=0||q<=0&&Y>=0)&&(q<=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?F(R.to,d)>=0:F(R.to,d)>0)||q>=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?F(R.from,f)<=0:F(R.from,f)<0)))return!0}}}function Ci(o){for(var s;s=nn(o);)o=s.find(-1,!0).line;return o}function R0(o){for(var s;s=Tc(o);)o=s.find(1,!0).line;return o}function M0(o){for(var s,d;s=Tc(o);)o=s.find(1,!0).line,(d||(d=[])).push(o);return d}function kc(o,s){var d=et(o,s),f=Ci(d);return d==f?s:Ut(f)}function fg(o,s){if(s>o.lastLine())return s;var d=et(o,s),f;if(!cn(o,d))return s;for(;f=Tc(d);)d=f.find(1,!0).line;return Ut(d)+1}function cn(o,s){var d=Xi&&s.markedSpans;if(d){for(var f=void 0,g=0;g<d.length;++g)if(f=d[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&tu(o,s,f))return!0}}}function tu(o,s,d){if(d.to==null){var f=d.marker.find(1,!0);return tu(o,f.line,eu(f.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==s.text.length)return!0;for(var g=void 0,w=0;w<s.markedSpans.length;++w)if(g=s.markedSpans[w],g.marker.collapsed&&!g.marker.widgetNode&&g.from==d.to&&(g.to==null||g.to!=d.from)&&(g.marker.inclusiveLeft||d.marker.inclusiveRight)&&tu(o,s,g))return!0}function Er(o){o=Ci(o);for(var s=0,d=o.parent,f=0;f<d.lines.length;++f){var g=d.lines[f];if(g==o)break;s+=g.height}for(var w=d.parent;w;d=w,w=d.parent)for(var E=0;E<w.children.length;++E){var k=w.children[E];if(k==d)break;s+=k.height}return s}function nu(o){if(o.height==0)return 0;for(var s=o.text.length,d,f=o;d=nn(f);){var g=d.find(0,!0);f=g.from.line,s+=g.from.ch-g.to.ch}for(f=o;d=Tc(f);){var w=d.find(0,!0);s-=f.text.length-w.from.ch,f=w.to.line,s+=f.text.length-w.to.ch}return s}function ru(o){var s=o.display,d=o.doc;s.maxLine=et(d,d.first),s.maxLineLength=nu(s.maxLine),s.maxLineChanged=!0,d.iter(function(f){var g=nu(f);g>s.maxLineLength&&(s.maxLineLength=g,s.maxLine=f)})}var Vn=function(o,s,d){this.text=o,ug(this,s),this.height=d?d(this):1};Vn.prototype.lineNo=function(){return Ut(this)},wi(Vn);function dg(o,s,d,f){o.text=s,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),lg(o),ug(o,d);var g=f?f(o):1;g!=o.height&&Pr(o,g)}function hg(o){o.parent=null,lg(o)}var pg={},gg={};function Sd(o,s){if(!o||/^\s*$/.test(o))return null;var d=s.addModeClass?gg:pg;return d[o]||(d[o]=o.replace(/\S+/g,"cm-$&"))}function Cd(o,s){var d=G("span",null,null,m?"padding-right: .1px":null),f={pre:G("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};s.measure={};for(var g=0;g<=(s.rest?s.rest.length:0);g++){var w=g?s.rest[g-1]:s.line,E=void 0;f.pos=0,f.addToken=F0,qi(o.display.measure)&&(E=ge(w,o.doc.direction))&&(f.addToken=j0(f.addToken,E)),f.map=[];var k=s!=o.display.externalMeasured&&Ut(w);qo(w,f,md(o,w,k)),w.styleClasses&&(w.styleClasses.bgClass&&(f.bgClass=be(w.styleClasses.bgClass,f.bgClass||"")),w.styleClasses.textClass&&(f.textClass=be(w.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(gc(o.display.measure))),g==0?(s.measure.map=f.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(f.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(m){var A=f.content.lastChild;(/\bcm-tab\b/.test(A.className)||A.querySelector&&A.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return Ve(o,"renderLine",o,s.line,f.pre),f.pre.className&&(f.textClass=be(f.pre.className,f.textClass||"")),f}function Gr(o){var s=Q("span","•","cm-invalidchar");return s.title="\\u"+o.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function F0(o,s,d,f,g,w,E){if(s){var k=o.splitSpaces?ri(s,o.trailingSpace):s,A=o.cm.state.specialChars,R=!1,q;if(!A.test(s))o.col+=s.length,q=document.createTextNode(k),o.map.push(o.pos,o.pos+s.length,q),p&&v<9&&(R=!0),o.pos+=s.length;else{q=document.createDocumentFragment();for(var Y=0;;){A.lastIndex=Y;var ue=A.exec(s),ae=ue?ue.index-Y:s.length-Y;if(ae){var Ee=document.createTextNode(k.slice(Y,Y+ae));p&&v<9?q.appendChild(Q("span",[Ee])):q.appendChild(Ee),o.map.push(o.pos,o.pos+ae,Ee),o.col+=ae,o.pos+=ae}if(!ue)break;Y+=ae+1;var Ae=void 0;if(ue[0]=="	"){var De=o.cm.options.tabSize,We=De-o.col%De;Ae=q.appendChild(Q("span",Ft(We),"cm-tab")),Ae.setAttribute("role","presentation"),Ae.setAttribute("cm-text","	"),o.col+=We}else ue[0]=="\r"||ue[0]=="\n"?(Ae=q.appendChild(Q("span",ue[0]=="\r"?"␍":"␤","cm-invalidchar")),Ae.setAttribute("cm-text",ue[0]),o.col+=1):(Ae=o.cm.options.specialCharPlaceholder(ue[0]),Ae.setAttribute("cm-text",ue[0]),p&&v<9?q.appendChild(Q("span",[Ae])):q.appendChild(Ae),o.col+=1);o.map.push(o.pos,o.pos+1,Ae),o.pos++}}if(o.trailingSpace=k.charCodeAt(s.length-1)==32,d||f||g||R||w||E){var Ge=d||"";f&&(Ge+=f),g&&(Ge+=g);var Ke=Q("span",[q],Ge,w);if(E)for(var Qe in E)E.hasOwnProperty(Qe)&&Qe!="style"&&Qe!="class"&&Ke.setAttribute(Qe,E[Qe]);return o.content.appendChild(Ke)}o.content.appendChild(q)}}function ri(o,s){if(o.length>1&&!/  /.test(o))return o;for(var d=s,f="",g=0;g<o.length;g++){var w=o.charAt(g);w==" "&&d&&(g==o.length-1||o.charCodeAt(g+1)==32)&&(w=" "),f+=w,d=w==" "}return f}function j0(o,s){return function(d,f,g,w,E,k,A){g=g?g+" cm-force-border":"cm-force-border";for(var R=d.pos,q=R+f.length;;){for(var Y=void 0,ue=0;ue<s.length&&(Y=s[ue],!(Y.to>R&&Y.from<=R));ue++);if(Y.to>=q)return o(d,f,g,w,E,k,A);o(d,f.slice(0,Y.to-R),g,w,null,k,A),w=null,f=f.slice(Y.to-R),R=Y.to}}}function Td(o,s,d,f){var g=!f&&d.widgetNode;g&&o.map.push(o.pos,o.pos+s,g),!f&&o.cm.display.input.needsContentAttribute&&(g||(g=o.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",d.id)),g&&(o.cm.display.input.setUneditable(g),o.content.appendChild(g)),o.pos+=s,o.trailingSpace=!1}function qo(o,s,d){var f=o.markedSpans,g=o.text,w=0;if(!f){for(var E=1;E<d.length;E+=2)s.addToken(s,g.slice(w,w=d[E]),Sd(d[E+1],s.cm.options));return}for(var k=g.length,A=0,R=1,q="",Y,ue,ae=0,Ee,Ae,De,We,Ge;;){if(ae==A){Ee=Ae=De=ue="",Ge=null,We=null,ae=1/0;for(var Ke=[],Qe=void 0,ot=0;ot<f.length;++ot){var rt=f[ot],Tt=rt.marker;if(Tt.type=="bookmark"&&rt.from==A&&Tt.widgetNode)Ke.push(Tt);else if(rt.from<=A&&(rt.to==null||rt.to>A||Tt.collapsed&&rt.to==A&&rt.from==A)){if(rt.to!=null&&rt.to!=A&&ae>rt.to&&(ae=rt.to,Ae=""),Tt.className&&(Ee+=" "+Tt.className),Tt.css&&(ue=(ue?ue+";":"")+Tt.css),Tt.startStyle&&rt.from==A&&(De+=" "+Tt.startStyle),Tt.endStyle&&rt.to==ae&&(Qe||(Qe=[])).push(Tt.endStyle,rt.to),Tt.title&&((Ge||(Ge={})).title=Tt.title),Tt.attributes)for(var Xt in Tt.attributes)(Ge||(Ge={}))[Xt]=Tt.attributes[Xt];Tt.collapsed&&(!We||Ed(We.marker,Tt)<0)&&(We=rt)}else rt.from>A&&ae>rt.from&&(ae=rt.from)}if(Qe)for(var _n=0;_n<Qe.length;_n+=2)Qe[_n+1]==ae&&(Ae+=" "+Qe[_n]);if(!We||We.from==A)for(var en=0;en<Ke.length;++en)Td(s,0,Ke[en]);if(We&&(We.from||0)==A){if(Td(s,(We.to==null?k+1:We.to)-A,We.marker,We.from==null),We.to==null)return;We.to==A&&(We=!1)}}if(A>=k)break;for(var lr=Math.min(k,ae);;){if(q){var ur=A+q.length;if(!We){var wn=ur>lr?q.slice(0,lr-A):q;s.addToken(s,wn,Y?Y+Ee:Ee,De,A+wn.length==ae?Ae:"",ue,Ge)}if(ur>=lr){q=q.slice(lr-A),A=lr;break}A=ur,De=""}q=g.slice(w,w=d[R++]),Y=Sd(d[R++],s.cm.options)}}}function iu(o,s,d){this.line=s,this.rest=M0(s),this.size=this.rest?Ut(it(this.rest))-d+1:1,this.node=this.text=null,this.hidden=cn(o,s)}function zs(o,s,d){for(var f=[],g,w=s;w<d;w=g){var E=new iu(o.doc,et(o.doc,w),w);g=w+E.size,f.push(E)}return f}var Qt=null;function Xo(o){Qt?Qt.ops.push(o):o.ownsGroup=Qt={ops:[o],delayedCallbacks:[]}}function kd(o){var s=o.delayedCallbacks,d=0;do{for(;d<s.length;d++)s[d].call(null);for(var f=0;f<o.ops.length;f++){var g=o.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(d<s.length)}function $0(o,s){var d=o.ownsGroup;if(d)try{kd(d)}finally{Qt=null,s(d)}}var Ga=null;function In(o,s){var d=Gt(o,s);if(d.length){var f=Array.prototype.slice.call(arguments,2),g;Qt?g=Qt.delayedCallbacks:Ga?g=Ga:(g=Ga=[],setTimeout(D0,0));for(var w=function(k){g.push(function(){return d[k].apply(null,f)})},E=0;E<d.length;++E)w(E)}}function D0(){var o=Ga;Ga=null;for(var s=0;s<o.length;++s)o[s]()}function vg(o,s,d,f){for(var g=0;g<s.changes.length;g++){var w=s.changes[g];w=="text"?B0(o,s):w=="gutter"?_d(o,s,d,f):w=="class"?Oc(o,s):w=="widget"&&Od(o,s,f)}s.changes=null}function Hs(o){return o.node==o.text&&(o.node=Q("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),p&&v<8&&(o.node.style.zIndex=2)),o.node}function _c(o,s){var d=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),s.background)d?s.background.className=d:(s.background.parentNode.removeChild(s.background),s.background=null);else if(d){var f=Hs(s);s.background=f.insertBefore(Q("div",null,d),f.firstChild),o.display.input.setUneditable(s.background)}}function qa(o,s){var d=o.display.externalMeasured;return d&&d.line==s.line?(o.display.externalMeasured=null,s.measure=d.measure,d.built):Cd(o,s)}function B0(o,s){var d=s.text.className,f=qa(o,s);s.text==s.node&&(s.node=f.pre),s.text.parentNode.replaceChild(f.pre,s.text),s.text=f.pre,f.bgClass!=s.bgClass||f.textClass!=s.textClass?(s.bgClass=f.bgClass,s.textClass=f.textClass,Oc(o,s)):d&&(s.text.className=d)}function Oc(o,s){_c(o,s),s.line.wrapClass?Hs(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var d=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=d||""}function _d(o,s,d,f){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var g=Hs(s);s.gutterBackground=Q("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),o.display.input.setUneditable(s.gutterBackground),g.insertBefore(s.gutterBackground,s.text)}var w=s.line.gutterMarkers;if(o.options.lineNumbers||w){var E=Hs(s),k=s.gutter=Q("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),o.display.input.setUneditable(k),E.insertBefore(k,s.text),s.line.gutterClass&&(k.className+=" "+s.line.gutterClass),o.options.lineNumbers&&(!w||!w["CodeMirror-linenumbers"])&&(s.lineNumber=k.appendChild(Q("div",Ds(o.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),w)for(var A=0;A<o.display.gutterSpecs.length;++A){var R=o.display.gutterSpecs[A].className,q=w.hasOwnProperty(R)&&w[R];q&&k.appendChild(Q("div",[q],"CodeMirror-gutter-elt","left: "+f.gutterLeft[R]+"px; width: "+f.gutterWidth[R]+"px"))}}}function Od(o,s,d){s.alignable&&(s.alignable=null);for(var f=ve("CodeMirror-linewidget"),g=s.node.firstChild,w=void 0;g;g=w)w=g.nextSibling,f.test(g.className)&&s.node.removeChild(g);Pd(o,s,d)}function Ld(o,s,d,f){var g=qa(o,s);return s.text=s.node=g.pre,g.bgClass&&(s.bgClass=g.bgClass),g.textClass&&(s.textClass=g.textClass),Oc(o,s),_d(o,s,d,f),Pd(o,s,f),s.node}function Pd(o,s,d){if(mg(o,s.line,s,d,!0),s.rest)for(var f=0;f<s.rest.length;f++)mg(o,s.rest[f],s,d,!1)}function mg(o,s,d,f,g){if(s.widgets)for(var w=Hs(d),E=0,k=s.widgets;E<k.length;++E){var A=k[E],R=Q("div",[A.node],"CodeMirror-linewidget"+(A.className?" "+A.className:""));A.handleMouseEvents||R.setAttribute("cm-ignore-events","true"),Ad(A,R,d,f),o.display.input.setUneditable(R),g&&A.above?w.insertBefore(R,d.gutter||d.text):w.appendChild(R),In(A,"redraw")}}function Ad(o,s,d,f){if(o.noHScroll){(d.alignable||(d.alignable=[])).push(s);var g=f.wrapperWidth;s.style.left=f.fixedPos+"px",o.coverGutter||(g-=f.gutterTotalWidth,s.style.paddingLeft=f.gutterTotalWidth+"px"),s.style.width=g+"px"}o.coverGutter&&(s.style.zIndex=5,s.style.position="relative",o.noHScroll||(s.style.marginLeft=-f.gutterTotalWidth+"px"))}function Xa(o){if(o.height!=null)return o.height;var s=o.doc.cm;if(!s)return 0;if(!Te(document.body,o.node)){var d="position: relative;";o.coverGutter&&(d+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),o.noHScroll&&(d+="width: "+s.display.wrapper.clientWidth+"px;"),J(s.display.measure,Q("div",[o.node],null,d))}return o.height=o.node.parentNode.offsetHeight}function xo(o,s){for(var d=Wo(s);d!=o.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==o.sizer&&d!=o.mover)return!0}function ou(o){return o.lineSpace.offsetTop}function Sr(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Lc(o){if(o.cachedPaddingH)return o.cachedPaddingH;var s=J(o.measure,Q("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,f={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(o.cachedPaddingH=f),f}function Nr(o){return _e-o.display.nativeBarWidth}function Vo(o){return o.display.scroller.clientWidth-Nr(o)-o.display.barWidth}function Pc(o){return o.display.scroller.clientHeight-Nr(o)-o.display.barHeight}function z0(o,s,d){var f=o.options.lineWrapping,g=f&&Vo(o);if(!s.measure.heights||f&&s.measure.width!=g){var w=s.measure.heights=[];if(f){s.measure.width=g;for(var E=s.text.firstChild.getClientRects(),k=0;k<E.length-1;k++){var A=E[k],R=E[k+1];Math.abs(A.bottom-R.bottom)>2&&w.push((A.bottom+R.top)/2-d.top)}}w.push(d.bottom-d.top)}}function yg(o,s,d){if(o.line==s)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var f=0;f<o.rest.length;f++)if(o.rest[f]==s)return{map:o.measure.maps[f],cache:o.measure.caches[f]};for(var g=0;g<o.rest.length;g++)if(Ut(o.rest[g])>d)return{map:o.measure.maps[g],cache:o.measure.caches[g],before:!0}}}function H0(o,s){s=Ci(s);var d=Ut(s),f=o.display.externalMeasured=new iu(o.doc,s,d);f.lineN=d;var g=f.built=Cd(o,f);return f.text=g.pre,J(o.display.lineMeasure,g.pre),f}function wg(o,s,d,f){return Vi(o,Ti(o,s),d,f)}function Nd(o,s){if(s>=o.display.viewFrom&&s<o.display.viewTo)return o.display.view[Qi(o,s)];var d=o.display.externalMeasured;if(d&&s>=d.lineN&&s<d.lineN+d.size)return d}function Ti(o,s){var d=Ut(s),f=Nd(o,d);f&&!f.text?f=null:f&&f.changes&&(vg(o,f,d,Ir(o)),o.curOp.forceUpdate=!0),f||(f=H0(o,s));var g=yg(f,s,d);return{line:s,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Vi(o,s,d,f,g){s.before&&(d=-1);var w=d+(f||""),E;return s.cache.hasOwnProperty(w)?E=s.cache[w]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(z0(o,s.view,s.rect),s.hasHeights=!0),E=Yo(o,s,d,f),E.bogus||(s.cache[w]=E)),{left:E.left,right:E.right,top:g?E.rtop:E.top,bottom:g?E.rbottom:E.bottom}}var xg={left:0,right:0,top:0,bottom:0};function Ac(o,s,d){for(var f,g,w,E,k,A,R=0;R<o.length;R+=3)if(k=o[R],A=o[R+1],s<k?(g=0,w=1,E="left"):s<A?(g=s-k,w=g+1):(R==o.length-3||s==A&&o[R+3]>s)&&(w=A-k,g=w-1,s>=A&&(E="right")),g!=null){if(f=o[R+2],k==A&&d==(f.insertLeft?"left":"right")&&(E=d),d=="left"&&g==0)for(;R&&o[R-2]==o[R-3]&&o[R-1].insertLeft;)f=o[(R-=3)+2],E="left";if(d=="right"&&g==A-k)for(;R<o.length-3&&o[R+3]==o[R+4]&&!o[R+5].insertLeft;)f=o[(R+=3)+2],E="right";break}return{node:f,start:g,end:w,collapse:E,coverStart:k,coverEnd:A}}function bg(o,s){var d=xg;if(s=="left")for(var f=0;f<o.length&&(d=o[f]).left==d.right;f++);else for(var g=o.length-1;g>=0&&(d=o[g]).left==d.right;g--);return d}function Yo(o,s,d,f){var g=Ac(s.map,d,f),w=g.node,E=g.start,k=g.end,A=g.collapse,R;if(w.nodeType==3){for(var q=0;q<4;q++){for(;E&&dt(s.line.text.charAt(g.coverStart+E));)--E;for(;g.coverStart+k<g.coverEnd&&dt(s.line.text.charAt(g.coverStart+k));)++k;if(p&&v<9&&E==0&&k==g.coverEnd-g.coverStart?R=w.parentNode.getBoundingClientRect():R=bg(Ce(w,E,k).getClientRects(),f),R.left||R.right||E==0)break;k=E,E=E-1,A="right"}p&&v<11&&(R=Nc(o.display.measure,R))}else{E>0&&(A=f="right");var Y;o.options.lineWrapping&&(Y=w.getClientRects()).length>1?R=Y[f=="right"?Y.length-1:0]:R=w.getBoundingClientRect()}if(p&&v<9&&!E&&(!R||!R.left&&!R.right)){var ue=w.parentNode.getClientRects()[0];ue?R={left:ue.left,right:ue.left+Us(o.display),top:ue.top,bottom:ue.bottom}:R=xg}for(var ae=R.top-s.rect.top,Ee=R.bottom-s.rect.top,Ae=(ae+Ee)/2,De=s.view.measure.heights,We=0;We<De.length-1&&!(Ae<De[We]);We++);var Ge=We?De[We-1]:0,Ke=De[We],Qe={left:(A=="right"?R.right:R.left)-s.rect.left,right:(A=="left"?R.left:R.right)-s.rect.left,top:Ge,bottom:Ke};return!R.left&&!R.right&&(Qe.bogus=!0),o.options.singleCursorHeightPerLine||(Qe.rtop=ae,Qe.rbottom=Ee),Qe}function Nc(o,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ko(o))return s;var d=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*d,right:s.right*d,top:s.top*f,bottom:s.bottom*f}}function Eg(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var s=0;s<o.rest.length;s++)o.measure.caches[s]={}}function Sg(o){o.display.externalMeasure=null,ze(o.display.lineMeasure);for(var s=0;s<o.display.view.length;s++)Eg(o.display.view[s])}function au(o){Sg(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Va(){return S&&M?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ii(){return S&&M?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ic(o){var s=Ci(o),d=s.widgets,f=0;if(d)for(var g=0;g<d.length;++g)d[g].above&&(f+=Xa(d[g]));return f}function Rc(o,s,d,f,g){if(!g){var w=Ic(s);d.top+=w,d.bottom+=w}if(f=="line")return d;f||(f="local");var E=Er(s);if(f=="local"?E+=ou(o.display):E-=o.display.viewOffset,f=="page"||f=="window"){var k=o.display.lineSpace.getBoundingClientRect();E+=k.top+(f=="window"?0:ii());var A=k.left+(f=="window"?0:Va());d.left+=A,d.right+=A}return d.top+=E,d.bottom+=E,d}function Cg(o,s,d){if(d=="div")return s;var f=s.left,g=s.top;if(d=="page")f-=Va(),g-=ii();else if(d=="local"||!d){var w=o.display.sizer.getBoundingClientRect();f+=w.left,g+=w.top}var E=o.display.lineSpace.getBoundingClientRect();return{left:f-E.left,top:g-E.top}}function Mc(o,s,d,f,g){return f||(f=et(o.doc,s.line)),Rc(o,f,wg(o,f,s.ch,g),d)}function ki(o,s,d,f,g,w){f=f||et(o.doc,s.line),g||(g=Ti(o,f));function E(Ee,Ae){var De=Vi(o,g,Ee,Ae?"right":"left",w);return Ae?De.left=De.right:De.right=De.left,Rc(o,f,De,d)}var k=ge(f,o.doc.direction),A=s.ch,R=s.sticky;if(A>=f.text.length?(A=f.text.length,R="before"):A<=0&&(A=0,R="after"),!k)return E(R=="before"?A-1:A,R=="before");function q(Ee,Ae,De){var We=k[Ae],Ge=We.level==1;return E(De?Ee-1:Ee,Ge!=De)}var Y=K(k,A,R),ue=P,ae=q(A,Y,R=="before");return ue!=null&&(ae.other=q(A,ue,R!="before")),ae}function Tg(o,s){var d=0;s=Xe(o.doc,s),o.options.lineWrapping||(d=Us(o.display)*s.ch);var f=et(o.doc,s.line),g=Er(f)+ou(o.display);return{left:d,right:d,top:g,bottom:g+f.height}}function Qo(o,s,d,f,g){var w=Me(o,s,d);return w.xRel=g,f&&(w.outside=f),w}function ce(o,s,d){var f=o.doc;if(d+=o.display.viewOffset,d<0)return Qo(f.first,0,null,-1,-1);var g=Ei(f,d),w=f.first+f.size-1;if(g>w)return Qo(f.first+f.size-1,et(f,w).text.length,null,1,1);s<0&&(s=0);for(var E=et(f,g);;){var k=xt(o,E,g,s,d),A=I0(E,k.ch+(k.xRel>0||k.outside>0?1:0));if(!A)return k;var R=A.find(1);if(R.line==g)return R;E=et(f,g=R.line)}}function Pe(o,s,d,f){f-=Ic(s);var g=s.text.length,w=H(function(E){return Vi(o,d,E-1).bottom<=f},g,0);return g=H(function(E){return Vi(o,d,E).top>f},w,g),{begin:w,end:g}}function Se(o,s,d,f){d||(d=Ti(o,s));var g=Rc(o,s,Vi(o,d,f),"line").top;return Pe(o,s,d,g)}function Je(o,s,d,f){return o.bottom<=d?!1:o.top>d?!0:(f?o.left:o.right)>s}function xt(o,s,d,f,g){g-=Er(s);var w=Ti(o,s),E=Ic(s),k=0,A=s.text.length,R=!0,q=ge(s,o.doc.direction);if(q){var Y=(o.options.lineWrapping?Rn:qt)(o,s,d,w,q,f,g);R=Y.level!=1,k=R?Y.from:Y.to-1,A=R?Y.to:Y.from-1}var ue=null,ae=null,Ee=H(function(ot){var rt=Vi(o,w,ot);return rt.top+=E,rt.bottom+=E,Je(rt,f,g,!1)?(rt.top<=g&&rt.left<=f&&(ue=ot,ae=rt),!0):!1},k,A),Ae,De,We=!1;if(ae){var Ge=f-ae.left<ae.right-f,Ke=Ge==R;Ee=ue+(Ke?0:1),De=Ke?"after":"before",Ae=Ge?ae.left:ae.right}else{!R&&(Ee==A||Ee==k)&&Ee++,De=Ee==0?"after":Ee==s.text.length?"before":Vi(o,w,Ee-(R?1:0)).bottom+E<=g==R?"after":"before";var Qe=ki(o,Me(d,Ee,De),"line",s,w);Ae=Qe.left,We=g<Qe.top?-1:g>=Qe.bottom?1:0}return Ee=zn(s.text,Ee,1),Qo(d,Ee,De,We,f-Ae)}function qt(o,s,d,f,g,w,E){var k=H(function(Y){var ue=g[Y],ae=ue.level!=1;return Je(ki(o,Me(d,ae?ue.to:ue.from,ae?"before":"after"),"line",s,f),w,E,!0)},0,g.length-1),A=g[k];if(k>0){var R=A.level!=1,q=ki(o,Me(d,R?A.from:A.to,R?"after":"before"),"line",s,f);Je(q,w,E,!0)&&q.top>E&&(A=g[k-1])}return A}function Rn(o,s,d,f,g,w,E){var k=Pe(o,s,f,E),A=k.begin,R=k.end;/\s/.test(s.text.charAt(R-1))&&R--;for(var q=null,Y=null,ue=0;ue<g.length;ue++){var ae=g[ue];if(!(ae.from>=R||ae.to<=A)){var Ee=ae.level!=1,Ae=Vi(o,f,Ee?Math.min(R,ae.to)-1:Math.max(A,ae.from)).right,De=Ae<w?w-Ae+1e9:Ae-w;(!q||Y>De)&&(q=ae,Y=De)}}return q||(q=g[g.length-1]),q.from<A&&(q={from:A,to:q.to,level:q.level}),q.to>R&&(q={from:q.from,to:R,level:q.level}),q}var zt;function Zo(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(zt==null){zt=Q("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)zt.appendChild(document.createTextNode("x")),zt.appendChild(Q("br"));zt.appendChild(document.createTextNode("x"))}J(o.measure,zt);var d=zt.offsetHeight/50;return d>3&&(o.cachedTextHeight=d),ze(o.measure),d||1}function Us(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var s=Q("span","xxxxxxxxxx"),d=Q("pre",[s],"CodeMirror-line-like");J(o.measure,d);var f=s.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(o.cachedCharWidth=g),g||10}function Ir(o){for(var s=o.display,d={},f={},g=s.gutters.clientLeft,w=s.gutters.firstChild,E=0;w;w=w.nextSibling,++E){var k=o.display.gutterSpecs[E].className;d[k]=w.offsetLeft+w.clientLeft+g,f[k]=w.clientWidth}return{fixedPos:Ws(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:d,gutterWidth:f,wrapperWidth:s.wrapper.clientWidth}}function Ws(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function kg(o){var s=Zo(o.display),d=o.options.lineWrapping,f=d&&Math.max(5,o.display.scroller.clientWidth/Us(o.display)-3);return function(g){if(cn(o.doc,g))return 0;var w=0;if(g.widgets)for(var E=0;E<g.widgets.length;E++)g.widgets[E].height&&(w+=g.widgets[E].height);return d?w+(Math.ceil(g.text.length/f)||1)*s:w+s}}function Jo(o){var s=o.doc,d=kg(o);s.iter(function(f){var g=d(f);g!=f.height&&Pr(f,g)})}function Yi(o,s,d,f){var g=o.display;if(!d&&Wo(s).getAttribute("cm-not-content")=="true")return null;var w,E,k=g.lineSpace.getBoundingClientRect();try{w=s.clientX-k.left,E=s.clientY-k.top}catch{return null}var A=ce(o,w,E),R;if(f&&A.xRel>0&&(R=et(o.doc,A.line).text).length==A.ch){var q=ne(R,R.length,o.options.tabSize)-R.length;A=Me(A.line,Math.max(0,Math.round((w-Lc(o.display).left)/Us(o.display))-q))}return A}function Qi(o,s){if(s>=o.display.viewTo||(s-=o.display.viewFrom,s<0))return null;for(var d=o.display.view,f=0;f<d.length;f++)if(s-=d[f].size,s<0)return f}function bt(o,s,d,f){s==null&&(s=o.doc.first),d==null&&(d=o.doc.first+o.doc.size),f||(f=0);var g=o.display;if(f&&d<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>s)&&(g.updateLineNumbers=s),o.curOp.viewChanged=!0,s>=g.viewTo)Xi&&kc(o.doc,s)<g.viewTo&&bo(o);else if(d<=g.viewFrom)Xi&&fg(o.doc,d+f)>g.viewFrom?bo(o):(g.viewFrom+=f,g.viewTo+=f);else if(s<=g.viewFrom&&d>=g.viewTo)bo(o);else if(s<=g.viewFrom){var w=Ya(o,d,d+f,1);w?(g.view=g.view.slice(w.index),g.viewFrom=w.lineN,g.viewTo+=f):bo(o)}else if(d>=g.viewTo){var E=Ya(o,s,s,-1);E?(g.view=g.view.slice(0,E.index),g.viewTo=E.lineN):bo(o)}else{var k=Ya(o,s,s,-1),A=Ya(o,d,d+f,1);k&&A?(g.view=g.view.slice(0,k.index).concat(zs(o,k.lineN,A.lineN)).concat(g.view.slice(A.index)),g.viewTo+=f):bo(o)}var R=g.externalMeasured;R&&(d<R.lineN?R.lineN+=f:s<R.lineN+R.size&&(g.externalMeasured=null))}function ea(o,s,d){o.curOp.viewChanged=!0;var f=o.display,g=o.display.externalMeasured;if(g&&s>=g.lineN&&s<g.lineN+g.size&&(f.externalMeasured=null),!(s<f.viewFrom||s>=f.viewTo)){var w=f.view[Qi(o,s)];if(w.node!=null){var E=w.changes||(w.changes=[]);pe(E,d)==-1&&E.push(d)}}}function bo(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function Ya(o,s,d,f){var g=Qi(o,s),w,E=o.display.view;if(!Xi||d==o.doc.first+o.doc.size)return{index:g,lineN:d};for(var k=o.display.viewFrom,A=0;A<g;A++)k+=E[A].size;if(k!=s){if(f>0){if(g==E.length-1)return null;w=k+E[g].size-s,g++}else w=k-s;s+=w,d+=w}for(;kc(o.doc,d)!=d;){if(g==(f<0?0:E.length-1))return null;d+=f*E[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:d}}function U0(o,s,d){var f=o.display,g=f.view;g.length==0||s>=f.viewTo||d<=f.viewFrom?(f.view=zs(o,s,d),f.viewFrom=s):(f.viewFrom>s?f.view=zs(o,s,f.viewFrom).concat(f.view):f.viewFrom<s&&(f.view=f.view.slice(Qi(o,s))),f.viewFrom=s,f.viewTo<d?f.view=f.view.concat(zs(o,f.viewTo,d)):f.viewTo>d&&(f.view=f.view.slice(0,Qi(o,d)))),f.viewTo=d}function _g(o){for(var s=o.display.view,d=0,f=0;f<s.length;f++){var g=s[f];!g.hidden&&(!g.node||g.changes)&&++d}return d}function su(o){o.display.input.showSelection(o.display.input.prepareSelection())}function lu(o,s){s===void 0&&(s=!0);var d=o.doc,f={},g=f.cursors=document.createDocumentFragment(),w=f.selection=document.createDocumentFragment(),E=o.options.$customCursor;E&&(s=!0);for(var k=0;k<d.sel.ranges.length;k++)if(!(!s&&k==d.sel.primIndex)){var A=d.sel.ranges[k];if(!(A.from().line>=o.display.viewTo||A.to().line<o.display.viewFrom)){var R=A.empty();if(E){var q=E(o,A);q&&Zi(o,q,g)}else(R||o.options.showCursorWhenSelecting)&&Zi(o,A.head,g);R||Og(o,A,w)}}return f}function Zi(o,s,d){var f=ki(o,s,"div",null,null,!o.options.singleCursorHeightPerLine),g=d.appendChild(Q("div"," ","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var w=Mc(o,s,"div",null,null),E=w.right-w.left;g.style.width=(E>0?E:o.defaultCharWidth())+"px"}if(f.other){var k=d.appendChild(Q("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=f.other.left+"px",k.style.top=f.other.top+"px",k.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Qa(o,s){return o.top-s.top||o.left-s.left}function Og(o,s,d){var f=o.display,g=o.doc,w=document.createDocumentFragment(),E=Lc(o.display),k=E.left,A=Math.max(f.sizerWidth,Vo(o)-f.sizer.offsetLeft)-E.right,R=g.direction=="ltr";function q(Ke,Qe,ot,rt){Qe<0&&(Qe=0),Qe=Math.round(Qe),rt=Math.round(rt),w.appendChild(Q("div",null,"CodeMirror-selected","position: absolute; left: "+Ke+"px;\n                             top: "+Qe+"px; width: "+(ot==null?A-Ke:ot)+"px;\n                             height: "+(rt-Qe)+"px"))}function Y(Ke,Qe,ot){var rt=et(g,Ke),Tt=rt.text.length,Xt,_n;function en(wn,qn){return Mc(o,Me(Ke,wn),"div",rt,qn)}function lr(wn,qn,Mn){var Zt=Se(o,rt,null,wn),rn=qn=="ltr"==(Mn=="after")?"left":"right",gn=Mn=="after"?Zt.begin:Zt.end-(/\s/.test(rt.text.charAt(Zt.end-1))?2:1);return en(gn,rn)[rn]}var ur=ge(rt,g.direction);return _(ur,Qe||0,ot==null?Tt:ot,function(wn,qn,Mn,Zt){var rn=Mn=="ltr",gn=en(wn,rn?"left":"right"),cr=en(qn-1,rn?"right":"left"),hl=Qe==null&&wn==0,ga=ot==null&&qn==Tt,nr=Zt==0,ro=!ur||Zt==ur.length-1;if(cr.top-gn.top<=3){var Fn=(R?hl:ga)&&nr,uh=(R?ga:hl)&&ro,ko=Fn?k:(rn?gn:cr).left,us=uh?A:(rn?cr:gn).right;q(ko,gn.top,us-ko,gn.bottom)}else{var cs,fr,pl,ff;rn?(cs=R&&hl&&nr?k:gn.left,fr=R?A:lr(wn,Mn,"before"),pl=R?k:lr(qn,Mn,"after"),ff=R&&ga&&ro?A:cr.right):(cs=R?lr(wn,Mn,"before"):k,fr=!R&&hl&&nr?A:gn.right,pl=!R&&ga&&ro?k:cr.left,ff=R?lr(qn,Mn,"after"):A),q(cs,gn.top,fr-cs,gn.bottom),gn.bottom<cr.top&&q(k,gn.bottom,null,cr.top),q(pl,cr.top,ff-pl,cr.bottom)}(!Xt||Qa(gn,Xt)<0)&&(Xt=gn),Qa(cr,Xt)<0&&(Xt=cr),(!_n||Qa(gn,_n)<0)&&(_n=gn),Qa(cr,_n)<0&&(_n=cr)}),{start:Xt,end:_n}}var ue=s.from(),ae=s.to();if(ue.line==ae.line)Y(ue.line,ue.ch,ae.ch);else{var Ee=et(g,ue.line),Ae=et(g,ae.line),De=Ci(Ee)==Ci(Ae),We=Y(ue.line,ue.ch,De?Ee.text.length+1:null).end,Ge=Y(ae.line,De?0:null,ae.ch).start;De&&(We.top<Ge.top-2?(q(We.right,We.top,null,We.bottom),q(k,Ge.top,Ge.left,Ge.bottom)):q(We.right,We.top,Ge.left-We.right,We.bottom)),We.bottom<Ge.top&&q(k,We.bottom,null,Ge.top)}d.appendChild(w)}function Ks(o){if(o.state.focused){var s=o.display;clearInterval(s.blinker);var d=!0;s.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?s.blinker=setInterval(function(){o.hasFocus()||Za(o),s.cursorDiv.style.visibility=(d=!d)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Id(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Gs(o))}function Fc(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Za(o))},100)}function Gs(o,s){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(Ve(o,"focus",o,s),o.state.focused=!0,me(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),m&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),Ks(o))}function Za(o,s){o.state.delayingBlurEvent||(o.state.focused&&(Ve(o,"blur",o,s),o.state.focused=!1,xe(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function ta(o){for(var s=o.display,d=s.lineDiv.offsetTop,f=Math.max(0,s.scroller.getBoundingClientRect().top),g=s.lineDiv.getBoundingClientRect().top,w=0,E=0;E<s.view.length;E++){var k=s.view[E],A=o.options.lineWrapping,R=void 0,q=0;if(!k.hidden){if(g+=k.line.height,p&&v<8){var Y=k.node.offsetTop+k.node.offsetHeight;R=Y-d,d=Y}else{var ue=k.node.getBoundingClientRect();R=ue.bottom-ue.top,!A&&k.text.firstChild&&(q=k.text.firstChild.getBoundingClientRect().right-ue.left-1)}var ae=k.line.height-R;if((ae>.005||ae<-.005)&&(g<f&&(w-=ae),Pr(k.line,R),na(k.line),k.rest))for(var Ee=0;Ee<k.rest.length;Ee++)na(k.rest[Ee]);if(q>o.display.sizerWidth){var Ae=Math.ceil(q/Us(o.display));Ae>o.display.maxLineLength&&(o.display.maxLineLength=Ae,o.display.maxLine=k.line,o.display.maxLineChanged=!0)}}}Math.abs(w)>2&&(s.scroller.scrollTop+=w)}function na(o){if(o.widgets)for(var s=0;s<o.widgets.length;++s){var d=o.widgets[s],f=d.node.parentNode;f&&(d.height=f.offsetHeight)}}function Ja(o,s,d){var f=d&&d.top!=null?Math.max(0,d.top):o.scroller.scrollTop;f=Math.floor(f-ou(o));var g=d&&d.bottom!=null?d.bottom:f+o.wrapper.clientHeight,w=Ei(s,f),E=Ei(s,g);if(d&&d.ensure){var k=d.ensure.from.line,A=d.ensure.to.line;k<w?(w=k,E=Ei(s,Er(et(s,k))+o.wrapper.clientHeight)):Math.min(A,s.lastLine())>=E&&(w=Ei(s,Er(et(s,A))-o.wrapper.clientHeight),E=A)}return{from:w,to:Math.max(E,w+1)}}function W0(o,s){if(!gt(o,"scrollCursorIntoView")){var d=o.display,f=d.sizer.getBoundingClientRect(),g=null;if(s.top+f.top<0?g=!0:s.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!N){var w=Q("div","​",null,"position: absolute;\n                         top: "+(s.top-d.viewOffset-ou(o.display))+"px;\n                         height: "+(s.bottom-s.top+Nr(o)+d.barHeight)+"px;\n                         left: "+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");o.display.lineSpace.appendChild(w),w.scrollIntoView(g),o.display.lineSpace.removeChild(w)}}}function K0(o,s,d,f){f==null&&(f=0);var g;!o.options.lineWrapping&&s==d&&(d=s.sticky=="before"?Me(s.line,s.ch+1,"before"):s,s=s.ch?Me(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var w=0;w<5;w++){var E=!1,k=ki(o,s),A=!d||d==s?k:ki(o,d);g={left:Math.min(k.left,A.left),top:Math.min(k.top,A.top)-f,right:Math.max(k.left,A.left),bottom:Math.max(k.bottom,A.bottom)+f};var R=qs(o,g),q=o.doc.scrollTop,Y=o.doc.scrollLeft;if(R.scrollTop!=null&&(hn(o,R.scrollTop),Math.abs(o.doc.scrollTop-q)>1&&(E=!0)),R.scrollLeft!=null&&(es(o,R.scrollLeft),Math.abs(o.doc.scrollLeft-Y)>1&&(E=!0)),!E)break}return g}function G0(o,s){var d=qs(o,s);d.scrollTop!=null&&hn(o,d.scrollTop),d.scrollLeft!=null&&es(o,d.scrollLeft)}function qs(o,s){var d=o.display,f=Zo(o.display);s.top<0&&(s.top=0);var g=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:d.scroller.scrollTop,w=Pc(o),E={};s.bottom-s.top>w&&(s.bottom=s.top+w);var k=o.doc.height+Sr(d),A=s.top<f,R=s.bottom>k-f;if(s.top<g)E.scrollTop=A?0:s.top;else if(s.bottom>g+w){var q=Math.min(s.top,(R?k:s.bottom)-w);q!=g&&(E.scrollTop=q)}var Y=o.options.fixedGutter?0:d.gutters.offsetWidth,ue=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:d.scroller.scrollLeft-Y,ae=Vo(o)-d.gutters.offsetWidth,Ee=s.right-s.left>ae;return Ee&&(s.right=s.left+ae),s.left<10?E.scrollLeft=0:s.left<ue?E.scrollLeft=Math.max(0,s.left+Y-(Ee?0:10)):s.right>ae+ue-3&&(E.scrollLeft=s.right+(Ee?0:10)-ae),E}function Xs(o,s){s!=null&&(jc(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+s)}function ra(o){jc(o);var s=o.getCursor();o.curOp.scrollToPos={from:s,to:s,margin:o.options.cursorScrollMargin}}function uu(o,s,d){(s!=null||d!=null)&&jc(o),s!=null&&(o.curOp.scrollLeft=s),d!=null&&(o.curOp.scrollTop=d)}function Lg(o,s){jc(o),o.curOp.scrollToPos=s}function jc(o){var s=o.curOp.scrollToPos;if(s){o.curOp.scrollToPos=null;var d=Tg(o,s.from),f=Tg(o,s.to);Pg(o,d,f,s.margin)}}function Pg(o,s,d,f){var g=qs(o,{left:Math.min(s.left,d.left),top:Math.min(s.top,d.top)-f,right:Math.max(s.right,d.right),bottom:Math.max(s.bottom,d.bottom)+f});uu(o,g.scrollLeft,g.scrollTop)}function hn(o,s){Math.abs(o.doc.scrollTop-s)<2||(i||Md(o,{top:s}),Yn(o,s,!0),i&&Md(o),eo(o,100))}function Yn(o,s,d){s=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,s)),!(o.display.scroller.scrollTop==s&&!d)&&(o.doc.scrollTop=s,o.display.scrollbars.setScrollTop(s),o.display.scroller.scrollTop!=s&&(o.display.scroller.scrollTop=s))}function es(o,s,d,f){s=Math.max(0,Math.min(s,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((d?s==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-s)<2)&&!f)&&(o.doc.scrollLeft=s,Ag(o),o.display.scroller.scrollLeft!=s&&(o.display.scroller.scrollLeft=s),o.display.scrollbars.setScrollLeft(s))}function cu(o){var s=o.display,d=s.gutters.offsetWidth,f=Math.round(o.doc.height+Sr(o.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:o.options.fixedGutter?d:0,docHeight:f,scrollHeight:f+Nr(o)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:d}}var ia=function(o,s,d){this.cm=d;var f=this.vert=Q("div",[Q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=Q("div",[Q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,o(f),o(g),Be(f,"scroll",function(){f.clientHeight&&s(f.scrollTop,"vertical")}),Be(g,"scroll",function(){g.clientWidth&&s(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&v<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ia.prototype.update=function(o){var s=o.scrollWidth>o.clientWidth+1,d=o.scrollHeight>o.clientHeight+1,f=o.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=s?f+"px":"0";var g=o.viewHeight-(s?f:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=d?f+"px":"0",this.horiz.style.left=o.barLeft+"px";var w=o.viewWidth-o.barLeft-(d?f:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+w)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?f:0,bottom:s?f:0}},ia.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ia.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ia.prototype.zeroWidthHack=function(){var o=j&&!$?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new le,this.disableVert=new le},ia.prototype.enableZeroWidthBar=function(o,s,d){o.style.pointerEvents="auto";function f(){var g=o.getBoundingClientRect(),w=d=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);w!=o?o.style.pointerEvents="none":s.set(1e3,f)}s.set(1e3,f)},ia.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var fu=function(){};fu.prototype.update=function(){return{bottom:0,right:0}},fu.prototype.setScrollLeft=function(){},fu.prototype.setScrollTop=function(){},fu.prototype.clear=function(){};function oa(o,s){s||(s=cu(o));var d=o.display.barWidth,f=o.display.barHeight;Vs(o,s);for(var g=0;g<4&&d!=o.display.barWidth||f!=o.display.barHeight;g++)d!=o.display.barWidth&&o.options.lineWrapping&&ta(o),Vs(o,cu(o)),d=o.display.barWidth,f=o.display.barHeight}function Vs(o,s){var d=o.display,f=d.scrollbars.update(s);d.sizer.style.paddingRight=(d.barWidth=f.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=f.bottom)+"px",d.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=f.bottom+"px",d.scrollbarFiller.style.width=f.right+"px"):d.scrollbarFiller.style.display="",f.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=f.bottom+"px",d.gutterFiller.style.width=s.gutterWidth+"px"):d.gutterFiller.style.display=""}var $c={native:ia,null:fu};function ts(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&xe(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new $c[o.options.scrollbarStyle](function(s){o.display.wrapper.insertBefore(s,o.display.scrollbarFiller),Be(s,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,d){d=="horizontal"?es(o,s):hn(o,s)},o),o.display.scrollbars.addClass&&me(o.display.wrapper,o.display.scrollbars.addClass)}var du=0;function _i(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++du,markArrays:null},Xo(o.curOp)}function Ji(o){var s=o.curOp;s&&$0(s,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;Ys(d)})}function Ys(o){for(var s=o.ops,d=0;d<s.length;d++)q0(s[d]);for(var f=0;f<s.length;f++)X0(s[f]);for(var g=0;g<s.length;g++)V0(s[g]);for(var w=0;w<s.length;w++)Y0(s[w]);for(var E=0;E<s.length;E++)Q0(s[E])}function q0(o){var s=o.cm,d=s.display;Mt(s),o.updateMaxLine&&ru(s),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<d.viewFrom||o.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&s.options.lineWrapping,o.update=o.mustUpdate&&new Cr(s,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function X0(o){o.updatedDisplay=o.mustUpdate&&Rd(o.cm,o.update)}function V0(o){var s=o.cm,d=s.display;o.updatedDisplay&&ta(s),o.barMeasure=cu(s),d.maxLineChanged&&!s.options.lineWrapping&&(o.adjustWidthTo=wg(s,d.maxLine,d.maxLine.text.length).left+3,s.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+o.adjustWidthTo+Nr(s)+s.display.barWidth),o.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+o.adjustWidthTo-Vo(s))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=d.input.prepareSelection())}function Y0(o){var s=o.cm;o.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<s.doc.scrollLeft&&es(s,Math.min(s.display.scroller.scrollLeft,o.maxScrollLeft),!0),s.display.maxLineChanged=!1);var d=o.focus&&o.focus==ye();o.preparedSelection&&s.display.input.showSelection(o.preparedSelection,d),(o.updatedDisplay||o.startHeight!=s.doc.height)&&oa(s,o.barMeasure),o.updatedDisplay&&jd(s,o.barMeasure),o.selectionChanged&&Ks(s),s.state.focused&&o.updateInput&&s.display.input.reset(o.typing),d&&Id(o.cm)}function Q0(o){var s=o.cm,d=s.display,f=s.doc;if(o.updatedDisplay&&aa(s,o.update),d.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),o.scrollTop!=null&&Yn(s,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&es(s,o.scrollLeft,!0,!0),o.scrollToPos){var g=K0(s,Xe(f,o.scrollToPos.from),Xe(f,o.scrollToPos.to),o.scrollToPos.margin);W0(s,g)}var w=o.maybeHiddenMarkers,E=o.maybeUnhiddenMarkers;if(w)for(var k=0;k<w.length;++k)w[k].lines.length||Ve(w[k],"hide");if(E)for(var A=0;A<E.length;++A)E[A].lines.length&&Ve(E[A],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=s.display.scroller.scrollTop),o.changeObjs&&Ve(s,"changes",s,o.changeObjs),o.update&&o.update.finish()}function Qn(o,s){if(o.curOp)return s();_i(o);try{return s()}finally{Ji(o)}}function pn(o,s){return function(){if(o.curOp)return s.apply(o,arguments);_i(o);try{return s.apply(o,arguments)}finally{Ji(o)}}}function Zn(o){return function(){if(this.curOp)return o.apply(this,arguments);_i(this);try{return o.apply(this,arguments)}finally{Ji(this)}}}function z(o){return function(){var s=this.cm;if(!s||s.curOp)return o.apply(this,arguments);_i(s);try{return o.apply(this,arguments)}finally{Ji(s)}}}function eo(o,s){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(s,oe(Dc,o))}function Dc(o){var s=o.doc;if(!(s.highlightFrontier>=o.display.viewTo)){var d=+new Date+o.options.workTime,f=Bs(o,s.highlightFrontier),g=[];s.iter(f.line,Math.min(s.first+s.size,o.display.viewTo+500),function(w){if(f.line>=o.display.viewFrom){var E=w.styles,k=w.text.length>o.options.maxHighlightLength?Wr(s.mode,f.state):null,A=tg(o,w,f,!0);k&&(f.state=k),w.styles=A.styles;var R=w.styleClasses,q=A.classes;q?w.styleClasses=q:R&&(w.styleClasses=null);for(var Y=!E||E.length!=w.styles.length||R!=q&&(!R||!q||R.bgClass!=q.bgClass||R.textClass!=q.textClass),ue=0;!Y&&ue<E.length;++ue)Y=E[ue]!=w.styles[ue];Y&&g.push(f.line),w.stateAfter=f.save(),f.nextLine()}else w.text.length<=o.options.maxHighlightLength&&Jl(o,w.text,f),w.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>d)return eo(o,o.options.workDelay),!0}),s.highlightFrontier=f.line,s.modeFrontier=Math.max(s.modeFrontier,f.line),g.length&&Qn(o,function(){for(var w=0;w<g.length;w++)ea(o,g[w],"text")})}}var Cr=function(o,s,d){var f=o.display;this.viewport=s,this.visible=Ja(f,o.doc,s),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Vo(o),this.force=d,this.dims=Ir(o),this.events=[]};Cr.prototype.signal=function(o,s){Hn(o,s)&&this.events.push(arguments)},Cr.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Ve.apply(null,this.events[o])};function Mt(o){var s=o.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Nr(o)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Nr(o)+"px",s.scrollbarsClipped=!0)}function Z0(o){if(o.hasFocus())return null;var s=ye();if(!s||!Te(o.display.lineDiv,s))return null;var d={activeElt:s};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&Te(o.display.lineDiv,f.anchorNode)&&(d.anchorNode=f.anchorNode,d.anchorOffset=f.anchorOffset,d.focusNode=f.focusNode,d.focusOffset=f.focusOffset)}return d}function J0(o){if(!(!o||!o.activeElt||o.activeElt==ye())&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&Te(document.body,o.anchorNode)&&Te(document.body,o.focusNode))){var s=window.getSelection(),d=document.createRange();d.setEnd(o.anchorNode,o.anchorOffset),d.collapse(!1),s.removeAllRanges(),s.addRange(d),s.extend(o.focusNode,o.focusOffset)}}function Rd(o,s){var d=o.display,f=o.doc;if(s.editorIsHidden)return bo(o),!1;if(!s.force&&s.visible.from>=d.viewFrom&&s.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&_g(o)==0)return!1;to(o)&&(bo(o),s.dims=Ir(o));var g=f.first+f.size,w=Math.max(s.visible.from-o.options.viewportMargin,f.first),E=Math.min(g,s.visible.to+o.options.viewportMargin);d.viewFrom<w&&w-d.viewFrom<20&&(w=Math.max(f.first,d.viewFrom)),d.viewTo>E&&d.viewTo-E<20&&(E=Math.min(g,d.viewTo)),Xi&&(w=kc(o.doc,w),E=fg(o.doc,E));var k=w!=d.viewFrom||E!=d.viewTo||d.lastWrapHeight!=s.wrapperHeight||d.lastWrapWidth!=s.wrapperWidth;U0(o,w,E),d.viewOffset=Er(et(o.doc,d.viewFrom)),o.display.mover.style.top=d.viewOffset+"px";var A=_g(o);if(!k&&A==0&&!s.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var R=Z0(o);return A>4&&(d.lineDiv.style.display="none"),ew(o,d.updateLineNumbers,s.dims),A>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,J0(R),ze(d.cursorDiv),ze(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,k&&(d.lastWrapHeight=s.wrapperHeight,d.lastWrapWidth=s.wrapperWidth,eo(o,400)),d.updateLineNumbers=null,!0}function aa(o,s){for(var d=s.viewport,f=!0;;f=!1){if(!f||!o.options.lineWrapping||s.oldDisplayWidth==Vo(o)){if(d&&d.top!=null&&(d={top:Math.min(o.doc.height+Sr(o.display)-Pc(o),d.top)}),s.visible=Ja(o.display,o.doc,d),s.visible.from>=o.display.viewFrom&&s.visible.to<=o.display.viewTo)break}else f&&(s.visible=Ja(o.display,o.doc,d));if(!Rd(o,s))break;ta(o);var g=cu(o);su(o),oa(o,g),jd(o,g),s.force=!1}s.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(s.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Md(o,s){var d=new Cr(o,s);if(Rd(o,d)){ta(o),aa(o,d);var f=cu(o);su(o),oa(o,f),jd(o,f),d.finish()}}function ew(o,s,d){var f=o.display,g=o.options.lineNumbers,w=f.lineDiv,E=w.firstChild;function k(Ee){var Ae=Ee.nextSibling;return m&&j&&o.display.currentWheelTarget==Ee?Ee.style.display="none":Ee.parentNode.removeChild(Ee),Ae}for(var A=f.view,R=f.viewFrom,q=0;q<A.length;q++){var Y=A[q];if(!Y.hidden)if(!Y.node||Y.node.parentNode!=w){var ue=Ld(o,Y,R,d);w.insertBefore(ue,E)}else{for(;E!=Y.node;)E=k(E);var ae=g&&s!=null&&s<=R&&Y.lineNumber;Y.changes&&(pe(Y.changes,"gutter")>-1&&(ae=!1),vg(o,Y,R,d)),ae&&(ze(Y.lineNumber),Y.lineNumber.appendChild(document.createTextNode(Ds(o.options,R)))),E=Y.node.nextSibling}R+=Y.size}for(;E;)E=k(E)}function Fd(o){var s=o.gutters.offsetWidth;o.sizer.style.marginLeft=s+"px",In(o,"gutterChanged",o)}function jd(o,s){o.display.sizer.style.minHeight=s.docHeight+"px",o.display.heightForcer.style.top=s.docHeight+"px",o.display.gutters.style.height=s.docHeight+o.display.barHeight+Nr(o)+"px"}function Ag(o){var s=o.display,d=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!o.options.fixedGutter))){for(var f=Ws(s)-s.scroller.scrollLeft+o.doc.scrollLeft,g=s.gutters.offsetWidth,w=f+"px",E=0;E<d.length;E++)if(!d[E].hidden){o.options.fixedGutter&&(d[E].gutter&&(d[E].gutter.style.left=w),d[E].gutterBackground&&(d[E].gutterBackground.style.left=w));var k=d[E].alignable;if(k)for(var A=0;A<k.length;A++)k[A].style.left=w}o.options.fixedGutter&&(s.gutters.style.left=f+g+"px")}}function to(o){if(!o.options.lineNumbers)return!1;var s=o.doc,d=Ds(o.options,s.first+s.size-1),f=o.display;if(d.length!=f.lineNumChars){var g=f.measure.appendChild(Q("div",[Q("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),w=g.firstChild.offsetWidth,E=g.offsetWidth-w;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(w,f.lineGutter.offsetWidth-E)+1,f.lineNumWidth=f.lineNumInnerWidth+E,f.lineNumChars=f.lineNumInnerWidth?d.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Fd(o.display),!0}return!1}function $d(o,s){for(var d=[],f=!1,g=0;g<o.length;g++){var w=o[g],E=null;if(typeof w!="string"&&(E=w.style,w=w.className),w=="CodeMirror-linenumbers")if(s)f=!0;else continue;d.push({className:w,style:E})}return s&&!f&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function Ng(o){var s=o.gutters,d=o.gutterSpecs;ze(s),o.lineGutter=null;for(var f=0;f<d.length;++f){var g=d[f],w=g.className,E=g.style,k=s.appendChild(Q("div",null,"CodeMirror-gutter "+w));E&&(k.style.cssText=E),w=="CodeMirror-linenumbers"&&(o.lineGutter=k,k.style.width=(o.lineNumWidth||1)+"px")}s.style.display=d.length?"":"none",Fd(o)}function hu(o){Ng(o.display),bt(o),Ag(o)}function tw(o,s,d,f){var g=this;this.input=d,g.scrollbarFiller=Q("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=Q("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=G("div",null,"CodeMirror-code"),g.selectionDiv=Q("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=Q("div",null,"CodeMirror-cursors"),g.measure=Q("div",null,"CodeMirror-measure"),g.lineMeasure=Q("div",null,"CodeMirror-measure"),g.lineSpace=G("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var w=G("div",[g.lineSpace],"CodeMirror-lines");g.mover=Q("div",[w],null,"position: relative"),g.sizer=Q("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=Q("div",null,null,"position: absolute; height: "+_e+"px; width: 1px;"),g.gutters=Q("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=Q("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=Q("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),p&&v<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!m&&!(i&&B)&&(g.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(g.wrapper):o(g.wrapper)),g.viewFrom=g.viewTo=s.first,g.reportedViewFrom=g.reportedViewTo=s.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=$d(f.gutters,f.lineNumbers),Ng(g),d.init(g)}var Bc=0,Jn=null;p?Jn=-.53:i?Jn=15:S?Jn=-.7:I&&(Jn=-1/3);function Ig(o){var s=o.wheelDeltaX,d=o.wheelDeltaY;return s==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(s=o.detail),d==null&&o.detail&&o.axis==o.VERTICAL_AXIS?d=o.detail:d==null&&(d=o.wheelDelta),{x:s,y:d}}function nw(o){var s=Ig(o);return s.x*=Jn,s.y*=Jn,s}function Rg(o,s){var d=Ig(s),f=d.x,g=d.y,w=Jn;s.deltaMode===0&&(f=s.deltaX,g=s.deltaY,w=1);var E=o.display,k=E.scroller,A=k.scrollWidth>k.clientWidth,R=k.scrollHeight>k.clientHeight;if(f&&A||g&&R){if(g&&j&&m){e:for(var q=s.target,Y=E.view;q!=k;q=q.parentNode)for(var ue=0;ue<Y.length;ue++)if(Y[ue].node==q){o.display.currentWheelTarget=q;break e}}if(f&&!i&&!C&&w!=null){g&&R&&hn(o,Math.max(0,k.scrollTop+g*w)),es(o,Math.max(0,k.scrollLeft+f*w)),(!g||g&&R)&&Un(s),E.wheelStartX=null;return}if(g&&w!=null){var ae=g*w,Ee=o.doc.scrollTop,Ae=Ee+E.wrapper.clientHeight;ae<0?Ee=Math.max(0,Ee+ae-50):Ae=Math.min(o.doc.height,Ae+ae+50),Md(o,{top:Ee,bottom:Ae})}Bc<20&&s.deltaMode!==0&&(E.wheelStartX==null?(E.wheelStartX=k.scrollLeft,E.wheelStartY=k.scrollTop,E.wheelDX=f,E.wheelDY=g,setTimeout(function(){if(E.wheelStartX!=null){var De=k.scrollLeft-E.wheelStartX,We=k.scrollTop-E.wheelStartY,Ge=We&&E.wheelDY&&We/E.wheelDY||De&&E.wheelDX&&De/E.wheelDX;E.wheelStartX=E.wheelStartY=null,Ge&&(Jn=(Jn*Bc+Ge)/(Bc+1),++Bc)}},200)):(E.wheelDX+=f,E.wheelDY+=g))}}var qr=function(o,s){this.ranges=o,this.primIndex=s};qr.prototype.primary=function(){return this.ranges[this.primIndex]},qr.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var d=this.ranges[s],f=o.ranges[s];if(!Z(d.anchor,f.anchor)||!Z(d.head,f.head))return!1}return!0},qr.prototype.deepCopy=function(){for(var o=[],s=0;s<this.ranges.length;s++)o[s]=new Wt(Le(this.ranges[s].anchor),Le(this.ranges[s].head));return new qr(o,this.primIndex)},qr.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},qr.prototype.contains=function(o,s){s||(s=o);for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d];if(F(s,f.from())>=0&&F(o,f.to())<=0)return d}return-1};var Wt=function(o,s){this.anchor=o,this.head=s};Wt.prototype.from=function(){return ht(this.anchor,this.head)},Wt.prototype.to=function(){return je(this.anchor,this.head)},Wt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function er(o,s,d){var f=o&&o.options.selectionsMayTouch,g=s[d];s.sort(function(ue,ae){return F(ue.from(),ae.from())}),d=pe(s,g);for(var w=1;w<s.length;w++){var E=s[w],k=s[w-1],A=F(k.to(),E.from());if(f&&!E.empty()?A>0:A>=0){var R=ht(k.from(),E.from()),q=je(k.to(),E.to()),Y=k.empty()?E.from()==E.head:k.from()==k.head;w<=d&&--d,s.splice(--w,2,new Wt(Y?q:R,Y?R:q))}}return new qr(s,d)}function sa(o,s){return new qr([new Wt(o,s||o)],0)}function la(o){return o.text?Me(o.from.line+o.text.length-1,it(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function oi(o,s){if(F(o,s.from)<0)return o;if(F(o,s.to)<=0)return la(s);var d=o.line+s.text.length-(s.to.line-s.from.line)-1,f=o.ch;return o.line==s.to.line&&(f+=la(s).ch-s.to.ch),Me(d,f)}function Dd(o,s){for(var d=[],f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];d.push(new Wt(oi(g.anchor,s),oi(g.head,s)))}return er(o.cm,d,o.sel.primIndex)}function Mg(o,s,d){return o.line==s.line?Me(d.line,o.ch-s.ch+d.ch):Me(d.line+(o.line-s.line),o.ch)}function rw(o,s,d){for(var f=[],g=Me(o.first,0),w=g,E=0;E<s.length;E++){var k=s[E],A=Mg(k.from,g,w),R=Mg(la(k),g,w);if(g=k.to,w=R,d=="around"){var q=o.sel.ranges[E],Y=F(q.head,q.anchor)<0;f[E]=new Wt(Y?R:A,Y?A:R)}else f[E]=new Wt(A,A)}return new qr(f,o.sel.primIndex)}function Bd(o){o.doc.mode=$s(o.options,o.doc.modeOption),pu(o)}function pu(o){o.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,eo(o,100),o.state.modeGen++,o.curOp&&bt(o)}function zd(o,s){return s.from.ch==0&&s.to.ch==0&&it(s.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function zc(o,s,d,f){function g(Ge){return d?d[Ge]:null}function w(Ge,Ke,Qe){dg(Ge,Ke,Qe,f),In(Ge,"change",Ge,s)}function E(Ge,Ke){for(var Qe=[],ot=Ge;ot<Ke;++ot)Qe.push(new Vn(R[ot],g(ot),f));return Qe}var k=s.from,A=s.to,R=s.text,q=et(o,k.line),Y=et(o,A.line),ue=it(R),ae=g(R.length-1),Ee=A.line-k.line;if(s.full)o.insert(0,E(0,R.length)),o.remove(R.length,o.size-R.length);else if(zd(o,s)){var Ae=E(0,R.length-1);w(Y,Y.text,ae),Ee&&o.remove(k.line,Ee),Ae.length&&o.insert(k.line,Ae)}else if(q==Y)if(R.length==1)w(q,q.text.slice(0,k.ch)+ue+q.text.slice(A.ch),ae);else{var De=E(1,R.length-1);De.push(new Vn(ue+q.text.slice(A.ch),ae,f)),w(q,q.text.slice(0,k.ch)+R[0],g(0)),o.insert(k.line+1,De)}else if(R.length==1)w(q,q.text.slice(0,k.ch)+R[0]+Y.text.slice(A.ch),g(0)),o.remove(k.line+1,Ee);else{w(q,q.text.slice(0,k.ch)+R[0],g(0)),w(Y,ue+Y.text.slice(A.ch),ae);var We=E(1,R.length-1);Ee>1&&o.remove(k.line+1,Ee-1),o.insert(k.line+1,We)}In(o,"change",o,s)}function ua(o,s,d){function f(g,w,E){if(g.linked)for(var k=0;k<g.linked.length;++k){var A=g.linked[k];if(A.doc!=w){var R=E&&A.sharedHist;d&&!R||(s(A.doc,R),f(A.doc,g,R))}}}f(o,null,!0)}function Fg(o,s){if(s.cm)throw new Error("This document is already in use.");o.doc=s,s.cm=o,Jo(o),Bd(o),Hc(o),o.options.direction=s.direction,o.options.lineWrapping||ru(o),o.options.mode=s.modeOption,bt(o)}function Hc(o){(o.doc.direction=="rtl"?me:xe)(o.display.lineDiv,"CodeMirror-rtl")}function gu(o){Qn(o,function(){Hc(o),bt(o)})}function ns(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function Hd(o,s){var d={from:Le(s.from),to:la(s),text:Kr(o,s.from,s.to)};return jg(o,d,s.from.line,s.to.line+1),ua(o,function(f){return jg(f,d,s.from.line,s.to.line+1)},!0),d}function Ud(o){for(;o.length;){var s=it(o);if(s.ranges)o.pop();else break}}function iw(o,s){if(s)return Ud(o.done),it(o.done);if(o.done.length&&!it(o.done).ranges)return it(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),it(o.done)}function no(o,s,d,f){var g=o.history;g.undone.length=0;var w=+new Date,E,k;if((g.lastOp==f||g.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&g.lastModTime>w-(o.cm?o.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(E=iw(g,g.lastOp==f)))k=it(E.changes),F(s.from,s.to)==0&&F(s.from,k.to)==0?k.to=la(s):E.changes.push(Hd(o,s));else{var A=it(g.done);for((!A||!A.ranges)&&Tr(o.sel,g.done),E={changes:[Hd(o,s)],generation:g.generation},g.done.push(E);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(d),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=w,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=s.origin,k||Ve(o,"historyAdded")}function Wd(o,s,d,f){var g=s.charAt(0);return g=="*"||g=="+"&&d.ranges.length==f.ranges.length&&d.somethingSelected()==f.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function rs(o,s,d,f){var g=o.history,w=f&&f.origin;d==g.lastSelOp||w&&g.lastSelOrigin==w&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==w||Wd(o,w,it(g.done),s))?g.done[g.done.length-1]=s:Tr(s,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=w,g.lastSelOp=d,f&&f.clearRedo!==!1&&Ud(g.undone)}function Tr(o,s){var d=it(s);d&&d.ranges&&d.equals(o)||s.push(o)}function jg(o,s,d,f){var g=s["spans_"+o.id],w=0;o.iter(Math.max(o.first,d),Math.min(o.first+o.size,f),function(E){E.markedSpans&&((g||(g=s["spans_"+o.id]={}))[w]=E.markedSpans),++w})}function $g(o){if(!o)return null;for(var s,d=0;d<o.length;++d)o[d].marker.explicitlyCleared?s||(s=o.slice(0,d)):s&&s.push(o[d]);return s?s.length?s:null:o}function Dg(o,s){var d=s["spans_"+o.id];if(!d)return null;for(var f=[],g=0;g<s.text.length;++g)f.push($g(d[g]));return f}function Qs(o,s){var d=Dg(o,s),f=xd(o,s);if(!d)return f;if(!f)return d;for(var g=0;g<d.length;++g){var w=d[g],E=f[g];if(w&&E)e:for(var k=0;k<E.length;++k){for(var A=E[k],R=0;R<w.length;++R)if(w[R].marker==A.marker)continue e;w.push(A)}else E&&(d[g]=E)}return d}function Xr(o,s,d){for(var f=[],g=0;g<o.length;++g){var w=o[g];if(w.ranges){f.push(d?qr.prototype.deepCopy.call(w):w);continue}var E=w.changes,k=[];f.push({changes:k});for(var A=0;A<E.length;++A){var R=E[A],q=void 0;if(k.push({from:R.from,to:R.to,text:R.text}),s)for(var Y in R)(q=Y.match(/^spans_(\d+)$/))&&pe(s,Number(q[1]))>-1&&(it(k)[Y]=R[Y],delete R[Y])}}return f}function Uc(o,s,d,f){if(f){var g=o.anchor;if(d){var w=F(s,g)<0;w!=F(d,g)<0?(g=s,s=d):w!=F(s,d)<0&&(s=d)}return new Wt(g,s)}else return new Wt(d||s,s)}function Wc(o,s,d,f,g){g==null&&(g=o.cm&&(o.cm.display.shift||o.extend)),Wn(o,new qr([Uc(o.sel.primary(),s,d,g)],0),f)}function vu(o,s,d){for(var f=[],g=o.cm&&(o.cm.display.shift||o.extend),w=0;w<o.sel.ranges.length;w++)f[w]=Uc(o.sel.ranges[w],s[w],null,g);var E=er(o.cm,f,o.sel.primIndex);Wn(o,E,d)}function Kd(o,s,d,f){var g=o.sel.ranges.slice(0);g[s]=d,Wn(o,er(o.cm,g,o.sel.primIndex),f)}function Gd(o,s,d,f){Wn(o,sa(s,d),f)}function tr(o,s,d){var f={ranges:s.ranges,update:function(g){this.ranges=[];for(var w=0;w<g.length;w++)this.ranges[w]=new Wt(Xe(o,g[w].anchor),Xe(o,g[w].head))},origin:d&&d.origin};return Ve(o,"beforeSelectionChange",o,f),o.cm&&Ve(o.cm,"beforeSelectionChange",o.cm,f),f.ranges!=s.ranges?er(o.cm,f.ranges,f.ranges.length-1):s}function Kc(o,s,d){var f=o.history.done,g=it(f);g&&g.ranges?(f[f.length-1]=s,Vr(o,s,d)):Wn(o,s,d)}function Wn(o,s,d){Vr(o,s,d),rs(o,o.sel,o.cm?o.cm.curOp.id:NaN,d)}function Vr(o,s,d){(Hn(o,"beforeSelectionChange")||o.cm&&Hn(o.cm,"beforeSelectionChange"))&&(s=tr(o,s,d));var f=d&&d.bias||(F(s.primary().head,o.sel.primary().head)<0?-1:1);Gc(o,ca(o,s,f,!0)),!(d&&d.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&ra(o.cm)}function Gc(o,s){s.equals(o.sel)||(o.sel=s,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Fs(o.cm)),In(o,"cursorActivity",o))}function mu(o){Gc(o,ca(o,o.sel,null,!1))}function ca(o,s,d,f){for(var g,w=0;w<s.ranges.length;w++){var E=s.ranges[w],k=s.ranges.length==o.sel.ranges.length&&o.sel.ranges[w],A=Kn(o,E.anchor,k&&k.anchor,d,f),R=Kn(o,E.head,k&&k.head,d,f);(g||A!=E.anchor||R!=E.head)&&(g||(g=s.ranges.slice(0,w)),g[w]=new Wt(A,R))}return g?er(o.cm,g,s.primIndex):s}function is(o,s,d,f,g){var w=et(o,s.line);if(w.markedSpans)for(var E=0;E<w.markedSpans.length;++E){var k=w.markedSpans[E],A=k.marker,R="selectLeft"in A?!A.selectLeft:A.inclusiveLeft,q="selectRight"in A?!A.selectRight:A.inclusiveRight;if((k.from==null||(R?k.from<=s.ch:k.from<s.ch))&&(k.to==null||(q?k.to>=s.ch:k.to>s.ch))){if(g&&(Ve(A,"beforeCursorEnter"),A.explicitlyCleared))if(w.markedSpans){--E;continue}else break;if(!A.atomic)continue;if(d){var Y=A.find(f<0?1:-1),ue=void 0;if((f<0?q:R)&&(Y=qc(o,Y,-f,Y&&Y.line==s.line?w:null)),Y&&Y.line==s.line&&(ue=F(Y,d))&&(f<0?ue<0:ue>0))return is(o,Y,s,f,g)}var ae=A.find(f<0?-1:1);return(f<0?R:q)&&(ae=qc(o,ae,f,ae.line==s.line?w:null)),ae?is(o,ae,s,f,g):null}}return s}function Kn(o,s,d,f,g){var w=f||1,E=is(o,s,d,w,g)||!g&&is(o,s,d,w,!0)||is(o,s,d,-w,g)||!g&&is(o,s,d,-w,!0);return E||(o.cantEdit=!0,Me(o.first,0))}function qc(o,s,d,f){return d<0&&s.ch==0?s.line>o.first?Xe(o,Me(s.line-1)):null:d>0&&s.ch==(f||et(o,s.line)).text.length?s.line<o.first+o.size-1?Me(s.line+1,0):null:new Me(s.line,s.ch+d)}function Bg(o){o.setSelection(Me(o.firstLine(),0),Me(o.lastLine()),Ue)}function zg(o,s,d){var f={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return f.canceled=!0}};return d&&(f.update=function(g,w,E,k){g&&(f.from=Xe(o,g)),w&&(f.to=Xe(o,w)),E&&(f.text=E),k!==void 0&&(f.origin=k)}),Ve(o,"beforeChange",o,f),o.cm&&Ve(o.cm,"beforeChange",o.cm,f),f.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Zs(o,s,d){if(o.cm){if(!o.cm.curOp)return pn(o.cm,Zs)(o,s,d);if(o.cm.state.suppressEdits)return}if(!((Hn(o,"beforeChange")||o.cm&&Hn(o.cm,"beforeChange"))&&(s=zg(o,s,!0),!s))){var f=wd&&!d&&bd(o,s.from,s.to);if(f)for(var g=f.length-1;g>=0;--g)Xc(o,{from:f[g].from,to:f[g].to,text:g?[""]:s.text,origin:s.origin});else Xc(o,s)}}function Xc(o,s){if(!(s.text.length==1&&s.text[0]==""&&F(s.from,s.to)==0)){var d=Dd(o,s);no(o,s,d,o.cm?o.cm.curOp.id:NaN),el(o,s,d,xd(o,s));var f=[];ua(o,function(g,w){!w&&pe(f,g.history)==-1&&(Ug(g.history,s),f.push(g.history)),el(g,s,null,xd(g,s))})}}function Vc(o,s,d){var f=o.cm&&o.cm.state.suppressEdits;if(!(f&&!d)){for(var g=o.history,w,E=o.sel,k=s=="undo"?g.done:g.undone,A=s=="undo"?g.undone:g.done,R=0;R<k.length&&(w=k[R],!(d?w.ranges&&!w.equals(o.sel):!w.ranges));R++);if(R!=k.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(w=k.pop(),w.ranges){if(Tr(w,A),d&&!w.equals(o.sel)){Wn(o,w,{clearRedo:!1});return}E=w}else if(f){k.push(w);return}else break;var q=[];Tr(E,A),A.push({changes:q,generation:g.generation}),g.generation=w.generation||++g.maxGeneration;for(var Y=Hn(o,"beforeChange")||o.cm&&Hn(o.cm,"beforeChange"),ue=function(Ae){var De=w.changes[Ae];if(De.origin=s,Y&&!zg(o,De,!1))return k.length=0,{};q.push(Hd(o,De));var We=Ae?Dd(o,De):it(k);el(o,De,We,Qs(o,De)),!Ae&&o.cm&&o.cm.scrollIntoView({from:De.from,to:la(De)});var Ge=[];ua(o,function(Ke,Qe){!Qe&&pe(Ge,Ke.history)==-1&&(Ug(Ke.history,De),Ge.push(Ke.history)),el(Ke,De,null,Qs(Ke,De))})},ae=w.changes.length-1;ae>=0;--ae){var Ee=ue(ae);if(Ee)return Ee.v}}}}function Js(o,s){if(s!=0&&(o.first+=s,o.sel=new qr(yt(o.sel.ranges,function(g){return new Wt(Me(g.anchor.line+s,g.anchor.ch),Me(g.head.line+s,g.head.ch))}),o.sel.primIndex),o.cm)){bt(o.cm,o.first,o.first-s,s);for(var d=o.cm.display,f=d.viewFrom;f<d.viewTo;f++)ea(o.cm,f,"gutter")}}function el(o,s,d,f){if(o.cm&&!o.cm.curOp)return pn(o.cm,el)(o,s,d,f);if(s.to.line<o.first){Js(o,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>o.lastLine())){if(s.from.line<o.first){var g=s.text.length-1-(o.first-s.from.line);Js(o,g),s={from:Me(o.first,0),to:Me(s.to.line+g,s.to.ch),text:[it(s.text)],origin:s.origin}}var w=o.lastLine();s.to.line>w&&(s={from:s.from,to:Me(w,et(o,w).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Kr(o,s.from,s.to),d||(d=Dd(o,s)),o.cm?ow(o.cm,s,f):zc(o,s,f),Vr(o,d,Ue),o.cantEdit&&Kn(o,Me(o.firstLine(),0))&&(o.cantEdit=!1)}}function ow(o,s,d){var f=o.doc,g=o.display,w=s.from,E=s.to,k=!1,A=w.line;o.options.lineWrapping||(A=Ut(Ci(et(f,w.line))),f.iter(A,E.line+1,function(ae){if(ae==g.maxLine)return k=!0,!0})),f.sel.contains(s.from,s.to)>-1&&Fs(o),zc(f,s,d,kg(o)),o.options.lineWrapping||(f.iter(A,w.line+s.text.length,function(ae){var Ee=nu(ae);Ee>g.maxLineLength&&(g.maxLine=ae,g.maxLineLength=Ee,g.maxLineChanged=!0,k=!1)}),k&&(o.curOp.updateMaxLine=!0)),L0(f,w.line),eo(o,400);var R=s.text.length-(E.line-w.line)-1;s.full?bt(o):w.line==E.line&&s.text.length==1&&!zd(o.doc,s)?ea(o,w.line,"text"):bt(o,w.line,E.line+1,R);var q=Hn(o,"changes"),Y=Hn(o,"change");if(Y||q){var ue={from:w,to:E,text:s.text,removed:s.removed,origin:s.origin};Y&&In(o,"change",o,ue),q&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(ue)}o.display.selForContextMenu=null}function tl(o,s,d,f,g){var w;f||(f=d),F(f,d)<0&&(w=[f,d],d=w[0],f=w[1]),typeof s=="string"&&(s=o.splitLines(s)),Zs(o,{from:d,to:f,text:s,origin:g})}function nl(o,s,d,f){d<o.line?o.line+=f:s<o.line&&(o.line=s,o.ch=0)}function Hg(o,s,d,f){for(var g=0;g<o.length;++g){var w=o[g],E=!0;if(w.ranges){w.copied||(w=o[g]=w.deepCopy(),w.copied=!0);for(var k=0;k<w.ranges.length;k++)nl(w.ranges[k].anchor,s,d,f),nl(w.ranges[k].head,s,d,f);continue}for(var A=0;A<w.changes.length;++A){var R=w.changes[A];if(d<R.from.line)R.from=Me(R.from.line+f,R.from.ch),R.to=Me(R.to.line+f,R.to.ch);else if(s<=R.to.line){E=!1;break}}E||(o.splice(0,g+1),g=0)}}function Ug(o,s){var d=s.from.line,f=s.to.line,g=s.text.length-(f-d)-1;Hg(o.done,d,f,g),Hg(o.undone,d,f,g)}function os(o,s,d,f){var g=s,w=s;return typeof s=="number"?w=et(o,It(o,s)):g=Ut(s),g==null?null:(f(w,g)&&o.cm&&ea(o.cm,g,d),w)}function rl(o){this.lines=o,this.parent=null;for(var s=0,d=0;d<o.length;++d)o[d].parent=this,s+=o[d].height;this.height=s}rl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,s){for(var d=o,f=o+s;d<f;++d){var g=this.lines[d];this.height-=g.height,hg(g),In(g,"delete")}this.lines.splice(o,s)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,s,d){this.height+=d,this.lines=this.lines.slice(0,o).concat(s).concat(this.lines.slice(o));for(var f=0;f<s.length;++f)s[f].parent=this},iterN:function(o,s,d){for(var f=o+s;o<f;++o)if(d(this.lines[o]))return!0}};function yu(o){this.children=o;for(var s=0,d=0,f=0;f<o.length;++f){var g=o[f];s+=g.chunkSize(),d+=g.height,g.parent=this}this.size=s,this.height=d,this.parent=null}yu.prototype={chunkSize:function(){return this.size},removeInner:function(o,s){this.size-=s;for(var d=0;d<this.children.length;++d){var f=this.children[d],g=f.chunkSize();if(o<g){var w=Math.min(s,g-o),E=f.height;if(f.removeInner(o,w),this.height-=E-f.height,g==w&&(this.children.splice(d--,1),f.parent=null),(s-=w)==0)break;o=0}else o-=g}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof rl))){var k=[];this.collapse(k),this.children=[new rl(k)],this.children[0].parent=this}},collapse:function(o){for(var s=0;s<this.children.length;++s)this.children[s].collapse(o)},insertInner:function(o,s,d){this.size+=s.length,this.height+=d;for(var f=0;f<this.children.length;++f){var g=this.children[f],w=g.chunkSize();if(o<=w){if(g.insertInner(o,s,d),g.lines&&g.lines.length>50){for(var E=g.lines.length%25+25,k=E;k<g.lines.length;){var A=new rl(g.lines.slice(k,k+=25));g.height-=A.height,this.children.splice(++f,0,A),A.parent=this}g.lines=g.lines.slice(0,E),this.maybeSpill()}break}o-=w}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var s=o.children.splice(o.children.length-5,5),d=new yu(s);if(o.parent){o.size-=d.size,o.height-=d.height;var g=pe(o.parent.children,o);o.parent.children.splice(g+1,0,d)}else{var f=new yu(o.children);f.parent=o,o.children=[f,d],o=f}d.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,s,d){for(var f=0;f<this.children.length;++f){var g=this.children[f],w=g.chunkSize();if(o<w){var E=Math.min(s,w-o);if(g.iterN(o,E,d))return!0;if((s-=E)==0)break;o=0}else o-=w}}};var wu=function(o,s,d){if(d)for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.doc=o,this.node=s};wu.prototype.clear=function(){var o=this.doc.cm,s=this.line.widgets,d=this.line,f=Ut(d);if(!(f==null||!s)){for(var g=0;g<s.length;++g)s[g]==this&&s.splice(g--,1);s.length||(d.widgets=null);var w=Xa(this);Pr(d,Math.max(0,d.height-w)),o&&(Qn(o,function(){Wg(o,d,-w),ea(o,f,"widget")}),In(o,"lineWidgetCleared",o,this,f))}},wu.prototype.changed=function(){var o=this,s=this.height,d=this.doc.cm,f=this.line;this.height=null;var g=Xa(this)-s;g&&(cn(this.doc,f)||Pr(f,f.height+g),d&&Qn(d,function(){d.curOp.forceUpdate=!0,Wg(d,f,g),In(d,"lineWidgetChanged",d,o,Ut(f))}))},wi(wu);function Wg(o,s,d){Er(s)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Xs(o,d)}function Kg(o,s,d,f){var g=new wu(o,d,f),w=o.cm;return w&&g.noHScroll&&(w.display.alignWidgets=!0),os(o,s,"widget",function(E){var k=E.widgets||(E.widgets=[]);if(g.insertAt==null?k.push(g):k.splice(Math.min(k.length,Math.max(0,g.insertAt)),0,g),g.line=E,w&&!cn(o,E)){var A=Er(E)<o.scrollTop;Pr(E,E.height+Xa(g)),A&&Xs(w,g.height),w.curOp.forceUpdate=!0}return!0}),w&&In(w,"lineWidgetAdded",w,g,typeof s=="number"?s:Ut(s)),g}var Yc=0,fa=function(o,s){this.lines=[],this.type=s,this.doc=o,this.id=++Yc};fa.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,s=o&&!o.curOp;if(s&&_i(o),Hn(this,"clear")){var d=this.find();d&&In(this,"clear",d.from,d.to)}for(var f=null,g=null,w=0;w<this.lines.length;++w){var E=this.lines[w],k=eu(E.markedSpans,this);o&&!this.collapsed?ea(o,Ut(E),"text"):o&&(k.to!=null&&(g=Ut(E)),k.from!=null&&(f=Ut(E))),E.markedSpans=P0(E.markedSpans,k),k.from==null&&this.collapsed&&!cn(this.doc,E)&&o&&Pr(E,Zo(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var A=0;A<this.lines.length;++A){var R=Ci(this.lines[A]),q=nu(R);q>o.display.maxLineLength&&(o.display.maxLine=R,o.display.maxLineLength=q,o.display.maxLineChanged=!0)}f!=null&&o&&this.collapsed&&bt(o,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&mu(o.doc)),o&&In(o,"markerCleared",o,this,f,g),s&&Ji(o),this.parent&&this.parent.clear()}},fa.prototype.find=function(o,s){o==null&&this.type=="bookmark"&&(o=1);for(var d,f,g=0;g<this.lines.length;++g){var w=this.lines[g],E=eu(w.markedSpans,this);if(E.from!=null&&(d=Me(s?w:Ut(w),E.from),o==-1))return d;if(E.to!=null&&(f=Me(s?w:Ut(w),E.to),o==1))return f}return d&&{from:d,to:f}},fa.prototype.changed=function(){var o=this,s=this.find(-1,!0),d=this,f=this.doc.cm;!s||!f||Qn(f,function(){var g=s.line,w=Ut(s.line),E=Nd(f,w);if(E&&(Eg(E),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!cn(d.doc,g)&&d.height!=null){var k=d.height;d.height=null;var A=Xa(d)-k;A&&Pr(g,g.height+A)}In(f,"markerChanged",f,o)})},fa.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||pe(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},fa.prototype.detachLine=function(o){if(this.lines.splice(pe(this.lines,o),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},wi(fa);function da(o,s,d,f,g){if(f&&f.shared)return Gg(o,s,d,f,g);if(o.cm&&!o.cm.curOp)return pn(o.cm,da)(o,s,d,f,g);var w=new fa(o,g),E=F(s,d);if(f&&we(f,w,!1),E>0||E==0&&w.clearWhenEmpty!==!1)return w;if(w.replacedWith&&(w.collapsed=!0,w.widgetNode=G("span",[w.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||w.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(w.widgetNode.insertLeft=!0)),w.collapsed){if(cg(o,s.line,s,d,w)||s.line!=d.line&&cg(o,d.line,s,d,w))throw new Error("Inserting collapsed marker partially overlapping an existing one");og()}w.addToHistory&&no(o,{from:s,to:d,origin:"markText"},o.sel,NaN);var k=s.line,A=o.cm,R;if(o.iter(k,d.line+1,function(Y){A&&w.collapsed&&!A.options.lineWrapping&&Ci(Y)==A.display.maxLine&&(R=!0),w.collapsed&&k!=s.line&&Pr(Y,0),ag(Y,new Ec(w,k==s.line?s.ch:null,k==d.line?d.ch:null),o.cm&&o.cm.curOp),++k}),w.collapsed&&o.iter(s.line,d.line+1,function(Y){cn(o,Y)&&Pr(Y,0)}),w.clearOnEnter&&Be(w,"beforeCursorEnter",function(){return w.clear()}),w.readOnly&&(ig(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),w.collapsed&&(w.id=++Yc,w.atomic=!0),A){if(R&&(A.curOp.updateMaxLine=!0),w.collapsed)bt(A,s.line,d.line+1);else if(w.className||w.startStyle||w.endStyle||w.css||w.attributes||w.title)for(var q=s.line;q<=d.line;q++)ea(A,q,"text");w.atomic&&mu(A.doc),In(A,"markerAdded",A,w)}return w}var il=function(o,s){this.markers=o,this.primary=s;for(var d=0;d<o.length;++d)o[d].parent=this};il.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();In(this,"clear")}},il.prototype.find=function(o,s){return this.primary.find(o,s)},wi(il);function Gg(o,s,d,f,g){f=we(f),f.shared=!1;var w=[da(o,s,d,f,g)],E=w[0],k=f.widgetNode;return ua(o,function(A){k&&(f.widgetNode=k.cloneNode(!0)),w.push(da(A,Xe(A,s),Xe(A,d),f,g));for(var R=0;R<A.linked.length;++R)if(A.linked[R].isParent)return;E=it(w)}),new il(w,E)}function qd(o){return o.findMarks(Me(o.first,0),o.clipPos(Me(o.lastLine())),function(s){return s.parent})}function Qc(o,s){for(var d=0;d<s.length;d++){var f=s[d],g=f.find(),w=o.clipPos(g.from),E=o.clipPos(g.to);if(F(w,E)){var k=da(o,w,E,f.primary,f.primary.type);f.markers.push(k),k.parent=f}}}function aw(o){for(var s=function(f){var g=o[f],w=[g.primary.doc];ua(g.primary.doc,function(A){return w.push(A)});for(var E=0;E<g.markers.length;E++){var k=g.markers[E];pe(w,k.doc)==-1&&(k.parent=null,g.markers.splice(E--,1))}},d=0;d<o.length;d++)s(d)}var qg=0,or=function(o,s,d,f,g){if(!(this instanceof or))return new or(o,s,d,f,g);d==null&&(d=0),yu.call(this,[new rl([new Vn("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var w=Me(d,0);this.sel=sa(w),this.history=new ns(null),this.id=++qg,this.modeOption=s,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),zc(this,{from:w,to:w,text:o}),Wn(this,sa(w),Ue)};or.prototype=Bt(yu.prototype,{constructor:or,iter:function(o,s,d){d?this.iterN(o-this.first,s-o,d):this.iterN(this.first,this.first+this.size,o)},insert:function(o,s){for(var d=0,f=0;f<s.length;++f)d+=s[f].height;this.insertInner(o-this.first,s,d)},remove:function(o,s){this.removeInner(o-this.first,s)},getValue:function(o){var s=Zl(this,this.first,this.first+this.size);return o===!1?s:s.join(o||this.lineSeparator())},setValue:z(function(o){var s=Me(this.first,0),d=this.first+this.size-1;Zs(this,{from:s,to:Me(d,et(this,d).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&uu(this.cm,0,0),Wn(this,sa(s),Ue)}),replaceRange:function(o,s,d,f){s=Xe(this,s),d=d?Xe(this,d):s,tl(this,o,s,d,f)},getRange:function(o,s,d){var f=Kr(this,Xe(this,o),Xe(this,s));return d===!1?f:d===""?f.join(""):f.join(d||this.lineSeparator())},getLine:function(o){var s=this.getLineHandle(o);return s&&s.text},getLineHandle:function(o){if(Go(this,o))return et(this,o)},getLineNumber:function(o){return Ut(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=et(this,o)),Ci(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return Xe(this,o)},getCursor:function(o){var s=this.sel.primary(),d;return o==null||o=="head"?d=s.head:o=="anchor"?d=s.anchor:o=="end"||o=="to"||o===!1?d=s.to():d=s.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:z(function(o,s,d){Gd(this,Xe(this,typeof o=="number"?Me(o,s||0):o),null,d)}),setSelection:z(function(o,s,d){Gd(this,Xe(this,o),Xe(this,s||o),d)}),extendSelection:z(function(o,s,d){Wc(this,Xe(this,o),s&&Xe(this,s),d)}),extendSelections:z(function(o,s){vu(this,Ar(this,o),s)}),extendSelectionsBy:z(function(o,s){var d=yt(this.sel.ranges,o);vu(this,Ar(this,d),s)}),setSelections:z(function(o,s,d){if(o.length){for(var f=[],g=0;g<o.length;g++)f[g]=new Wt(Xe(this,o[g].anchor),Xe(this,o[g].head||o[g].anchor));s==null&&(s=Math.min(o.length-1,this.sel.primIndex)),Wn(this,er(this.cm,f,s),d)}}),addSelection:z(function(o,s,d){var f=this.sel.ranges.slice(0);f.push(new Wt(Xe(this,o),Xe(this,s||o))),Wn(this,er(this.cm,f,f.length-1),d)}),getSelection:function(o){for(var s=this.sel.ranges,d,f=0;f<s.length;f++){var g=Kr(this,s[f].from(),s[f].to());d=d?d.concat(g):g}return o===!1?d:d.join(o||this.lineSeparator())},getSelections:function(o){for(var s=[],d=this.sel.ranges,f=0;f<d.length;f++){var g=Kr(this,d[f].from(),d[f].to());o!==!1&&(g=g.join(o||this.lineSeparator())),s[f]=g}return s},replaceSelection:function(o,s,d){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=o;this.replaceSelections(f,s,d||"+input")},replaceSelections:z(function(o,s,d){for(var f=[],g=this.sel,w=0;w<g.ranges.length;w++){var E=g.ranges[w];f[w]={from:E.from(),to:E.to(),text:this.splitLines(o[w]),origin:d}}for(var k=s&&s!="end"&&rw(this,f,s),A=f.length-1;A>=0;A--)Zs(this,f[A]);k?Kc(this,k):this.cm&&ra(this.cm)}),undo:z(function(){Vc(this,"undo")}),redo:z(function(){Vc(this,"redo")}),undoSelection:z(function(){Vc(this,"undo",!0)}),redoSelection:z(function(){Vc(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,s=0,d=0,f=0;f<o.done.length;f++)o.done[f].ranges||++s;for(var g=0;g<o.undone.length;g++)o.undone[g].ranges||++d;return{undo:s,redo:d}},clearHistory:function(){var o=this;this.history=new ns(this.history),ua(this,function(s){return s.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Xr(this.history.done),undone:Xr(this.history.undone)}},setHistory:function(o){var s=this.history=new ns(this.history);s.done=Xr(o.done.slice(0),null,!0),s.undone=Xr(o.undone.slice(0),null,!0)},setGutterMarker:z(function(o,s,d){return os(this,o,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[s]=d,!d&&Fe(g)&&(f.gutterMarkers=null),!0})}),clearGutter:z(function(o){var s=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[o]&&os(s,d,"gutter",function(){return d.gutterMarkers[o]=null,Fe(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(o){var s;if(typeof o=="number"){if(!Go(this,o)||(s=o,o=et(this,o),!o))return null}else if(s=Ut(o),s==null)return null;return{line:s,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:z(function(o,s,d){return os(this,o,s=="gutter"?"gutter":"class",function(f){var g=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=d;else{if(ve(d).test(f[g]))return!1;f[g]+=" "+d}return!0})}),removeLineClass:z(function(o,s,d){return os(this,o,s=="gutter"?"gutter":"class",function(f){var g=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",w=f[g];if(w)if(d==null)f[g]=null;else{var E=w.match(ve(d));if(!E)return!1;var k=E.index+E[0].length;f[g]=w.slice(0,E.index)+(!E.index||k==w.length?"":" ")+w.slice(k)||null}else return!1;return!0})}),addLineWidget:z(function(o,s,d){return Kg(this,o,s,d)}),removeLineWidget:function(o){o.clear()},markText:function(o,s,d){return da(this,Xe(this,o),Xe(this,s),d,d&&d.type||"range")},setBookmark:function(o,s){var d={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return o=Xe(this,o),da(this,o,o,d,"bookmark")},findMarksAt:function(o){o=Xe(this,o);var s=[],d=et(this,o.line).markedSpans;if(d)for(var f=0;f<d.length;++f){var g=d[f];(g.from==null||g.from<=o.ch)&&(g.to==null||g.to>=o.ch)&&s.push(g.marker.parent||g.marker)}return s},findMarks:function(o,s,d){o=Xe(this,o),s=Xe(this,s);var f=[],g=o.line;return this.iter(o.line,s.line+1,function(w){var E=w.markedSpans;if(E)for(var k=0;k<E.length;k++){var A=E[k];!(A.to!=null&&g==o.line&&o.ch>=A.to||A.from==null&&g!=o.line||A.from!=null&&g==s.line&&A.from>=s.ch)&&(!d||d(A.marker))&&f.push(A.marker.parent||A.marker)}++g}),f},getAllMarks:function(){var o=[];return this.iter(function(s){var d=s.markedSpans;if(d)for(var f=0;f<d.length;++f)d[f].from!=null&&o.push(d[f].marker)}),o},posFromIndex:function(o){var s,d=this.first,f=this.lineSeparator().length;return this.iter(function(g){var w=g.text.length+f;if(w>o)return s=o,!0;o-=w,++d}),Xe(this,Me(d,s))},indexFromPos:function(o){o=Xe(this,o);var s=o.ch;if(o.line<this.first||o.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,o.line,function(f){s+=f.text.length+d}),s},copy:function(o){var s=new or(Zl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,o&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(o){o||(o={});var s=this.first,d=this.first+this.size;o.from!=null&&o.from>s&&(s=o.from),o.to!=null&&o.to<d&&(d=o.to);var f=new or(Zl(this,s,d),o.mode||this.modeOption,s,this.lineSep,this.direction);return o.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:o.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],Qc(f,qd(this)),f},unlinkDoc:function(o){if(o instanceof Jt&&(o=o.doc),this.linked)for(var s=0;s<this.linked.length;++s){var d=this.linked[s];if(d.doc==o){this.linked.splice(s,1),o.unlinkDoc(this),aw(qd(this));break}}if(o.history==this.history){var f=[o.id];ua(o,function(g){return f.push(g.id)},!0),o.history=new ns(null),o.history.done=Xr(this.history.done,f),o.history.undone=Xr(this.history.undone,f)}},iterLinkedDocs:function(o){ua(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Ua(o)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:z(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(s){return s.order=null}),this.cm&&gu(this.cm))})}),or.prototype.eachLine=or.prototype.iter;var Xg=0;function Vg(o){var s=this;if(Vd(s),!(gt(s,o)||xo(s.display,o))){Un(o),p&&(Xg=+new Date);var d=Yi(s,o,!0),f=o.dataTransfer.files;if(!(!d||s.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,w=Array(g),E=0,k=function(){++E==g&&pn(s,function(){d=Xe(s.doc,d);var ae={from:d,to:d,text:s.doc.splitLines(w.filter(function(Ee){return Ee!=null}).join(s.doc.lineSeparator())),origin:"paste"};Zs(s.doc,ae),Kc(s.doc,sa(Xe(s.doc,d),Xe(s.doc,la(ae))))})()},A=function(ae,Ee){if(s.options.allowDropFileTypes&&pe(s.options.allowDropFileTypes,ae.type)==-1){k();return}var Ae=new FileReader;Ae.onerror=function(){return k()},Ae.onload=function(){var De=Ae.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(De)){k();return}w[Ee]=De,k()},Ae.readAsText(ae)},R=0;R<f.length;R++)A(f[R],R);else{if(s.state.draggingText&&s.doc.sel.contains(d)>-1){s.state.draggingText(o),setTimeout(function(){return s.display.input.focus()},20);return}try{var q=o.dataTransfer.getData("Text");if(q){var Y;if(s.state.draggingText&&!s.state.draggingText.copy&&(Y=s.listSelections()),Vr(s.doc,sa(d,d)),Y)for(var ue=0;ue<Y.length;++ue)tl(s.doc,"",Y[ue].anchor,Y[ue].head,"drag");s.replaceSelection(q,"around","paste"),s.display.input.focus()}}catch{}}}}function sw(o,s){if(p&&(!o.state.draggingText||+new Date-Xg<100)){za(s);return}if(!(gt(o,s)||xo(o.display,s))&&(s.dataTransfer.setData("Text",o.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!I)){var d=Q("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(d.width=d.height=1,o.display.wrapper.appendChild(d),d._top=d.offsetTop),s.dataTransfer.setDragImage(d,0,0),C&&d.parentNode.removeChild(d)}}function Xd(o,s){var d=Yi(o,s);if(d){var f=document.createDocumentFragment();Zi(o,d,f),o.display.dragCursor||(o.display.dragCursor=Q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),J(o.display.dragCursor,f)}}function Vd(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Zc(o){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),d=[],f=0;f<s.length;f++){var g=s[f].CodeMirror;g&&d.push(g)}d.length&&d[0].operation(function(){for(var w=0;w<d.length;w++)o(d[w])})}}var Yg=!1;function Yd(){Yg||(Lt(),Yg=!0)}function Lt(){var o;Be(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Zc(lw)},100))}),Be(window,"blur",function(){return Zc(Za)})}function lw(o){var s=o.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,o.setSize()}for(var ha={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Eo=0;Eo<10;Eo++)ha[Eo+48]=ha[Eo+96]=String(Eo);for(var xu=65;xu<=90;xu++)ha[xu]=String.fromCharCode(xu);for(var bu=1;bu<=12;bu++)ha[bu+111]=ha[bu+63235]="F"+bu;var So={};So.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},So.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},So.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},So.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},So.default=j?So.macDefault:So.pcDefault;function ai(o){var s=o.split(/-(?!$)/);o=s[s.length-1];for(var d,f,g,w,E=0;E<s.length-1;E++){var k=s[E];if(/^(cmd|meta|m)$/i.test(k))w=!0;else if(/^a(lt)?$/i.test(k))d=!0;else if(/^(c|ctrl|control)$/i.test(k))f=!0;else if(/^s(hift)?$/i.test(k))g=!0;else throw new Error("Unrecognized modifier name: "+k)}return d&&(o="Alt-"+o),f&&(o="Ctrl-"+o),w&&(o="Cmd-"+o),g&&(o="Shift-"+o),o}function uw(o){var s={};for(var d in o)if(o.hasOwnProperty(d)){var f=o[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(f=="..."){delete o[d];continue}for(var g=yt(d.split(" "),ai),w=0;w<g.length;w++){var E=void 0,k=void 0;w==g.length-1?(k=g.join(" "),E=f):(k=g.slice(0,w+1).join(" "),E="...");var A=s[k];if(!A)s[k]=E;else if(A!=E)throw new Error("Inconsistent bindings for "+k)}delete o[d]}for(var R in s)o[R]=s[R];return o}function Co(o,s,d,f){s=ar(s);var g=s.call?s.call(o,f):s[o];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&d(g))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return Co(o,s.fallthrough,d,f);for(var w=0;w<s.fallthrough.length;w++){var E=Co(o,s.fallthrough[w],d,f);if(E)return E}}}function Jc(o){var s=typeof o=="string"?o:ha[o.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function Qd(o,s,d){var f=o;return s.altKey&&f!="Alt"&&(o="Alt-"+o),(re?s.metaKey:s.ctrlKey)&&f!="Ctrl"&&(o="Ctrl-"+o),(re?s.ctrlKey:s.metaKey)&&f!="Mod"&&(o="Cmd-"+o),!d&&s.shiftKey&&f!="Shift"&&(o="Shift-"+o),o}function Zd(o,s){if(C&&o.keyCode==34&&o.char)return!1;var d=ha[o.keyCode];return d==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(d=o.code),Qd(d,o,s))}function ar(o){return typeof o=="string"?So[o]:o}function Yr(o,s){for(var d=o.doc.sel.ranges,f=[],g=0;g<d.length;g++){for(var w=s(d[g]);f.length&&F(w.from,it(f).to)<=0;){var E=f.pop();if(F(E.from,w.from)<0){w.from=E.from;break}}f.push(w)}Qn(o,function(){for(var k=f.length-1;k>=0;k--)tl(o.doc,"",f[k].from,f[k].to,"+delete");ra(o)})}function Eu(o,s,d){var f=zn(o.text,s+d,d);return f<0||f>o.text.length?null:f}function ef(o,s,d){var f=Eu(o,s.ch,d);return f==null?null:new Me(s.line,f,d<0?"after":"before")}function ol(o,s,d,f,g){if(o){s.doc.direction=="rtl"&&(g=-g);var w=ge(d,s.doc.direction);if(w){var E=g<0?it(w):w[0],k=g<0==(E.level==1),A=k?"after":"before",R;if(E.level>0||s.doc.direction=="rtl"){var q=Ti(s,d);R=g<0?d.text.length-1:0;var Y=Vi(s,q,R).top;R=H(function(ue){return Vi(s,q,ue).top==Y},g<0==(E.level==1)?E.from:E.to-1,R),A=="before"&&(R=Eu(d,R,1))}else R=g<0?E.to:E.from;return new Me(f,R,A)}}return new Me(f,g<0?d.text.length:0,g<0?"before":"after")}function Qg(o,s,d,f){var g=ge(s,o.doc.direction);if(!g)return ef(s,d,f);d.ch>=s.text.length?(d.ch=s.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var w=K(g,d.ch,d.sticky),E=g[w];if(o.doc.direction=="ltr"&&E.level%2==0&&(f>0?E.to>d.ch:E.from<d.ch))return ef(s,d,f);var k=function(We,Ge){return Eu(s,We instanceof Me?We.ch:We,Ge)},A,R=function(We){return o.options.lineWrapping?(A=A||Ti(o,s),Se(o,s,A,We)):{begin:0,end:s.text.length}},q=R(d.sticky=="before"?k(d,-1):d.ch);if(o.doc.direction=="rtl"||E.level==1){var Y=E.level==1==f<0,ue=k(d,Y?1:-1);if(ue!=null&&(Y?ue<=E.to&&ue<=q.end:ue>=E.from&&ue>=q.begin)){var ae=Y?"before":"after";return new Me(d.line,ue,ae)}}var Ee=function(We,Ge,Ke){for(var Qe=function(Xt,_n){return _n?new Me(d.line,k(Xt,1),"before"):new Me(d.line,Xt,"after")};We>=0&&We<g.length;We+=Ge){var ot=g[We],rt=Ge>0==(ot.level!=1),Tt=rt?Ke.begin:k(Ke.end,-1);if(ot.from<=Tt&&Tt<ot.to||(Tt=rt?ot.from:k(ot.to,-1),Ke.begin<=Tt&&Tt<Ke.end))return Qe(Tt,rt)}},Ae=Ee(w+f,f,q);if(Ae)return Ae;var De=f>0?q.end:k(q.begin,-1);return De!=null&&!(f>0&&De==s.text.length)&&(Ae=Ee(f>0?0:g.length-1,f,R(De)),Ae)?Ae:null}var as={selectAll:Bg,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Ue)},killLine:function(o){return Yr(o,function(s){if(s.empty()){var d=et(o.doc,s.head.line).text.length;return s.head.ch==d&&s.head.line<o.lastLine()?{from:s.head,to:Me(s.head.line+1,0)}:{from:s.head,to:Me(s.head.line,d)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(o){return Yr(o,function(s){return{from:Me(s.from().line,0),to:Xe(o.doc,Me(s.to().line+1,0))}})},delLineLeft:function(o){return Yr(o,function(s){return{from:Me(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(o){return Yr(o,function(s){var d=o.charCoords(s.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return{from:f,to:s.from()}})},delWrappedLineRight:function(o){return Yr(o,function(s){var d=o.charCoords(s.head,"div").top+5,f=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div");return{from:s.from(),to:f}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(Me(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(Me(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(s){return Jd(o,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(s){return tf(o,s.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(s){return eh(o,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div")},Ye)},goLineLeft:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:0,top:d},"div")},Ye)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(s){var d=o.cursorCoords(s.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return f.ch<o.getLine(f.line).search(/\S/)?tf(o,s.head):f},Ye)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var s=[],d=o.listSelections(),f=o.options.tabSize,g=0;g<d.length;g++){var w=d[g].from(),E=ne(o.getLine(w.line),w.ch,f);s.push(Ft(f-E%f))}o.replaceSelections(s)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Qn(o,function(){for(var s=o.listSelections(),d=[],f=0;f<s.length;f++)if(s[f].empty()){var g=s[f].head,w=et(o.doc,g.line).text;if(w){if(g.ch==w.length&&(g=new Me(g.line,g.ch-1)),g.ch>0)g=new Me(g.line,g.ch+1),o.replaceRange(w.charAt(g.ch-1)+w.charAt(g.ch-2),Me(g.line,g.ch-2),g,"+transpose");else if(g.line>o.doc.first){var E=et(o.doc,g.line-1).text;E&&(g=new Me(g.line,1),o.replaceRange(w.charAt(0)+o.doc.lineSeparator()+E.charAt(E.length-1),Me(g.line-1,E.length-1),g,"+transpose"))}}d.push(new Wt(g,g))}o.setSelections(d)})},newlineAndIndent:function(o){return Qn(o,function(){for(var s=o.listSelections(),d=s.length-1;d>=0;d--)o.replaceRange(o.doc.lineSeparator(),s[d].anchor,s[d].head,"+input");s=o.listSelections();for(var f=0;f<s.length;f++)o.indentLine(s[f].from().line,null,!0);ra(o)})},openLine:function(o){return o.replaceSelection("\n","start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Jd(o,s){var d=et(o.doc,s),f=Ci(d);return f!=d&&(s=Ut(f)),ol(!0,o,f,s,1)}function eh(o,s){var d=et(o.doc,s),f=R0(d);return f!=d&&(s=Ut(f)),ol(!0,o,d,s,-1)}function tf(o,s){var d=Jd(o,s.line),f=et(o.doc,d.line),g=ge(f,o.doc.direction);if(!g||g[0].level==0){var w=Math.max(d.ch,f.text.search(/\S/)),E=s.line==d.line&&s.ch<=w&&s.ch;return Me(d.line,E?0:w,d.sticky)}return d}function Oi(o,s,d){if(typeof s=="string"&&(s=as[s],!s))return!1;o.display.input.ensurePolled();var f=o.display.shift,g=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),d&&(o.display.shift=!1),g=s(o)!=Ne}finally{o.display.shift=f,o.state.suppressEdits=!1}return g}function cw(o,s,d){for(var f=0;f<o.state.keyMaps.length;f++){var g=Co(s,o.state.keyMaps[f],d,o);if(g)return g}return o.options.extraKeys&&Co(s,o.options.extraKeys,d,o)||Co(s,o.options.keyMap,d,o)}var pa=new le;function al(o,s,d,f){var g=o.state.keySeq;if(g){if(Jc(s))return"handled";if(/\'$/.test(s)?o.state.keySeq=null:pa.set(50,function(){o.state.keySeq==g&&(o.state.keySeq=null,o.display.input.reset())}),th(o,g+" "+s,d,f))return!0}return th(o,s,d,f)}function th(o,s,d,f){var g=cw(o,s,f);return g=="multi"&&(o.state.keySeq=s),g=="handled"&&In(o,"keyHandled",o,s,d),(g=="handled"||g=="multi")&&(Un(d),Ks(o)),!!g}function nf(o,s){var d=Zd(s,!0);return d?s.shiftKey&&!o.state.keySeq?al(o,"Shift-"+d,s,function(f){return Oi(o,f,!0)})||al(o,d,s,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Oi(o,f)}):al(o,d,s,function(f){return Oi(o,f)}):!1}function fw(o,s,d){return al(o,"'"+d+"'",s,function(f){return Oi(o,f,!0)})}var nh=null;function Zg(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&(s.curOp.focus=ye(),!gt(s,o))){p&&v<11&&o.keyCode==27&&(o.returnValue=!1);var d=o.keyCode;s.display.shift=d==16||o.shiftKey;var f=nf(s,o);C&&(nh=f?d:null,!f&&d==88&&!mc&&(j?o.metaKey:o.ctrlKey)&&s.replaceSelection("",null,"cut")),i&&!j&&!f&&d==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&Jg(s)}}function Jg(o){var s=o.display.lineDiv;me(s,"CodeMirror-crosshair");function d(f){(f.keyCode==18||!f.altKey)&&(xe(s,"CodeMirror-crosshair"),Ct(document,"keyup",d),Ct(document,"mouseover",d))}Be(document,"keyup",d),Be(document,"mouseover",d)}function rh(o){o.keyCode==16&&(this.doc.sel.shift=!1),gt(this,o)}function ev(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&!(xo(s.display,o)||gt(s,o)||o.ctrlKey&&!o.altKey||j&&o.metaKey)){var d=o.keyCode,f=o.charCode;if(C&&d==nh){nh=null,Un(o);return}if(!(C&&(!o.which||o.which<10)&&nf(s,o))){var g=String.fromCharCode(f==null?d:f);g!="\b"&&(fw(s,o,g)||s.display.input.onKeyPress(o))}}}var tv=400,rf=function(o,s,d){this.time=o,this.pos=s,this.button=d};rf.prototype.compare=function(o,s,d){return this.time+tv>o&&F(s,this.pos)==0&&d==this.button};var Gn,Rr;function dw(o,s){var d=+new Date;return Rr&&Rr.compare(d,o,s)?(Gn=Rr=null,"triple"):Gn&&Gn.compare(d,o,s)?(Rr=new rf(d,o,s),Gn=null,"double"):(Gn=new rf(d,o,s),Rr=null,"single")}function nv(o){var s=this,d=s.display;if(!(gt(s,o)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=o.shiftKey,xo(d,o)){m||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!ih(s,o)){var f=Yi(s,o),g=ql(o),w=f?dw(f,g):"single";window.focus(),g==1&&s.state.selectingText&&s.state.selectingText(o),!(f&&of(s,g,f,w,o))&&(g==1?f?rv(s,f,w,o):Wo(o)==d.scroller&&Un(o):g==2?(f&&Wc(s.doc,f),setTimeout(function(){return d.input.focus()},20)):g==3&&(fe?s.display.input.onContextMenu(o):Fc(s)))}}}function of(o,s,d,f,g){var w="Click";return f=="double"?w="Double"+w:f=="triple"&&(w="Triple"+w),w=(s==1?"Left":s==2?"Middle":"Right")+w,al(o,Qd(w,g),g,function(E){if(typeof E=="string"&&(E=as[E]),!E)return!1;var k=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),k=E(o,d)!=Ne}finally{o.state.suppressEdits=!1}return k})}function sl(o,s,d){var f=o.getOption("configureMouse"),g=f?f(o,s,d):{};if(g.unit==null){var w=U?d.shiftKey&&d.metaKey:d.altKey;g.unit=w?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(g.extend==null||o.doc.extend)&&(g.extend=o.doc.extend||d.shiftKey),g.addNew==null&&(g.addNew=j?d.metaKey:d.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(j?d.altKey:d.ctrlKey)),g}function rv(o,s,d,f){p?setTimeout(oe(Id,o),0):o.curOp.focus=ye();var g=sl(o,d,f),w=o.doc.sel,E;o.options.dragDrop&&Xl&&!o.isReadOnly()&&d=="single"&&(E=w.contains(s))>-1&&(F((E=w.ranges[E]).from(),s)<0||s.xRel>0)&&(F(E.to(),s)>0||s.xRel<0)?iv(o,f,s,g):av(o,f,s,g)}function iv(o,s,d,f){var g=o.display,w=!1,E=pn(o,function(R){m&&(g.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:Fc(o)),Ct(g.wrapper.ownerDocument,"mouseup",E),Ct(g.wrapper.ownerDocument,"mousemove",k),Ct(g.scroller,"dragstart",A),Ct(g.scroller,"drop",E),w||(Un(R),f.addNew||Wc(o.doc,d,null,null,f.extend),m&&!I||p&&v==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),k=function(R){w=w||Math.abs(s.clientX-R.clientX)+Math.abs(s.clientY-R.clientY)>=10},A=function(){return w=!0};m&&(g.scroller.draggable=!0),o.state.draggingText=E,E.copy=!f.moveOnDrag,Be(g.wrapper.ownerDocument,"mouseup",E),Be(g.wrapper.ownerDocument,"mousemove",k),Be(g.scroller,"dragstart",A),Be(g.scroller,"drop",E),o.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function ov(o,s,d){if(d=="char")return new Wt(s,s);if(d=="word")return o.findWordAt(s);if(d=="line")return new Wt(Me(s.line,0),Xe(o.doc,Me(s.line+1,0)));var f=d(o,s);return new Wt(f.from,f.to)}function av(o,s,d,f){p&&Fc(o);var g=o.display,w=o.doc;Un(s);var E,k,A=w.sel,R=A.ranges;if(f.addNew&&!f.extend?(k=w.sel.contains(d),k>-1?E=R[k]:E=new Wt(d,d)):(E=w.sel.primary(),k=w.sel.primIndex),f.unit=="rectangle")f.addNew||(E=new Wt(d,d)),d=Yi(o,s,!0,!0),k=-1;else{var q=ov(o,d,f.unit);f.extend?E=Uc(E,q.anchor,q.head,f.extend):E=q}f.addNew?k==-1?(k=R.length,Wn(w,er(o,R.concat([E]),k),{scroll:!1,origin:"*mouse"})):R.length>1&&R[k].empty()&&f.unit=="char"&&!f.extend?(Wn(w,er(o,R.slice(0,k).concat(R.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),A=w.sel):Kd(w,k,E,nt):(k=0,Wn(w,new qr([E],0),nt),A=w.sel);var Y=d;function ue(Ke){if(F(Y,Ke)!=0)if(Y=Ke,f.unit=="rectangle"){for(var Qe=[],ot=o.options.tabSize,rt=ne(et(w,d.line).text,d.ch,ot),Tt=ne(et(w,Ke.line).text,Ke.ch,ot),Xt=Math.min(rt,Tt),_n=Math.max(rt,Tt),en=Math.min(d.line,Ke.line),lr=Math.min(o.lastLine(),Math.max(d.line,Ke.line));en<=lr;en++){var ur=et(w,en).text,wn=wt(ur,Xt,ot);Xt==_n?Qe.push(new Wt(Me(en,wn),Me(en,wn))):ur.length>wn&&Qe.push(new Wt(Me(en,wn),Me(en,wt(ur,_n,ot))))}Qe.length||Qe.push(new Wt(d,d)),Wn(w,er(o,A.ranges.slice(0,k).concat(Qe),k),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Ke)}else{var qn=E,Mn=ov(o,Ke,f.unit),Zt=qn.anchor,rn;F(Mn.anchor,Zt)>0?(rn=Mn.head,Zt=ht(qn.from(),Mn.anchor)):(rn=Mn.anchor,Zt=je(qn.to(),Mn.head));var gn=A.ranges.slice(0);gn[k]=ll(o,new Wt(Xe(w,Zt),rn)),Wn(w,er(o,gn,k),nt)}}var ae=g.wrapper.getBoundingClientRect(),Ee=0;function Ae(Ke){var Qe=++Ee,ot=Yi(o,Ke,!0,f.unit=="rectangle");if(ot)if(F(ot,Y)!=0){o.curOp.focus=ye(),ue(ot);var rt=Ja(g,w);(ot.line>=rt.to||ot.line<rt.from)&&setTimeout(pn(o,function(){Ee==Qe&&Ae(Ke)}),150)}else{var Tt=Ke.clientY<ae.top?-20:Ke.clientY>ae.bottom?20:0;Tt&&setTimeout(pn(o,function(){Ee==Qe&&(g.scroller.scrollTop+=Tt,Ae(Ke))}),50)}}function De(Ke){o.state.selectingText=!1,Ee=1/0,Ke&&(Un(Ke),g.input.focus()),Ct(g.wrapper.ownerDocument,"mousemove",We),Ct(g.wrapper.ownerDocument,"mouseup",Ge),w.history.lastSelOrigin=null}var We=pn(o,function(Ke){Ke.buttons===0||!ql(Ke)?De(Ke):Ae(Ke)}),Ge=pn(o,De);o.state.selectingText=Ge,Be(g.wrapper.ownerDocument,"mousemove",We),Be(g.wrapper.ownerDocument,"mouseup",Ge)}function ll(o,s){var d=s.anchor,f=s.head,g=et(o.doc,d.line);if(F(d,f)==0&&d.sticky==f.sticky)return s;var w=ge(g);if(!w)return s;var E=K(w,d.ch,d.sticky),k=w[E];if(k.from!=d.ch&&k.to!=d.ch)return s;var A=E+(k.from==d.ch==(k.level!=1)?0:1);if(A==0||A==w.length)return s;var R;if(f.line!=d.line)R=(f.line-d.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var q=K(w,f.ch,f.sticky),Y=q-E||(f.ch-d.ch)*(k.level==1?-1:1);q==A-1||q==A?R=Y<0:R=Y>0}var ue=w[A+(R?-1:0)],ae=R==(ue.level==1),Ee=ae?ue.from:ue.to,Ae=ae?"after":"before";return d.ch==Ee&&d.sticky==Ae?s:new Wt(new Me(d.line,Ee,Ae),f)}function ul(o,s,d,f){var g,w;if(s.touches)g=s.touches[0].clientX,w=s.touches[0].clientY;else try{g=s.clientX,w=s.clientY}catch{return!1}if(g>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;f&&Un(s);var E=o.display,k=E.lineDiv.getBoundingClientRect();if(w>k.bottom||!Hn(o,d))return Hr(s);w-=k.top-E.viewOffset;for(var A=0;A<o.display.gutterSpecs.length;++A){var R=E.gutters.childNodes[A];if(R&&R.getBoundingClientRect().right>=g){var q=Ei(o.doc,w),Y=o.display.gutterSpecs[A];return Ve(o,d,o,q,Y.className,s),Hr(s)}}}function ih(o,s){return ul(o,s,"gutterClick",!0)}function oh(o,s){xo(o.display,s)||sv(o,s)||gt(o,s,"contextmenu")||fe||o.display.input.onContextMenu(s)}function sv(o,s){return Hn(o,"gutterContextMenu")?ul(o,s,"gutterContextMenu",!1):!1}function Su(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),au(o)}var ss={toString:function(){return"CodeMirror.Init"}},Cu={},cl={};function af(o){var s=o.optionHandlers;function d(f,g,w,E){o.defaults[f]=g,w&&(s[f]=E?function(k,A,R){R!=ss&&w(k,A,R)}:w)}o.defineOption=d,o.Init=ss,d("value","",function(f,g){return f.setValue(g)},!0),d("mode",null,function(f,g){f.doc.modeOption=g,Bd(f)},!0),d("indentUnit",2,Bd,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(f){pu(f),au(f),bt(f)},!0),d("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var w=[],E=f.doc.first;f.doc.iter(function(A){for(var R=0;;){var q=A.text.indexOf(g,R);if(q==-1)break;R=q+g.length,w.push(Me(E,q))}E++});for(var k=w.length-1;k>=0;k--)tl(f.doc,g,w[k],Me(w[k].line,w[k].ch+g.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,g,w){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),w!=ss&&f.refresh()}),d("specialCharPlaceholder",Gr,function(f){return f.refresh()},!0),d("electricChars",!0),d("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),d("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),d("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),d("rtlMoveVisually",!X),d("wholeLineUpdateBefore",!0),d("theme","default",function(f){Su(f),hu(f)},!0),d("keyMap","default",function(f,g,w){var E=ar(g),k=w!=ss&&ar(w);k&&k.detach&&k.detach(f,E),E.attach&&E.attach(f,k||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,lv,!0),d("gutters",[],function(f,g){f.display.gutterSpecs=$d(g,f.options.lineNumbers),hu(f)},!0),d("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Ws(f.display)+"px":"0",f.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(f){return oa(f)},!0),d("scrollbarStyle","native",function(f){ts(f),oa(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),d("lineNumbers",!1,function(f,g){f.display.gutterSpecs=$d(f.options.gutters,g),hu(f)},!0),d("firstLineNumber",1,hu,!0),d("lineNumberFormatter",function(f){return f},hu,!0),d("showCursorWhenSelecting",!1,su,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(f,g){g=="nocursor"&&(Za(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),d("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),d("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),d("dragDrop",!0,hw),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,su,!0),d("singleCursorHeightPerLine",!0,su,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,pu,!0),d("addModeClass",!1,pu,!0),d("pollInterval",100),d("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),d("historyEventDelay",1250),d("viewportMargin",10,function(f){return f.refresh()},!0),d("maxHighlightLength",1e4,pu,!0),d("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),d("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),d("autofocus",null),d("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),d("phrases",null)}function hw(o,s,d){var f=d&&d!=ss;if(!s!=!f){var g=o.display.dragFunctions,w=s?Be:Ct;w(o.display.scroller,"dragstart",g.start),w(o.display.scroller,"dragenter",g.enter),w(o.display.scroller,"dragover",g.over),w(o.display.scroller,"dragleave",g.leave),w(o.display.scroller,"drop",g.drop)}}function lv(o){o.options.lineWrapping?(me(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(xe(o.display.wrapper,"CodeMirror-wrap"),ru(o)),Jo(o),bt(o),au(o),setTimeout(function(){return oa(o)},100)}function Jt(o,s){var d=this;if(!(this instanceof Jt))return new Jt(o,s);this.options=s=s?we(s):{},we(Cu,s,!1);var f=s.value;typeof f=="string"?f=new or(f,s.mode,null,s.lineSeparator,s.direction):s.mode&&(f.modeOption=s.mode),this.doc=f;var g=new Jt.inputStyles[s.inputStyle](this),w=this.display=new tw(o,f,g,s);w.wrapper.CodeMirror=this,Su(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ts(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new le,keySeq:null,specialChars:null},s.autofocus&&!B&&w.input.focus(),p&&v<11&&setTimeout(function(){return d.display.input.reset(!0)},20),uv(this),Yd(),_i(this),this.curOp.forceUpdate=!0,Fg(this,f),s.autofocus&&!B||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&Gs(d)},20):Za(this);for(var E in cl)cl.hasOwnProperty(E)&&cl[E](this,s[E],ss);to(this),s.finishInit&&s.finishInit(this);for(var k=0;k<Tu.length;++k)Tu[k](this);Ji(this),m&&s.lineWrapping&&getComputedStyle(w.lineDiv).textRendering=="optimizelegibility"&&(w.lineDiv.style.textRendering="auto")}Jt.defaults=Cu,Jt.optionHandlers=cl;function uv(o){var s=o.display;Be(s.scroller,"mousedown",pn(o,nv)),p&&v<11?Be(s.scroller,"dblclick",pn(o,function(A){if(!gt(o,A)){var R=Yi(o,A);if(!(!R||ih(o,A)||xo(o.display,A))){Un(A);var q=o.findWordAt(R);Wc(o.doc,q.anchor,q.head)}}})):Be(s.scroller,"dblclick",function(A){return gt(o,A)||Un(A)}),Be(s.scroller,"contextmenu",function(A){return oh(o,A)}),Be(s.input.getField(),"contextmenu",function(A){s.scroller.contains(A.target)||oh(o,A)});var d,f={end:0};function g(){s.activeTouch&&(d=setTimeout(function(){return s.activeTouch=null},1e3),f=s.activeTouch,f.end=+new Date)}function w(A){if(A.touches.length!=1)return!1;var R=A.touches[0];return R.radiusX<=1&&R.radiusY<=1}function E(A,R){if(R.left==null)return!0;var q=R.left-A.left,Y=R.top-A.top;return q*q+Y*Y>20*20}Be(s.scroller,"touchstart",function(A){if(!gt(o,A)&&!w(A)&&!ih(o,A)){s.input.ensurePolled(),clearTimeout(d);var R=+new Date;s.activeTouch={start:R,moved:!1,prev:R-f.end<=300?f:null},A.touches.length==1&&(s.activeTouch.left=A.touches[0].pageX,s.activeTouch.top=A.touches[0].pageY)}}),Be(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Be(s.scroller,"touchend",function(A){var R=s.activeTouch;if(R&&!xo(s,A)&&R.left!=null&&!R.moved&&new Date-R.start<300){var q=o.coordsChar(s.activeTouch,"page"),Y;!R.prev||E(R,R.prev)?Y=new Wt(q,q):!R.prev.prev||E(R,R.prev.prev)?Y=o.findWordAt(q):Y=new Wt(Me(q.line,0),Xe(o.doc,Me(q.line+1,0))),o.setSelection(Y.anchor,Y.head),o.focus(),Un(A)}g()}),Be(s.scroller,"touchcancel",g),Be(s.scroller,"scroll",function(){s.scroller.clientHeight&&(hn(o,s.scroller.scrollTop),es(o,s.scroller.scrollLeft,!0),Ve(o,"scroll",o))}),Be(s.scroller,"mousewheel",function(A){return Rg(o,A)}),Be(s.scroller,"DOMMouseScroll",function(A){return Rg(o,A)}),Be(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(A){gt(o,A)||za(A)},over:function(A){gt(o,A)||(Xd(o,A),za(A))},start:function(A){return sw(o,A)},drop:pn(o,Vg),leave:function(A){gt(o,A)||Vd(o)}};var k=s.input.getField();Be(k,"keyup",function(A){return rh.call(o,A)}),Be(k,"keydown",pn(o,Zg)),Be(k,"keypress",pn(o,ev)),Be(k,"focus",function(A){return Gs(o,A)}),Be(k,"blur",function(A){return Za(o,A)})}var Tu=[];Jt.defineInitHook=function(o){return Tu.push(o)};function ku(o,s,d,f){var g=o.doc,w;d==null&&(d="add"),d=="smart"&&(g.mode.indent?w=Bs(o,s).state:d="prev");var E=o.options.tabSize,k=et(g,s),A=ne(k.text,null,E);k.stateAfter&&(k.stateAfter=null);var R=k.text.match(/^\s*/)[0],q;if(!f&&!/\S/.test(k.text))q=0,d="not";else if(d=="smart"&&(q=g.mode.indent(w,k.text.slice(R.length),k.text),q==Ne||q>150)){if(!f)return;d="prev"}d=="prev"?s>g.first?q=ne(et(g,s-1).text,null,E):q=0:d=="add"?q=A+o.options.indentUnit:d=="subtract"?q=A-o.options.indentUnit:typeof d=="number"&&(q=A+d),q=Math.max(0,q);var Y="",ue=0;if(o.options.indentWithTabs)for(var ae=Math.floor(q/E);ae;--ae)ue+=E,Y+="	";if(ue<q&&(Y+=Ft(q-ue)),Y!=R)return tl(g,Y,Me(s,0),Me(s,R.length),"+input"),k.stateAfter=null,!0;for(var Ee=0;Ee<g.sel.ranges.length;Ee++){var Ae=g.sel.ranges[Ee];if(Ae.head.line==s&&Ae.head.ch<R.length){var De=Me(s,R.length);Kd(g,Ee,new Wt(De,De));break}}}var si=null;function li(o){si=o}function sf(o,s,d,f,g){var w=o.doc;o.display.shift=!1,f||(f=w.sel);var E=+new Date-200,k=g=="paste"||o.state.pasteIncoming>E,A=Ua(s),R=null;if(k&&f.ranges.length>1)if(si&&si.text.join("\n")==s){if(f.ranges.length%si.text.length==0){R=[];for(var q=0;q<si.text.length;q++)R.push(w.splitLines(si.text[q]))}}else A.length==f.ranges.length&&o.options.pasteLinesPerSelection&&(R=yt(A,function(We){return[We]}));for(var Y=o.curOp.updateInput,ue=f.ranges.length-1;ue>=0;ue--){var ae=f.ranges[ue],Ee=ae.from(),Ae=ae.to();ae.empty()&&(d&&d>0?Ee=Me(Ee.line,Ee.ch-d):o.state.overwrite&&!k?Ae=Me(Ae.line,Math.min(et(w,Ae.line).text.length,Ae.ch+it(A).length)):k&&si&&si.lineWise&&si.text.join("\n")==A.join("\n")&&(Ee=Ae=Me(Ee.line,0)));var De={from:Ee,to:Ae,text:R?R[ue%R.length]:A,origin:g||(k?"paste":o.state.cutIncoming>E?"cut":"+input")};Zs(o.doc,De),In(o,"inputRead",o,De)}s&&!k&&cv(o,s),ra(o),o.curOp.updateInput<2&&(o.curOp.updateInput=Y),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function ah(o,s){var d=o.clipboardData&&o.clipboardData.getData("Text");if(d)return o.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&Qn(s,function(){return sf(s,d,0,null,"paste")}),!0}function cv(o,s){if(!(!o.options.electricChars||!o.options.smartIndent))for(var d=o.doc.sel,f=d.ranges.length-1;f>=0;f--){var g=d.ranges[f];if(!(g.head.ch>100||f&&d.ranges[f-1].head.line==g.head.line)){var w=o.getModeAt(g.head),E=!1;if(w.electricChars){for(var k=0;k<w.electricChars.length;k++)if(s.indexOf(w.electricChars.charAt(k))>-1){E=ku(o,g.head.line,"smart");break}}else w.electricInput&&w.electricInput.test(et(o.doc,g.head.line).text.slice(0,g.head.ch))&&(E=ku(o,g.head.line,"smart"));E&&In(o,"electricInput",o,g.head.line)}}}function sh(o){for(var s=[],d=[],f=0;f<o.doc.sel.ranges.length;f++){var g=o.doc.sel.ranges[f].head.line,w={anchor:Me(g,0),head:Me(g+1,0)};d.push(w),s.push(o.getRange(w.anchor,w.head))}return{text:s,ranges:d}}function fv(o,s,d,f){o.setAttribute("autocorrect",d?"":"off"),o.setAttribute("autocapitalize",f?"":"off"),o.setAttribute("spellcheck",!!s)}function dv(){var o=Q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=Q("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?o.style.width="1000px":o.setAttribute("wrap","off"),L&&(o.style.border="1px solid black"),fv(o),s}function To(o){var s=o.optionHandlers,d=o.helpers={};o.prototype={constructor:o,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,g){var w=this.options,E=w[f];w[f]==g&&f!="mode"||(w[f]=g,s.hasOwnProperty(f)&&pn(this,s[f])(this,g,E),Ve(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](ar(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,w=0;w<g.length;++w)if(g[w]==f||g[w].name==f)return g.splice(w,1),!0},addOverlay:Zn(function(f,g){var w=f.token?f:o.getMode(this.options,f);if(w.startState)throw new Error("Overlays may not be stateful.");Ot(this.state.overlays,{mode:w,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(E){return E.priority}),this.state.modeGen++,bt(this)}),removeOverlay:Zn(function(f){for(var g=this.state.overlays,w=0;w<g.length;++w){var E=g[w].modeSpec;if(E==f||typeof f=="string"&&E.name==f){g.splice(w,1),this.state.modeGen++,bt(this);return}}}),indentLine:Zn(function(f,g,w){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),Go(this.doc,f)&&ku(this,f,g,w)}),indentSelection:Zn(function(f){for(var g=this.doc.sel.ranges,w=-1,E=0;E<g.length;E++){var k=g[E];if(k.empty())k.head.line>w&&(ku(this,k.head.line,f,!0),w=k.head.line,E==this.doc.sel.primIndex&&ra(this));else{var A=k.from(),R=k.to(),q=Math.max(w,A.line);w=Math.min(this.lastLine(),R.line-(R.ch?0:1))+1;for(var Y=q;Y<w;++Y)ku(this,Y,f);var ue=this.doc.sel.ranges;A.ch==0&&g.length==ue.length&&ue[E].from().ch>0&&Kd(this.doc,E,new Wt(A,ue[E].to()),Ue)}}}),getTokenAt:function(f,g){return bc(this,f,g)},getLineTokens:function(f,g){return bc(this,Me(f),g,!0)},getTokenTypeAt:function(f){f=Xe(this.doc,f);var g=md(this,et(this.doc,f.line)),w=0,E=(g.length-1)/2,k=f.ch,A;if(k==0)A=g[2];else for(;;){var R=w+E>>1;if((R?g[R*2-1]:0)>=k)E=R;else if(g[R*2+1]<k)w=R+1;else{A=g[R*2+2];break}}var q=A?A.indexOf("overlay "):-1;return q<0?A:q==0?null:A.slice(0,q-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?o.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var w=[];if(!d.hasOwnProperty(g))return w;var E=d[g],k=this.getModeAt(f);if(typeof k[g]=="string")E[k[g]]&&w.push(E[k[g]]);else if(k[g])for(var A=0;A<k[g].length;A++){var R=E[k[g][A]];R&&w.push(R)}else k.helperType&&E[k.helperType]?w.push(E[k.helperType]):E[k.name]&&w.push(E[k.name]);for(var q=0;q<E._global.length;q++){var Y=E._global[q];Y.pred(k,this)&&pe(w,Y.val)==-1&&w.push(Y.val)}return w},getStateAfter:function(f,g){var w=this.doc;return f=It(w,f==null?w.first+w.size-1:f),Bs(this,f+1,g).state},cursorCoords:function(f,g){var w,E=this.doc.sel.primary();return f==null?w=E.head:typeof f=="object"?w=Xe(this.doc,f):w=f?E.from():E.to(),ki(this,w,g||"page")},charCoords:function(f,g){return Mc(this,Xe(this.doc,f),g||"page")},coordsChar:function(f,g){return f=Cg(this,f,g||"page"),ce(this,f.left,f.top)},lineAtHeight:function(f,g){return f=Cg(this,{top:f,left:0},g||"page").top,Ei(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,w){var E=!1,k;if(typeof f=="number"){var A=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>A&&(f=A,E=!0),k=et(this.doc,f)}else k=f;return Rc(this,k,{top:0,left:0},g||"page",w||E).top+(E?this.doc.height-Er(k):0)},defaultTextHeight:function(){return Zo(this.display)},defaultCharWidth:function(){return Us(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,w,E,k){var A=this.display;f=ki(this,Xe(this.doc,f));var R=f.bottom,q=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),A.sizer.appendChild(g),E=="over")R=f.top;else if(E=="above"||E=="near"){var Y=Math.max(A.wrapper.clientHeight,this.doc.height),ue=Math.max(A.sizer.clientWidth,A.lineSpace.clientWidth);(E=="above"||f.bottom+g.offsetHeight>Y)&&f.top>g.offsetHeight?R=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=Y&&(R=f.bottom),q+g.offsetWidth>ue&&(q=ue-g.offsetWidth)}g.style.top=R+"px",g.style.left=g.style.right="",k=="right"?(q=A.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(k=="left"?q=0:k=="middle"&&(q=(A.sizer.clientWidth-g.offsetWidth)/2),g.style.left=q+"px"),w&&G0(this,{left:q,top:R,right:q+g.offsetWidth,bottom:R+g.offsetHeight})},triggerOnKeyDown:Zn(Zg),triggerOnKeyPress:Zn(ev),triggerOnKeyUp:rh,triggerOnMouseDown:Zn(nv),execCommand:function(f){if(as.hasOwnProperty(f))return as[f].call(null,this)},triggerElectric:Zn(function(f){cv(this,f)}),findPosH:function(f,g,w,E){var k=1;g<0&&(k=-1,g=-g);for(var A=Xe(this.doc,f),R=0;R<g&&(A=_u(this.doc,A,k,w,E),!A.hitSide);++R);return A},moveH:Zn(function(f,g){var w=this;this.extendSelectionsBy(function(E){return w.display.shift||w.doc.extend||E.empty()?_u(w.doc,E.head,f,g,w.options.rtlMoveVisually):f<0?E.from():E.to()},Ye)}),deleteH:Zn(function(f,g){var w=this.doc.sel,E=this.doc;w.somethingSelected()?E.replaceSelection("",null,"+delete"):Yr(this,function(k){var A=_u(E,k.head,f,g,!1);return f<0?{from:A,to:k.head}:{from:k.head,to:A}})}),findPosV:function(f,g,w,E){var k=1,A=E;g<0&&(k=-1,g=-g);for(var R=Xe(this.doc,f),q=0;q<g;++q){var Y=ki(this,R,"div");if(A==null?A=Y.left:Y.left=A,R=lf(this,Y,k,w),R.hitSide)break}return R},moveV:Zn(function(f,g){var w=this,E=this.doc,k=[],A=!this.display.shift&&!E.extend&&E.sel.somethingSelected();if(E.extendSelectionsBy(function(q){if(A)return f<0?q.from():q.to();var Y=ki(w,q.head,"div");q.goalColumn!=null&&(Y.left=q.goalColumn),k.push(Y.left);var ue=lf(w,Y,f,g);return g=="page"&&q==E.sel.primary()&&Xs(w,Mc(w,ue,"div").top-Y.top),ue},Ye),k.length)for(var R=0;R<E.sel.ranges.length;R++)E.sel.ranges[R].goalColumn=k[R]}),findWordAt:function(f){var g=this.doc,w=et(g,f.line).text,E=f.ch,k=f.ch;if(w){var A=this.getHelper(f,"wordChars");(f.sticky=="before"||k==w.length)&&E?--E:++k;for(var R=w.charAt(E),q=de(R,A)?function(Y){return de(Y,A)}:/\s/.test(R)?function(Y){return/\s/.test(Y)}:function(Y){return!/\s/.test(Y)&&!de(Y)};E>0&&q(w.charAt(E-1));)--E;for(;k<w.length&&q(w.charAt(k));)++k}return new Wt(Me(f.line,E),Me(f.line,k))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?me(this.display.cursorDiv,"CodeMirror-overwrite"):xe(this.display.cursorDiv,"CodeMirror-overwrite"),Ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ye()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Zn(function(f,g){uu(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Nr(this)-this.display.barHeight,width:f.scrollWidth-Nr(this)-this.display.barWidth,clientHeight:Pc(this),clientWidth:Vo(this)}},scrollIntoView:Zn(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Me(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?Lg(this,f):Pg(this,f.from,f.to,f.margin)}),setSize:Zn(function(f,g){var w=this,E=function(A){return typeof A=="number"||/^\d+$/.test(String(A))?A+"px":A};f!=null&&(this.display.wrapper.style.width=E(f)),g!=null&&(this.display.wrapper.style.height=E(g)),this.options.lineWrapping&&Sg(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(A){if(A.widgets){for(var R=0;R<A.widgets.length;R++)if(A.widgets[R].noHScroll){ea(w,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,Ve(this,"refresh",this)}),operation:function(f){return Qn(this,f)},startOperation:function(){return _i(this)},endOperation:function(){return Ji(this)},refresh:Zn(function(){var f=this.display.cachedTextHeight;bt(this),this.curOp.forceUpdate=!0,au(this),uu(this,this.doc.scrollLeft,this.doc.scrollTop),Fd(this.display),(f==null||Math.abs(f-Zo(this.display))>.5||this.options.lineWrapping)&&Jo(this),Ve(this,"refresh",this)}),swapDoc:Zn(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Fg(this,f),au(this),this.display.input.reset(),uu(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,In(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wi(o),o.registerHelper=function(f,g,w){d.hasOwnProperty(f)||(d[f]=o[f]={_global:[]}),d[f][g]=w},o.registerGlobalHelper=function(f,g,w,E){o.registerHelper(f,g,E),d[f]._global.push({pred:w,val:E})}}function _u(o,s,d,f,g){var w=s,E=d,k=et(o,s.line),A=g&&o.direction=="rtl"?-d:d;function R(){var Ge=s.line+A;return Ge<o.first||Ge>=o.first+o.size?!1:(s=new Me(Ge,s.ch,s.sticky),k=et(o,Ge))}function q(Ge){var Ke;if(f=="codepoint"){var Qe=k.text.charCodeAt(s.ch+(d>0?0:-1));if(isNaN(Qe))Ke=null;else{var ot=d>0?Qe>=55296&&Qe<56320:Qe>=56320&&Qe<57343;Ke=new Me(s.line,Math.max(0,Math.min(k.text.length,s.ch+d*(ot?2:1))),-d)}}else g?Ke=Qg(o.cm,k,s,d):Ke=ef(k,s,d);if(Ke==null)if(!Ge&&R())s=ol(g,o.cm,k,s.line,A);else return!1;else s=Ke;return!0}if(f=="char"||f=="codepoint")q();else if(f=="column")q(!0);else if(f=="word"||f=="group")for(var Y=null,ue=f=="group",ae=o.cm&&o.cm.getHelper(s,"wordChars"),Ee=!0;!(d<0&&!q(!Ee));Ee=!1){var Ae=k.text.charAt(s.ch)||"\n",De=de(Ae,ae)?"w":ue&&Ae=="\n"?"n":!ue||/\s/.test(Ae)?null:"p";if(ue&&!Ee&&!De&&(De="s"),Y&&Y!=De){d<0&&(d=1,q(),s.sticky="after");break}if(De&&(Y=De),d>0&&!q(!Ee))break}var We=Kn(o,s,w,E,!0);return Z(w,We)&&(We.hitSide=!0),We}function lf(o,s,d,f){var g=o.doc,w=s.left,E;if(f=="page"){var k=Math.min(o.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),A=Math.max(k-.5*Zo(o.display),3);E=(d>0?s.bottom:s.top)+d*A}else f=="line"&&(E=d>0?s.bottom+3:s.top-3);for(var R;R=ce(o,w,E),!!R.outside;){if(d<0?E<=0:E>=g.height){R.hitSide=!0;break}E+=d*5}return R}var Kt=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new le,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Kt.prototype.init=function(o){var s=this,d=this,f=d.cm,g=d.div=o.lineDiv;g.contentEditable=!0,fv(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function w(k){for(var A=k.target;A;A=A.parentNode){if(A==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(A.className))break}return!1}Be(g,"paste",function(k){!w(k)||gt(f,k)||ah(k,f)||v<=11&&setTimeout(pn(f,function(){return s.updateFromDOM()}),20)}),Be(g,"compositionstart",function(k){s.composing={data:k.data,done:!1}}),Be(g,"compositionupdate",function(k){s.composing||(s.composing={data:k.data,done:!1})}),Be(g,"compositionend",function(k){s.composing&&(k.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),Be(g,"touchstart",function(){return d.forceCompositionEnd()}),Be(g,"input",function(){s.composing||s.readFromDOMSoon()});function E(k){if(!(!w(k)||gt(f,k))){if(f.somethingSelected())li({lineWise:!1,text:f.getSelections()}),k.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var A=sh(f);li({lineWise:!0,text:A.text}),k.type=="cut"&&f.operation(function(){f.setSelections(A.ranges,0,Ue),f.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var R=si.text.join("\n");if(k.clipboardData.setData("Text",R),k.clipboardData.getData("Text")==R){k.preventDefault();return}}var q=dv(),Y=q.firstChild;f.display.lineSpace.insertBefore(q,f.display.lineSpace.firstChild),Y.value=si.text.join("\n");var ue=ye();te(Y),setTimeout(function(){f.display.lineSpace.removeChild(q),ue.focus(),ue==g&&d.showPrimarySelection()},50)}}Be(g,"copy",E),Be(g,"cut",E)},Kt.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},Kt.prototype.prepareSelection=function(){var o=lu(this.cm,!1);return o.focus=ye()==this.div,o},Kt.prototype.showSelection=function(o,s){!o||!this.cm.display.view.length||((o.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(o))},Kt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Kt.prototype.showPrimarySelection=function(){var o=this.getSelection(),s=this.cm,d=s.doc.sel.primary(),f=d.from(),g=d.to();if(s.display.viewTo==s.display.viewFrom||f.line>=s.display.viewTo||g.line<s.display.viewFrom){o.removeAllRanges();return}var w=dl(s,o.anchorNode,o.anchorOffset),E=dl(s,o.focusNode,o.focusOffset);if(!(w&&!w.bad&&E&&!E.bad&&F(ht(w,E),f)==0&&F(je(w,E),g)==0)){var k=s.display.view,A=f.line>=s.display.viewFrom&&Ou(s,f)||{node:k[0].measure.map[2],offset:0},R=g.line<s.display.viewTo&&Ou(s,g);if(!R){var q=k[k.length-1].measure,Y=q.maps?q.maps[q.maps.length-1]:q.map;R={node:Y[Y.length-1],offset:Y[Y.length-2]-Y[Y.length-3]}}if(!A||!R){o.removeAllRanges();return}var ue=o.rangeCount&&o.getRangeAt(0),ae;try{ae=Ce(A.node,A.offset,R.offset,R.node)}catch{}ae&&(!i&&s.state.focused?(o.collapse(A.node,A.offset),ae.collapsed||(o.removeAllRanges(),o.addRange(ae))):(o.removeAllRanges(),o.addRange(ae)),ue&&o.anchorNode==null?o.addRange(ue):i&&this.startGracePeriod()),this.rememberSelection()}},Kt.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},Kt.prototype.showMultipleSelections=function(o){J(this.cm.display.cursorDiv,o.cursors),J(this.cm.display.selectionDiv,o.selection)},Kt.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},Kt.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var s=o.getRangeAt(0).commonAncestorContainer;return Te(this.div,s)},Kt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ye()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Kt.prototype.blur=function(){this.div.blur()},Kt.prototype.getField=function(){return this.div},Kt.prototype.supportsTouch=function(){return!0},Kt.prototype.receivedFocus=function(){var o=this,s=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Qn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function d(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},Kt.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},Kt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),s=this.cm;if(M&&S&&this.cm.display.gutterSpecs.length&&fl(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=dl(s,o.anchorNode,o.anchorOffset),f=dl(s,o.focusNode,o.focusOffset);d&&f&&Qn(s,function(){Wn(s.doc,sa(d,f),Ue),(d.bad||f.bad)&&(s.curOp.selectionChanged=!0)})}}},Kt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,s=o.display,d=o.doc.sel.primary(),f=d.from(),g=d.to();if(f.ch==0&&f.line>o.firstLine()&&(f=Me(f.line-1,et(o.doc,f.line-1).length)),g.ch==et(o.doc,g.line).text.length&&g.line<o.lastLine()&&(g=Me(g.line+1,0)),f.line<s.viewFrom||g.line>s.viewTo-1)return!1;var w,E,k;f.line==s.viewFrom||(w=Qi(o,f.line))==0?(E=Ut(s.view[0].line),k=s.view[0].node):(E=Ut(s.view[w].line),k=s.view[w-1].node.nextSibling);var A=Qi(o,g.line),R,q;if(A==s.view.length-1?(R=s.viewTo-1,q=s.lineDiv.lastChild):(R=Ut(s.view[A+1].line)-1,q=s.view[A+1].node.previousSibling),!k)return!1;for(var Y=o.doc.splitLines(uf(o,k,q,E,R)),ue=Kr(o.doc,Me(E,0),Me(R,et(o.doc,R).text.length));Y.length>1&&ue.length>1;)if(it(Y)==it(ue))Y.pop(),ue.pop(),R--;else if(Y[0]==ue[0])Y.shift(),ue.shift(),E++;else break;for(var ae=0,Ee=0,Ae=Y[0],De=ue[0],We=Math.min(Ae.length,De.length);ae<We&&Ae.charCodeAt(ae)==De.charCodeAt(ae);)++ae;for(var Ge=it(Y),Ke=it(ue),Qe=Math.min(Ge.length-(Y.length==1?ae:0),Ke.length-(ue.length==1?ae:0));Ee<Qe&&Ge.charCodeAt(Ge.length-Ee-1)==Ke.charCodeAt(Ke.length-Ee-1);)++Ee;if(Y.length==1&&ue.length==1&&E==f.line)for(;ae&&ae>f.ch&&Ge.charCodeAt(Ge.length-Ee-1)==Ke.charCodeAt(Ke.length-Ee-1);)ae--,Ee++;Y[Y.length-1]=Ge.slice(0,Ge.length-Ee).replace(/^\u200b+/,""),Y[0]=Y[0].slice(ae).replace(/\u200b+$/,"");var ot=Me(E,ae),rt=Me(R,ue.length?it(ue).length-Ee:0);if(Y.length>1||Y[0]||F(ot,rt))return tl(o.doc,Y,ot,rt,"+input"),!0},Kt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Kt.prototype.reset=function(){this.forceCompositionEnd()},Kt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Kt.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},Kt.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Qn(this.cm,function(){return bt(o.cm)})},Kt.prototype.setUneditable=function(o){o.contentEditable="false"},Kt.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||pn(this.cm,sf)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},Kt.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},Kt.prototype.onContextMenu=function(){},Kt.prototype.resetPosition=function(){},Kt.prototype.needsContentAttribute=!0;function Ou(o,s){var d=Nd(o,s.line);if(!d||d.hidden)return null;var f=et(o.doc,s.line),g=yg(d,f,s.line),w=ge(f,o.doc.direction),E="left";if(w){var k=K(w,s.ch);E=k%2?"right":"left"}var A=Ac(g.map,s.ch,E);return A.offset=A.collapse=="right"?A.end:A.start,A}function fl(o){for(var s=o;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function lt(o,s){return s&&(o.bad=!0),o}function uf(o,s,d,f,g){var w="",E=!1,k=o.doc.lineSeparator(),A=!1;function R(ae){return function(Ee){return Ee.id==ae}}function q(){E&&(w+=k,A&&(w+=k),E=A=!1)}function Y(ae){ae&&(q(),w+=ae)}function ue(ae){if(ae.nodeType==1){var Ee=ae.getAttribute("cm-text");if(Ee){Y(Ee);return}var Ae=ae.getAttribute("cm-marker"),De;if(Ae){var We=o.findMarks(Me(f,0),Me(g+1,0),R(+Ae));We.length&&(De=We[0].find(0))&&Y(Kr(o.doc,De.from,De.to).join(k));return}if(ae.getAttribute("contenteditable")=="false")return;var Ge=/^(pre|div|p|li|table|br)$/i.test(ae.nodeName);if(!/^br$/i.test(ae.nodeName)&&ae.textContent.length==0)return;Ge&&q();for(var Ke=0;Ke<ae.childNodes.length;Ke++)ue(ae.childNodes[Ke]);/^(pre|p)$/i.test(ae.nodeName)&&(A=!0),Ge&&(E=!0)}else ae.nodeType==3&&Y(ae.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ue(s),s!=d;)s=s.nextSibling,A=!1;return w}function dl(o,s,d){var f;if(s==o.display.lineDiv){if(f=o.display.lineDiv.childNodes[d],!f)return lt(o.clipPos(Me(o.display.viewTo-1)),!0);s=null,d=0}else for(f=s;;f=f.parentNode){if(!f||f==o.display.lineDiv)return null;if(f.parentNode&&f.parentNode==o.display.lineDiv)break}for(var g=0;g<o.display.view.length;g++){var w=o.display.view[g];if(w.node==f)return ls(w,s,d)}}function ls(o,s,d){var f=o.text.firstChild,g=!1;if(!s||!Te(f,s))return lt(Me(Ut(o.line),0),!0);if(s==f&&(g=!0,s=f.childNodes[d],d=0,!s)){var w=o.rest?it(o.rest):o.line;return lt(Me(Ut(w),w.text.length),g)}var E=s.nodeType==3?s:null,k=s;for(!E&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(E=s.firstChild,d&&(d=E.nodeValue.length));k.parentNode!=f;)k=k.parentNode;var A=o.measure,R=A.maps;function q(De,We,Ge){for(var Ke=-1;Ke<(R?R.length:0);Ke++)for(var Qe=Ke<0?A.map:R[Ke],ot=0;ot<Qe.length;ot+=3){var rt=Qe[ot+2];if(rt==De||rt==We){var Tt=Ut(Ke<0?o.line:o.rest[Ke]),Xt=Qe[ot]+Ge;return(Ge<0||rt!=De)&&(Xt=Qe[ot+(Ge?1:0)]),Me(Tt,Xt)}}}var Y=q(E,k,d);if(Y)return lt(Y,g);for(var ue=k.nextSibling,ae=E?E.nodeValue.length-d:0;ue;ue=ue.nextSibling){if(Y=q(ue,ue.firstChild,0),Y)return lt(Me(Y.line,Y.ch-ae),g);ae+=ue.textContent.length}for(var Ee=k.previousSibling,Ae=d;Ee;Ee=Ee.previousSibling){if(Y=q(Ee,Ee.firstChild,-1),Y)return lt(Me(Y.line,Y.ch+Ae),g);Ae+=Ee.textContent.length}}var yn=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new le,this.hasSelection=!1,this.composing=null};yn.prototype.init=function(o){var s=this,d=this,f=this.cm;this.createField(o);var g=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),L&&(g.style.width="0px"),Be(g,"input",function(){p&&v>=9&&s.hasSelection&&(s.hasSelection=null),d.poll()}),Be(g,"paste",function(E){gt(f,E)||ah(E,f)||(f.state.pasteIncoming=+new Date,d.fastPoll())});function w(E){if(!gt(f,E)){if(f.somethingSelected())li({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var k=sh(f);li({lineWise:!0,text:k.text}),E.type=="cut"?f.setSelections(k.ranges,null,Ue):(d.prevInput="",g.value=k.text.join("\n"),te(g))}else return;E.type=="cut"&&(f.state.cutIncoming=+new Date)}}Be(g,"cut",w),Be(g,"copy",w),Be(o.scroller,"paste",function(E){if(!(xo(o,E)||gt(f,E))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,d.focus();return}var k=new Event("paste");k.clipboardData=E.clipboardData,g.dispatchEvent(k)}}),Be(o.lineSpace,"selectstart",function(E){xo(o,E)||Un(E)}),Be(g,"compositionstart",function(){var E=f.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:E,range:f.markText(E,f.getCursor("to"),{className:"CodeMirror-composing"})}}),Be(g,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},yn.prototype.createField=function(o){this.wrapper=dv(),this.textarea=this.wrapper.firstChild},yn.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},yn.prototype.prepareSelection=function(){var o=this.cm,s=o.display,d=o.doc,f=lu(o);if(o.options.moveInputWithCursor){var g=ki(o,d.sel.primary().head,"div"),w=s.wrapper.getBoundingClientRect(),E=s.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,g.top+E.top-w.top)),f.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,g.left+E.left-w.left))}return f},yn.prototype.showSelection=function(o){var s=this.cm,d=s.display;J(d.cursorDiv,o.cursors),J(d.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},yn.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing)){var s=this.cm;if(s.somethingSelected()){this.prevInput="";var d=s.getSelection();this.textarea.value=d,s.state.focused&&te(this.textarea),p&&v>=9&&(this.hasSelection=d)}else o||(this.prevInput=this.textarea.value="",p&&v>=9&&(this.hasSelection=null))}},yn.prototype.getField=function(){return this.textarea},yn.prototype.supportsTouch=function(){return!1},yn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||ye()!=this.textarea))try{this.textarea.focus()}catch{}},yn.prototype.blur=function(){this.textarea.blur()},yn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},yn.prototype.receivedFocus=function(){this.slowPoll()},yn.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},yn.prototype.fastPoll=function(){var o=!1,s=this;s.pollingFast=!0;function d(){var f=s.poll();!f&&!o?(o=!0,s.polling.set(60,d)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,d)},yn.prototype.poll=function(){var o=this,s=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||!s.state.focused||vc(d)&&!f&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var g=d.value;if(g==f&&!s.somethingSelected())return!1;if(p&&v>=9&&this.hasSelection===g||j&&/[\uf700-\uf7ff]/.test(g))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var w=g.charCodeAt(0);if(w==8203&&!f&&(f="​"),w==8666)return this.reset(),this.cm.execCommand("undo")}for(var E=0,k=Math.min(f.length,g.length);E<k&&f.charCodeAt(E)==g.charCodeAt(E);)++E;return Qn(s,function(){sf(s,g.slice(E),f.length-E,null,o.composing?"*compose":null),g.length>1e3||g.indexOf("\n")>-1?d.value=o.prevInput="":o.prevInput=g,o.composing&&(o.composing.range.clear(),o.composing.range=s.markText(o.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},yn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},yn.prototype.onKeyPress=function(){p&&v>=9&&(this.hasSelection=null),this.fastPoll()},yn.prototype.onContextMenu=function(o){var s=this,d=s.cm,f=d.display,g=s.textarea;s.contextMenuPending&&s.contextMenuPending();var w=Yi(d,o),E=f.scroller.scrollTop;if(!w||C)return;var k=d.options.resetSelectionOnContextMenu;k&&d.doc.sel.contains(w)==-1&&pn(d,Wn)(d.doc,sa(w),Ue);var A=g.style.cssText,R=s.wrapper.style.cssText,q=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",g.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(o.clientY-q.top-5)+"px; left: "+(o.clientX-q.left-5)+"px;\n      z-index: 1000; background: "+(p?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var Y;m&&(Y=window.scrollY),f.input.focus(),m&&window.scrollTo(null,Y),f.input.reset(),d.somethingSelected()||(g.value=s.prevInput=" "),s.contextMenuPending=ae,f.selForContextMenu=d.doc.sel,clearTimeout(f.detectingSelectAll);function ue(){if(g.selectionStart!=null){var Ae=d.somethingSelected(),De="​"+(Ae?g.value:"");g.value="⇚",g.value=De,s.prevInput=Ae?"":"​",g.selectionStart=1,g.selectionEnd=De.length,f.selForContextMenu=d.doc.sel}}function ae(){if(s.contextMenuPending==ae&&(s.contextMenuPending=!1,s.wrapper.style.cssText=R,g.style.cssText=A,p&&v<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=E),g.selectionStart!=null)){(!p||p&&v<9)&&ue();var Ae=0,De=function(){f.selForContextMenu==d.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&s.prevInput=="​"?pn(d,Bg)(d):Ae++<10?f.detectingSelectAll=setTimeout(De,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(De,200)}}if(p&&v>=9&&ue(),fe){za(o);var Ee=function(){Ct(window,"mouseup",Ee),setTimeout(ae,20)};Be(window,"mouseup",Ee)}else setTimeout(ae,50)},yn.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},yn.prototype.setUneditable=function(){},yn.prototype.needsContentAttribute=!1;function lh(o,s){if(s=s?we(s):{},s.value=o.value,!s.tabindex&&o.tabIndex&&(s.tabindex=o.tabIndex),!s.placeholder&&o.placeholder&&(s.placeholder=o.placeholder),s.autofocus==null){var d=ye();s.autofocus=d==o||o.getAttribute("autofocus")!=null&&d==document.body}function f(){o.value=k.getValue()}var g;if(o.form&&(Be(o.form,"submit",f),!s.leaveSubmitMethodAlone)){var w=o.form;g=w.submit;try{var E=w.submit=function(){f(),w.submit=g,w.submit(),w.submit=E}}catch{}}s.finishInit=function(A){A.save=f,A.getTextArea=function(){return o},A.toTextArea=function(){A.toTextArea=isNaN,f(),o.parentNode.removeChild(A.getWrapperElement()),o.style.display="",o.form&&(Ct(o.form,"submit",f),!s.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=g))}},o.style.display="none";var k=Jt(function(A){return o.parentNode.insertBefore(A,o.nextSibling)},s);return k}function hv(o){o.off=Ct,o.on=Be,o.wheelEventPixels=nw,o.Doc=or,o.splitLines=Ua,o.countColumn=ne,o.findColumn=wt,o.isWordChar=pt,o.Pass=Ne,o.signal=Ve,o.Line=Vn,o.changeEnd=la,o.scrollbarModel=$c,o.Pos=Me,o.cmpPos=F,o.modes=ni,o.mimeModes=Ur,o.resolveMode=Wa,o.getMode=$s,o.modeExtensions=xi,o.extendMode=bi,o.copyState=Wr,o.startState=Ql,o.innerMode=Yl,o.commands=as,o.keyMap=So,o.keyName=Zd,o.isModifierKey=Jc,o.lookupKey=Co,o.normalizeKeyMap=uw,o.StringStream=ln,o.SharedTextMarker=il,o.TextMarker=fa,o.LineWidget=wu,o.e_preventDefault=Un,o.e_stopPropagation=js,o.e_stop=za,o.addClass=me,o.contains=Te,o.rmClass=xe,o.keyNames=ha}af(Jt),To(Jt);var sr="iter insert remove copy getEditor constructor".split(" ");for(var cf in or.prototype)or.prototype.hasOwnProperty(cf)&&pe(sr,cf)<0&&(Jt.prototype[cf]=function(o){return function(){return o.apply(this.doc,arguments)}}(or.prototype[cf]));return wi(or),Jt.inputStyles={textarea:yn,contenteditable:Kt},Jt.defineMode=function(o){!Jt.defaults.mode&&o!="null"&&(Jt.defaults.mode=o),yc.apply(this,arguments)},Jt.defineMIME=yo,Jt.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Jt.defineMIME("text/plain","null"),Jt.defineExtension=function(o,s){Jt.prototype[o]=s},Jt.defineDocExtension=function(o,s){or.prototype[o]=s},Jt.fromTextArea=lh,hv(Jt),Jt.version="5.65.1",Jt})}(m1)),m1.exports}function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(this,arguments)}function Yh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yh=function(n){return typeof n}:Yh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yh(e)}var pN=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l])},e(n,r)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.UnControlled=vN=Tp.Controlled=void 0;var my=O,ji=typeof navigator>"u"||Pn.PREVENT_CODEMIRROR_RENDER===!0,Ea;ji||(Ea=pd());var y1=function(){function e(){}return e.equals=function(t,n){var r=this,i=Object.keys,a=Yh(t),l=Yh(n);return t&&n&&a==="object"&&a===l?i(t).length===i(n).length&&i(t).every(function(c){return r.equals(t[c],n[c])}):t===n},e}(),gN=function(){function e(t,n){this.editor=t,this.props=n}return e.prototype.delegateCursor=function(t,n,r){var i=this.editor.getDoc();r&&this.editor.focus(),n?i.setCursor(t):i.setCursor(t,null,{scroll:!1})},e.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},e.prototype.delegateSelection=function(t,n){var r=this.editor.getDoc();r.setSelections(t),n&&this.editor.focus()},e.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},e.prototype.applyNext=function(t,n,r){t&&t.selection&&t.selection.ranges&&n&&n.selection&&n.selection.ranges&&!y1.equals(t.selection.ranges,n.selection.ranges)&&this.delegateSelection(n.selection.ranges,n.selection.focus||!1),t&&t.cursor&&n&&n.cursor&&!y1.equals(t.cursor,n.cursor)&&this.delegateCursor(r.cursor||n.cursor,n.autoScroll||!1,n.autoCursor||!1),t&&t.scroll&&n&&n.scroll&&!y1.equals(t.scroll,n.scroll)&&this.delegateScroll(n.scroll)},e.prototype.applyUserDefined=function(t,n){n&&n.cursor&&this.delegateCursor(n.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(t){var n=this;Object.keys(t||{}).filter(function(r){return/^on/.test(r)}).forEach(function(r){switch(r){case"onBlur":n.editor.on("blur",function(i,a){n.props.onBlur(n.editor,a)});break;case"onContextMenu":{n.editor.on("contextmenu",function(i,a){n.props.onContextMenu(n.editor,a)});break}case"onCopy":{n.editor.on("copy",function(i,a){n.props.onCopy(n.editor,a)});break}case"onCursor":n.editor.on("cursorActivity",function(i){n.props.onCursor(n.editor,n.editor.getDoc().getCursor())});break;case"onCursorActivity":n.editor.on("cursorActivity",function(i){n.props.onCursorActivity(n.editor)});break;case"onCut":{n.editor.on("cut",function(i,a){n.props.onCut(n.editor,a)});break}case"onDblClick":{n.editor.on("dblclick",function(i,a){n.props.onDblClick(n.editor,a)});break}case"onDragEnter":n.editor.on("dragenter",function(i,a){n.props.onDragEnter(n.editor,a)});break;case"onDragLeave":{n.editor.on("dragleave",function(i,a){n.props.onDragLeave(n.editor,a)});break}case"onDragOver":n.editor.on("dragover",function(i,a){n.props.onDragOver(n.editor,a)});break;case"onDragStart":{n.editor.on("dragstart",function(i,a){n.props.onDragStart(n.editor,a)});break}case"onDrop":n.editor.on("drop",function(i,a){n.props.onDrop(n.editor,a)});break;case"onFocus":n.editor.on("focus",function(i,a){n.props.onFocus(n.editor,a)});break;case"onGutterClick":n.editor.on("gutterClick",function(i,a,l,c){n.props.onGutterClick(n.editor,a,l,c)});break;case"onInputRead":n.editor.on("inputRead",function(i,a){n.props.onInputRead(n.editor,a)});break;case"onKeyDown":n.editor.on("keydown",function(i,a){n.props.onKeyDown(n.editor,a)});break;case"onKeyHandled":n.editor.on("keyHandled",function(i,a,l){n.props.onKeyHandled(n.editor,a,l)});break;case"onKeyPress":n.editor.on("keypress",function(i,a){n.props.onKeyPress(n.editor,a)});break;case"onKeyUp":n.editor.on("keyup",function(i,a){n.props.onKeyUp(n.editor,a)});break;case"onMouseDown":{n.editor.on("mousedown",function(i,a){n.props.onMouseDown(n.editor,a)});break}case"onPaste":{n.editor.on("paste",function(i,a){n.props.onPaste(n.editor,a)});break}case"onRenderLine":{n.editor.on("renderLine",function(i,a,l){n.props.onRenderLine(n.editor,a,l)});break}case"onScroll":n.editor.on("scroll",function(i){n.props.onScroll(n.editor,n.editor.getScrollInfo())});break;case"onSelection":n.editor.on("beforeSelectionChange",function(i,a){n.props.onSelection(n.editor,a)});break;case"onTouchStart":{n.editor.on("touchstart",function(i,a){n.props.onTouchStart(n.editor,a)});break}case"onUpdate":n.editor.on("update",function(i){n.props.onUpdate(n.editor)});break;case"onViewportChange":n.editor.on("viewportChange",function(i,a,l){n.props.onViewportChange(n.editor,a,l)});break}})},e}(),NY=function(e){pN(t,e);function t(n){var r=e.call(this,n)||this;return ji||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},a=vy({},Ea.defaults,this.editor.options,i),l=Object.keys(a).some(function(c){return r.editor.getOption(c)!==a[c]});l&&Object.keys(a).forEach(function(c){i.hasOwnProperty(c)&&r.editor.getOption(c)!==a[c]&&(r.editor.setOption(c,a[c]),r.mirror.setOption(c,a[c]))}),this.hydrated||(this.deferred?this.resolveChange(n.value):this.initChange(n.value||"")),this.hydrated=!0},t.prototype.initChange=function(n){this.emulating=!0;var r=this.editor.getDoc(),i=r.lastLine(),a=r.getLine(r.lastLine()).length;r.replaceRange(n||"",{line:0,ch:0},{line:i,ch:a}),this.mirror.setValue(n),r.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(n){this.emulating=!0;var r=this.editor.getDoc();if(this.deferred.origin==="undo"?r.undo():this.deferred.origin==="redo"?r.redo():r.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),n&&n!==r.getValue()){var i=r.getCursor();r.setValue(n),r.setCursor(i)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(n){var r=this.editor.getDoc();return n.origin==="undo"?(r.setHistory(this.mirror.getHistory()),this.mirror.undo()):n.origin==="redo"?(r.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(n.text,n.from,n.to,n.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var n=this;ji||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&Ea.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=Ea(this.ref,this.props.options),this.shared=new gN(this.editor,this.props),this.mirror=Ea(function(){},this.props.options),this.editor.on("electricInput",function(){n.mirror.setHistory(n.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){n.mirror.setCursor(n.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(r,i){if(!n.emulating){i.cancel(),n.deferred=i;var a=n.mirrorChange(n.deferred);n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,n.deferred,a)}}),this.editor.on("change",function(r,i){n.mounted&&n.props.onChange&&n.props.onChange(n.editor,i,n.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(!ji){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(n,this.props,r),this.appliedNext=!0),this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){ji||this.props.editorWillUnmount&&this.props.editorWillUnmount(Ea)},t.prototype.shouldComponentUpdate=function(n,r){return!ji},t.prototype.render=function(){var n=this;if(ji)return null;var r=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return my.createElement("div",{className:r,ref:function(a){return n.ref=a}})},t}(my.Component),vN=Tp.Controlled=NY,IY=function(e){pN(t,e);function t(n){var r=e.call(this,n)||this;return ji||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},a=vy({},Ea.defaults,this.editor.options,i),l=Object.keys(a).some(function(m){return r.editor.getOption(m)!==a[m]});if(l&&Object.keys(a).forEach(function(m){i.hasOwnProperty(m)&&r.editor.getOption(m)!==a[m]&&r.editor.setOption(m,a[m])}),!this.hydrated){var c=this.editor.getDoc(),p=c.lastLine(),v=c.getLine(c.lastLine()).length;c.replaceRange(n.value||"",{line:0,ch:0},{line:p,ch:v})}this.hydrated=!0},t.prototype.componentDidMount=function(){var n=this;ji||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&Ea.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=Ea(this.ref,this.props.options),this.shared=new gN(this.editor,this.props),this.editor.on("beforeChange",function(r,i){n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,i,n.editor.getValue(),n.onBeforeChangeCb)}),this.editor.on("change",function(r,i){!n.mounted||!n.props.onChange||(n.props.onBeforeChange?n.continueChange&&n.props.onChange(n.editor,i,n.editor.getValue()):n.props.onChange(n.editor,i,n.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(this.detached&&this.props.detach===!1&&(this.detached=!1,n.editorDidAttach&&n.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,n.editorDidDetach&&n.editorDidDetach(this.editor)),!(ji||this.detached)){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!n.autoCursor&&n.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(n),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){ji||this.props.editorWillUnmount&&this.props.editorWillUnmount(Ea)},t.prototype.shouldComponentUpdate=function(n,r){var i=!0;return ji&&(i=!1),this.detached&&n.detach&&(i=!1),i},t.prototype.render=function(){var n=this;if(ji)return null;var r=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return my.createElement("div",{className:r,ref:function(a){return n.ref=a}})},t}(my.Component);Tp.UnControlled=IY;(function(e,t){(function(n){n(pd())})(function(n){n.defineOption("placeholder","",function(v,m,x){var S=x&&x!=n.Init;if(m&&!S)v.on("blur",l),v.on("change",c),v.on("swapDoc",c),n.on(v.getInputField(),"compositionupdate",v.state.placeholderCompose=function(){a(v)}),c(v);else if(!m&&S){v.off("blur",l),v.off("change",c),v.off("swapDoc",c),n.off(v.getInputField(),"compositionupdate",v.state.placeholderCompose),r(v);var C=v.getWrapperElement();C.className=C.className.replace(" CodeMirror-empty","")}m&&!v.hasFocus()&&l(v)});function r(v){v.state.placeholder&&(v.state.placeholder.parentNode.removeChild(v.state.placeholder),v.state.placeholder=null)}function i(v){r(v);var m=v.state.placeholder=document.createElement("pre");m.style.cssText="height: 0; overflow: visible",m.style.direction=v.getOption("direction"),m.className="CodeMirror-placeholder CodeMirror-line-like";var x=v.getOption("placeholder");typeof x=="string"&&(x=document.createTextNode(x)),m.appendChild(x),v.display.lineSpace.insertBefore(m,v.display.lineSpace.firstChild)}function a(v){setTimeout(function(){var m=!1;if(v.lineCount()==1){var x=v.getInputField();m=x.nodeName=="TEXTAREA"?!v.getLine(0).length:!/[^\u200b]/.test(x.querySelector(".CodeMirror-line").textContent)}m?i(v):r(v)},20)}function l(v){p(v)&&i(v)}function c(v){var m=v.getWrapperElement(),x=p(v);m.className=m.className.replace(" CodeMirror-empty","")+(x?" CodeMirror-empty":""),x?i(v):r(v)}function p(v){return v.lineCount()===1&&v.getLine(0)===""}})})();(function(e,t){(function(n){n(pd())})(function(n){var r="CodeMirror-hint",i="CodeMirror-hint-active";n.showHint=function(L,M,B){if(!M)return L.showHint(B);B&&B.async&&(M.async=!0);var j={hint:M};if(B)for(var U in B)j[U]=B[U];return L.showHint(j)},n.defineExtension("showHint",function(L){L=p(this,this.getCursor("start"),L);var M=this.listSelections();if(!(M.length>1)){if(this.somethingSelected()){if(!L.hint.supportsSelection)return;for(var B=0;B<M.length;B++)if(M[B].head.line!=M[B].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var j=this.state.completionActive=new a(this,L);j.options.hint&&(n.signal(this,"startCompletion",this),j.update(!0))}}),n.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function a(L,M){if(this.cm=L,this.options=M,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var B=this;L.on("cursorActivity",this.activityFunc=function(){B.cursorActivity()})}}var l=window.requestAnimationFrame||function(L){return setTimeout(L,1e3/60)},c=window.cancelAnimationFrame||clearTimeout;a.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&n.signal(this.data,"close"),this.widget&&this.widget.close(),n.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(L,M){var B=L.list[M],j=this;this.cm.operation(function(){B.hint?B.hint(j.cm,L,B):j.cm.replaceRange(v(B),B.from||L.from,B.to||L.to,"complete"),n.signal(L,"pick",B),j.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(c(this.debounce),this.debounce=0);var L=this.startPos;this.data&&(L=this.data.from);var M=this.cm.getCursor(),B=this.cm.getLine(M.line);if(M.line!=this.startPos.line||B.length-M.ch!=this.startLen-this.startPos.ch||M.ch<L.ch||this.cm.somethingSelected()||!M.ch||this.options.closeCharacters.test(B.charAt(M.ch-1)))this.close();else{var j=this;this.debounce=l(function(){j.update()}),this.widget&&this.widget.disable()}},update:function(L){if(this.tick!=null){var M=this,B=++this.tick;I(this.options.hint,this.cm,this.options,function(j){M.tick==B&&M.finishUpdate(j,L)})}},finishUpdate:function(L,M){this.data&&n.signal(this.data,"update");var B=this.widget&&this.widget.picked||M&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=L,L&&L.list.length&&(B&&L.list.length==1?this.pick(L,0):(this.widget=new S(this,L),n.signal(L,"shown")))}};function p(L,M,B){var j=L.options.hintOptions,U={};for(var X in N)U[X]=N[X];if(j)for(var X in j)j[X]!==void 0&&(U[X]=j[X]);if(B)for(var X in B)B[X]!==void 0&&(U[X]=B[X]);return U.hint.resolve&&(U.hint=U.hint.resolve(L,M)),U}function v(L){return typeof L=="string"?L:L.text}function m(L,M){var B={Up:function(){M.moveFocus(-1)},Down:function(){M.moveFocus(1)},PageUp:function(){M.moveFocus(-M.menuSize()+1,!0)},PageDown:function(){M.moveFocus(M.menuSize()-1,!0)},Home:function(){M.setFocus(0)},End:function(){M.setFocus(M.length-1)},Enter:M.pick,Tab:M.pick,Esc:M.close},j=/Mac/.test(navigator.platform);j&&(B["Ctrl-P"]=function(){M.moveFocus(-1)},B["Ctrl-N"]=function(){M.moveFocus(1)});var U=L.options.customKeys,X=U?{}:B;function V(ve,xe){var ze;typeof xe!="string"?ze=function(J){return xe(J,M)}:B.hasOwnProperty(xe)?ze=B[xe]:ze=xe,X[ve]=ze}if(U)for(var re in U)U.hasOwnProperty(re)&&V(re,U[re]);var fe=L.options.extraKeys;if(fe)for(var re in fe)fe.hasOwnProperty(re)&&V(re,fe[re]);return X}function x(L,M){for(;M&&M!=L;){if(M.nodeName.toUpperCase()==="LI"&&M.parentNode==L)return M;M=M.parentNode}}function S(L,M){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=L,this.data=M,this.picked=!1;var B=this,j=L.cm,U=j.getInputField().ownerDocument,X=U.defaultView||U.parentWindow,V=this.hints=U.createElement("ul");V.setAttribute("role","listbox"),V.setAttribute("aria-expanded","true"),V.id=this.id;var re=L.cm.options.theme;V.className="CodeMirror-hints "+re,this.selectedHint=M.selectedHint||0;for(var fe=M.list,ve=0;ve<fe.length;++ve){var xe=V.appendChild(U.createElement("li")),ze=fe[ve],J=r+(ve!=this.selectedHint?"":" "+i);ze.className!=null&&(J=ze.className+" "+J),xe.className=J,ve==this.selectedHint&&xe.setAttribute("aria-selected","true"),xe.id=this.id+"-"+ve,xe.setAttribute("role","option"),ze.render?ze.render(xe,M,ze):xe.appendChild(U.createTextNode(ze.displayText||v(ze))),xe.hintId=ve}var Q=L.options.container||U.body,G=j.cursorCoords(L.options.alignWithWord?M.from:null),Ce=G.left,Te=G.bottom,ye=!0,me=0,be=0;if(Q!==U.body){var te=["absolute","relative","fixed"].indexOf(X.getComputedStyle(Q).position)!==-1,oe=te?Q:Q.offsetParent,we=oe.getBoundingClientRect(),ne=U.body.getBoundingClientRect();me=we.left-ne.left-oe.scrollLeft,be=we.top-ne.top-oe.scrollTop}V.style.left=Ce-me+"px",V.style.top=Te-be+"px";var le=X.innerWidth||Math.max(U.body.offsetWidth,U.documentElement.offsetWidth),pe=X.innerHeight||Math.max(U.body.offsetHeight,U.documentElement.offsetHeight);Q.appendChild(V),j.getInputField().setAttribute("aria-autocomplete","list"),j.getInputField().setAttribute("aria-owns",this.id),j.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var _e=L.options.moveOnOverlap?V.getBoundingClientRect():new DOMRect,Ne=L.options.paddingForScrollbar?V.scrollHeight>V.clientHeight+1:!1,Ue;setTimeout(function(){Ue=j.getScrollInfo()});var nt=_e.bottom-pe;if(nt>0){var Ye=_e.bottom-_e.top,wt=G.top-(G.bottom-_e.top);if(wt-Ye>0)V.style.top=(Te=G.top-Ye-be)+"px",ye=!1;else if(Ye>pe){V.style.height=pe-5+"px",V.style.top=(Te=G.bottom-_e.top-be)+"px";var Dt=j.getCursor();M.from.ch!=Dt.ch&&(G=j.cursorCoords(Dt),V.style.left=(Ce=G.left-me)+"px",_e=V.getBoundingClientRect())}}var Ft=_e.right-le;if(Ne&&(Ft+=j.display.nativeBarWidth),Ft>0&&(_e.right-_e.left>le&&(V.style.width=le-5+"px",Ft-=_e.right-_e.left-le),V.style.left=(Ce=G.left-Ft-me)+"px"),Ne)for(var it=V.firstChild;it;it=it.nextSibling)it.style.paddingRight=j.display.nativeBarWidth+"px";if(j.addKeyMap(this.keyMap=m(L,{moveFocus:function(jt,Bt){B.changeActive(B.selectedHint+jt,Bt)},setFocus:function(jt){B.changeActive(jt)},menuSize:function(){return B.screenAmount()},length:fe.length,close:function(){L.close()},pick:function(){B.pick()},data:M})),L.options.closeOnUnfocus){var yt;j.on("blur",this.onBlur=function(){yt=setTimeout(function(){L.close()},100)}),j.on("focus",this.onFocus=function(){clearTimeout(yt)})}j.on("scroll",this.onScroll=function(){var jt=j.getScrollInfo(),Bt=j.getWrapperElement().getBoundingClientRect();Ue||(Ue=j.getScrollInfo());var kn=Te+Ue.top-jt.top,pt=kn-(X.pageYOffset||(U.documentElement||U.body).scrollTop);if(ye||(pt+=V.offsetHeight),pt<=Bt.top||pt>=Bt.bottom)return L.close();V.style.top=kn+"px",V.style.left=Ce+Ue.left-jt.left+"px"}),n.on(V,"dblclick",function(jt){var Bt=x(V,jt.target||jt.srcElement);Bt&&Bt.hintId!=null&&(B.changeActive(Bt.hintId),B.pick())}),n.on(V,"click",function(jt){var Bt=x(V,jt.target||jt.srcElement);Bt&&Bt.hintId!=null&&(B.changeActive(Bt.hintId),L.options.completeOnSingleClick&&B.pick())}),n.on(V,"mousedown",function(){setTimeout(function(){j.focus()},20)});var Ot=this.getSelectedHintRange();return(Ot.from!==0||Ot.to!==0)&&this.scrollToActive(),n.signal(M,"select",fe[this.selectedHint],V.childNodes[this.selectedHint]),!0}S.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var L=this.completion.cm.getInputField();L.removeAttribute("aria-activedescendant"),L.removeAttribute("aria-owns");var M=this.completion.cm;this.completion.options.closeOnUnfocus&&(M.off("blur",this.onBlur),M.off("focus",this.onFocus)),M.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var L=this;this.keyMap={Enter:function(){L.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(L,M){if(L>=this.data.list.length?L=M?this.data.list.length-1:0:L<0&&(L=M?0:this.data.list.length-1),this.selectedHint!=L){var B=this.hints.childNodes[this.selectedHint];B&&(B.className=B.className.replace(" "+i,""),B.removeAttribute("aria-selected")),B=this.hints.childNodes[this.selectedHint=L],B.className+=" "+i,B.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",B.id),this.scrollToActive(),n.signal(this.data,"select",this.data.list[this.selectedHint],B)}},scrollToActive:function(){var L=this.getSelectedHintRange(),M=this.hints.childNodes[L.from],B=this.hints.childNodes[L.to],j=this.hints.firstChild;M.offsetTop<this.hints.scrollTop?this.hints.scrollTop=M.offsetTop-j.offsetTop:B.offsetTop+B.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=B.offsetTop+B.offsetHeight-this.hints.clientHeight+j.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var L=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-L),to:Math.min(this.data.list.length-1,this.selectedHint+L)}}};function C(L,M){if(!L.somethingSelected())return M;for(var B=[],j=0;j<M.length;j++)M[j].supportsSelection&&B.push(M[j]);return B}function I(L,M,B,j){if(L.async)L(M,j,B);else{var U=L(M,B);U&&U.then?U.then(j):j(U)}}function $(L,M){var B=L.getHelpers(M,"hint"),j;if(B.length){var U=function(X,V,re){var fe=C(X,B);function ve(xe){if(xe==fe.length)return V(null);I(fe[xe],X,re,function(ze){ze&&ze.list.length>0?V(ze):ve(xe+1)})}ve(0)};return U.async=!0,U.supportsSelection=!0,U}else return(j=L.getHelper(L.getCursor(),"hintWords"))?function(X){return n.hint.fromList(X,{words:j})}:n.hint.anyword?function(X,V){return n.hint.anyword(X,V)}:function(){}}n.registerHelper("hint","auto",{resolve:$}),n.registerHelper("hint","fromList",function(L,M){var B=L.getCursor(),j=L.getTokenAt(B),U,X=n.Pos(B.line,j.start),V=B;j.start<B.ch&&/\w/.test(j.string.charAt(B.ch-j.start-1))?U=j.string.substr(0,B.ch-j.start):(U="",X=B);for(var re=[],fe=0;fe<M.words.length;fe++){var ve=M.words[fe];ve.slice(0,U.length)==U&&re.push(ve)}if(re.length)return{list:re,from:X,to:V}}),n.commands.autocomplete=n.showHint;var N={hint:n.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};n.defineOption("hintOptions",null)})})();(function(e,t){(function(n){n(pd())})(function(n){n.defineMode("css",function(ve,xe){var ze=xe.inline;xe.propertyKeywords||(xe=n.resolveMode("text/css"));var J=ve.indentUnit,Q=xe.tokenHooks,G=xe.documentTypes||{},Ce=xe.mediaTypes||{},Te=xe.mediaFeatures||{},ye=xe.mediaValueKeywords||{},me=xe.propertyKeywords||{},be=xe.nonStandardPropertyKeywords||{},te=xe.fontProperties||{},oe=xe.counterDescriptors||{},we=xe.colorKeywords||{},ne=xe.valueKeywords||{},le=xe.allowNested,pe=xe.lineComment,_e=xe.supportsAtComponent===!0,Ne=ve.highlightNonStandardPropertyKeywords!==!1,Ue,nt;function Ye(de,Fe){return Ue=Fe,de}function wt(de,Fe){var ke=de.next();if(Q[ke]){var dt=Q[ke](de,Fe);if(dt!==!1)return dt}if(ke=="@")return de.eatWhile(/[\w\\\-]/),Ye("def",de.current());if(ke=="="||(ke=="~"||ke=="|")&&de.eat("="))return Ye(null,"compare");if(ke=='"'||ke=="'")return Fe.tokenize=Dt(ke),Fe.tokenize(de,Fe);if(ke=="#")return de.eatWhile(/[\w\\\-]/),Ye("atom","hash");if(ke=="!")return de.match(/^\s*\w*/),Ye("keyword","important");if(/\d/.test(ke)||ke=="."&&de.eat(/\d/))return de.eatWhile(/[\w.%]/),Ye("number","unit");if(ke==="-"){if(/[\d.]/.test(de.peek()))return de.eatWhile(/[\w.%]/),Ye("number","unit");if(de.match(/^-[\w\\\-]*/))return de.eatWhile(/[\w\\\-]/),de.match(/^\s*:/,!1)?Ye("variable-2","variable-definition"):Ye("variable-2","variable");if(de.match(/^\w+-/))return Ye("meta","meta")}else return/[,+>*\/]/.test(ke)?Ye(null,"select-op"):ke=="."&&de.match(/^-?[_a-z][_a-z0-9-]*/i)?Ye("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ke)?Ye(null,ke):de.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(de.current())&&(Fe.tokenize=Ft),Ye("variable callee","variable")):/[\w\\\-]/.test(ke)?(de.eatWhile(/[\w\\\-]/),Ye("property","word")):Ye(null,null)}function Dt(de){return function(Fe,ke){for(var dt=!1,zn;(zn=Fe.next())!=null;){if(zn==de&&!dt){de==")"&&Fe.backUp(1);break}dt=!dt&&zn=="\\"}return(zn==de||!dt&&de!=")")&&(ke.tokenize=null),Ye("string","string")}}function Ft(de,Fe){return de.next(),de.match(/^\s*[\"\')]/,!1)?Fe.tokenize=null:Fe.tokenize=Dt(")"),Ye(null,"(")}function it(de,Fe,ke){this.type=de,this.indent=Fe,this.prev=ke}function yt(de,Fe,ke,dt){return de.context=new it(ke,Fe.indentation()+(dt===!1?0:J),de.context),ke}function Ot(de){return de.context.prev&&(de.context=de.context.prev),de.context.type}function jt(de,Fe,ke){return pt[ke.context.type](de,Fe,ke)}function Bt(de,Fe,ke,dt){for(var zn=dt||1;zn>0;zn--)ke.context=ke.context.prev;return jt(de,Fe,ke)}function kn(de){var Fe=de.current().toLowerCase();ne.hasOwnProperty(Fe)?nt="atom":we.hasOwnProperty(Fe)?nt="keyword":nt="variable"}var pt={};return pt.top=function(de,Fe,ke){if(de=="{")return yt(ke,Fe,"block");if(de=="}"&&ke.context.prev)return Ot(ke);if(_e&&/@component/i.test(de))return yt(ke,Fe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(de))return yt(ke,Fe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(de))return yt(ke,Fe,"atBlock");if(/^@(font-face|counter-style)/i.test(de))return ke.stateArg=de,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(de))return"keyframes";if(de&&de.charAt(0)=="@")return yt(ke,Fe,"at");if(de=="hash")nt="builtin";else if(de=="word")nt="tag";else{if(de=="variable-definition")return"maybeprop";if(de=="interpolation")return yt(ke,Fe,"interpolation");if(de==":")return"pseudo";if(le&&de=="(")return yt(ke,Fe,"parens")}return ke.context.type},pt.block=function(de,Fe,ke){if(de=="word"){var dt=Fe.current().toLowerCase();return me.hasOwnProperty(dt)?(nt="property","maybeprop"):be.hasOwnProperty(dt)?(nt=Ne?"string-2":"property","maybeprop"):le?(nt=Fe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(nt+=" error","maybeprop")}else return de=="meta"?"block":!le&&(de=="hash"||de=="qualifier")?(nt="error","block"):pt.top(de,Fe,ke)},pt.maybeprop=function(de,Fe,ke){return de==":"?yt(ke,Fe,"prop"):jt(de,Fe,ke)},pt.prop=function(de,Fe,ke){if(de==";")return Ot(ke);if(de=="{"&&le)return yt(ke,Fe,"propBlock");if(de=="}"||de=="{")return Bt(de,Fe,ke);if(de=="(")return yt(ke,Fe,"parens");if(de=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Fe.current()))nt+=" error";else if(de=="word")kn(Fe);else if(de=="interpolation")return yt(ke,Fe,"interpolation");return"prop"},pt.propBlock=function(de,Fe,ke){return de=="}"?Ot(ke):de=="word"?(nt="property","maybeprop"):ke.context.type},pt.parens=function(de,Fe,ke){return de=="{"||de=="}"?Bt(de,Fe,ke):de==")"?Ot(ke):de=="("?yt(ke,Fe,"parens"):de=="interpolation"?yt(ke,Fe,"interpolation"):(de=="word"&&kn(Fe),"parens")},pt.pseudo=function(de,Fe,ke){return de=="meta"?"pseudo":de=="word"?(nt="variable-3",ke.context.type):jt(de,Fe,ke)},pt.documentTypes=function(de,Fe,ke){return de=="word"&&G.hasOwnProperty(Fe.current())?(nt="tag",ke.context.type):pt.atBlock(de,Fe,ke)},pt.atBlock=function(de,Fe,ke){if(de=="(")return yt(ke,Fe,"atBlock_parens");if(de=="}"||de==";")return Bt(de,Fe,ke);if(de=="{")return Ot(ke)&&yt(ke,Fe,le?"block":"top");if(de=="interpolation")return yt(ke,Fe,"interpolation");if(de=="word"){var dt=Fe.current().toLowerCase();dt=="only"||dt=="not"||dt=="and"||dt=="or"?nt="keyword":Ce.hasOwnProperty(dt)?nt="attribute":Te.hasOwnProperty(dt)?nt="property":ye.hasOwnProperty(dt)?nt="keyword":me.hasOwnProperty(dt)?nt="property":be.hasOwnProperty(dt)?nt=Ne?"string-2":"property":ne.hasOwnProperty(dt)?nt="atom":we.hasOwnProperty(dt)?nt="keyword":nt="error"}return ke.context.type},pt.atComponentBlock=function(de,Fe,ke){return de=="}"?Bt(de,Fe,ke):de=="{"?Ot(ke)&&yt(ke,Fe,le?"block":"top",!1):(de=="word"&&(nt="error"),ke.context.type)},pt.atBlock_parens=function(de,Fe,ke){return de==")"?Ot(ke):de=="{"||de=="}"?Bt(de,Fe,ke,2):pt.atBlock(de,Fe,ke)},pt.restricted_atBlock_before=function(de,Fe,ke){return de=="{"?yt(ke,Fe,"restricted_atBlock"):de=="word"&&ke.stateArg=="@counter-style"?(nt="variable","restricted_atBlock_before"):jt(de,Fe,ke)},pt.restricted_atBlock=function(de,Fe,ke){return de=="}"?(ke.stateArg=null,Ot(ke)):de=="word"?(ke.stateArg=="@font-face"&&!te.hasOwnProperty(Fe.current().toLowerCase())||ke.stateArg=="@counter-style"&&!oe.hasOwnProperty(Fe.current().toLowerCase())?nt="error":nt="property","maybeprop"):"restricted_atBlock"},pt.keyframes=function(de,Fe,ke){return de=="word"?(nt="variable","keyframes"):de=="{"?yt(ke,Fe,"top"):jt(de,Fe,ke)},pt.at=function(de,Fe,ke){return de==";"?Ot(ke):de=="{"||de=="}"?Bt(de,Fe,ke):(de=="word"?nt="tag":de=="hash"&&(nt="builtin"),"at")},pt.interpolation=function(de,Fe,ke){return de=="}"?Ot(ke):de=="{"||de==";"?Bt(de,Fe,ke):(de=="word"?nt="variable":de!="variable"&&de!="("&&de!=")"&&(nt="error"),"interpolation")},{startState:function(de){return{tokenize:null,state:ze?"block":"top",stateArg:null,context:new it(ze?"block":"top",de||0,null)}},token:function(de,Fe){if(!Fe.tokenize&&de.eatSpace())return null;var ke=(Fe.tokenize||wt)(de,Fe);return ke&&typeof ke=="object"&&(Ue=ke[1],ke=ke[0]),nt=ke,Ue!="comment"&&(Fe.state=pt[Fe.state](Ue,de,Fe)),nt},indent:function(de,Fe){var ke=de.context,dt=Fe&&Fe.charAt(0),zn=ke.indent;return ke.type=="prop"&&(dt=="}"||dt==")")&&(ke=ke.prev),ke.prev&&(dt=="}"&&(ke.type=="block"||ke.type=="top"||ke.type=="interpolation"||ke.type=="restricted_atBlock")?(ke=ke.prev,zn=ke.indent):(dt==")"&&(ke.type=="parens"||ke.type=="atBlock_parens")||dt=="{"&&(ke.type=="at"||ke.type=="atBlock"))&&(zn=Math.max(0,ke.indent-J))),zn},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:pe,fold:"brace"}});function r(ve){for(var xe={},ze=0;ze<ve.length;++ze)xe[ve[ze].toLowerCase()]=!0;return xe}var i=["domain","regexp","url","url-prefix"],a=r(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=r(l),p=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],v=r(p),m=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],x=r(m),S=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],C=r(S),I=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],$=r(I),N=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],L=r(N),M=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],B=r(M),j=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],U=r(j),X=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],V=r(X),re=i.concat(l).concat(p).concat(m).concat(S).concat(I).concat(j).concat(X);n.registerHelper("hintWords","css",re);function fe(ve,xe){for(var ze=!1,J;(J=ve.next())!=null;){if(ze&&J=="/"){xe.tokenize=null;break}ze=J=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:a,mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:$,fontProperties:L,counterDescriptors:B,colorKeywords:U,valueKeywords:V,tokenHooks:{"/":function(ve,xe){return ve.eat("*")?(xe.tokenize=fe,fe(ve,xe)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:$,colorKeywords:U,valueKeywords:V,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ve,xe){return ve.eat("/")?(ve.skipToEnd(),["comment","comment"]):ve.eat("*")?(xe.tokenize=fe,fe(ve,xe)):["operator","operator"]},":":function(ve){return ve.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ve){return ve.match(/^[\w-]+/),ve.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ve){return ve.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:v,mediaValueKeywords:x,propertyKeywords:C,nonStandardPropertyKeywords:$,colorKeywords:U,valueKeywords:V,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ve,xe){return ve.eat("/")?(ve.skipToEnd(),["comment","comment"]):ve.eat("*")?(xe.tokenize=fe,fe(ve,xe)):["operator","operator"]},"@":function(ve){return ve.eat("{")?[null,"interpolation"]:ve.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ve.eatWhile(/[\w\\\-]/),ve.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:c,mediaFeatures:v,propertyKeywords:C,nonStandardPropertyKeywords:$,fontProperties:L,counterDescriptors:B,colorKeywords:U,valueKeywords:V,supportsAtComponent:!0,tokenHooks:{"/":function(ve,xe){return ve.eat("*")?(xe.tokenize=fe,fe(ve,xe)):!1}},name:"css",helperType:"gss"})})})();(function(e,t){(function(n){n(pd())})(function(n){n.defineMode("javascript",function(r,i){var a=r.indentUnit,l=i.statementIndent,c=i.jsonld,p=i.json||c,v=i.trackScope!==!1,m=i.typescript,x=i.wordCharacters||/[\w$\xa1-\uffff]/,S=function(){function F(Xn){return{type:Xn,style:"keyword"}}var Z=F("keyword a"),Le=F("keyword b"),je=F("keyword c"),ht=F("keyword d"),It=F("operator"),Xe={type:"atom",style:"atom"};return{if:F("if"),while:Z,with:Z,else:Le,do:Le,try:Le,finally:Le,return:ht,break:ht,continue:ht,new:F("new"),delete:je,void:je,throw:je,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:It,typeof:It,instanceof:It,true:Xe,false:Xe,null:Xe,undefined:Xe,NaN:Xe,Infinity:Xe,this:F("this"),class:F("class"),super:F("atom"),yield:je,export:F("export"),import:F("import"),extends:je,await:je}}(),C=/[+\-*&%=<>!?|~^@]/,I=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function $(F){for(var Z=!1,Le,je=!1;(Le=F.next())!=null;){if(!Z){if(Le=="/"&&!je)return;Le=="["?je=!0:je&&Le=="]"&&(je=!1)}Z=!Z&&Le=="\\"}}var N,L;function M(F,Z,Le){return N=F,L=Le,Z}function B(F,Z){var Le=F.next();if(Le=='"'||Le=="'")return Z.tokenize=j(Le),Z.tokenize(F,Z);if(Le=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return M("number","number");if(Le=="."&&F.match(".."))return M("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Le))return M(Le);if(Le=="="&&F.eat(">"))return M("=>","operator");if(Le=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return M("number","number");if(/\d/.test(Le))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),M("number","number");if(Le=="/")return F.eat("*")?(Z.tokenize=U,U(F,Z)):F.eat("/")?(F.skipToEnd(),M("comment","comment")):Me(F,Z,1)?($(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),M("regexp","string-2")):(F.eat("="),M("operator","operator",F.current()));if(Le=="`")return Z.tokenize=X,X(F,Z);if(Le=="#"&&F.peek()=="!")return F.skipToEnd(),M("meta","meta");if(Le=="#"&&F.eatWhile(x))return M("variable","property");if(Le=="<"&&F.match("!--")||Le=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),M("comment","comment");if(C.test(Le))return(Le!=">"||!Z.lexical||Z.lexical.type!=">")&&(F.eat("=")?(Le=="!"||Le=="=")&&F.eat("="):/[<>*+\-|&?]/.test(Le)&&(F.eat(Le),Le==">"&&F.eat(Le))),Le=="?"&&F.eat(".")?M("."):M("operator","operator",F.current());if(x.test(Le)){F.eatWhile(x);var je=F.current();if(Z.lastType!="."){if(S.propertyIsEnumerable(je)){var ht=S[je];return M(ht.type,ht.style,je)}if(je=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return M("async","keyword",je)}return M("variable","variable",je)}}function j(F){return function(Z,Le){var je=!1,ht;if(c&&Z.peek()=="@"&&Z.match(I))return Le.tokenize=B,M("jsonld-keyword","meta");for(;(ht=Z.next())!=null&&!(ht==F&&!je);)je=!je&&ht=="\\";return je||(Le.tokenize=B),M("string","string")}}function U(F,Z){for(var Le=!1,je;je=F.next();){if(je=="/"&&Le){Z.tokenize=B;break}Le=je=="*"}return M("comment","comment")}function X(F,Z){for(var Le=!1,je;(je=F.next())!=null;){if(!Le&&(je=="`"||je=="$"&&F.eat("{"))){Z.tokenize=B;break}Le=!Le&&je=="\\"}return M("quasi","string-2",F.current())}var V="([{}])";function re(F,Z){Z.fatArrowAt&&(Z.fatArrowAt=null);var Le=F.string.indexOf("=>",F.start);if(!(Le<0)){if(m){var je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,Le));je&&(Le=je.index)}for(var ht=0,It=!1,Xe=Le-1;Xe>=0;--Xe){var Xn=F.string.charAt(Xe),Ar=V.indexOf(Xn);if(Ar>=0&&Ar<3){if(!ht){++Xe;break}if(--ht==0){Xn=="("&&(It=!0);break}}else if(Ar>=3&&Ar<6)++ht;else if(x.test(Xn))It=!0;else if(/["'\/`]/.test(Xn))for(;;--Xe){if(Xe==0)return;var wo=F.string.charAt(Xe-1);if(wo==Xn&&F.string.charAt(Xe-2)!="\\"){Xe--;break}}else if(It&&!ht){++Xe;break}}It&&!ht&&(Z.fatArrowAt=Xe)}}var fe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ve(F,Z,Le,je,ht,It){this.indented=F,this.column=Z,this.type=Le,this.prev=ht,this.info=It,je!=null&&(this.align=je)}function xe(F,Z){if(!v)return!1;for(var Le=F.localVars;Le;Le=Le.next)if(Le.name==Z)return!0;for(var je=F.context;je;je=je.prev)for(var Le=je.vars;Le;Le=Le.next)if(Le.name==Z)return!0}function ze(F,Z,Le,je,ht){var It=F.cc;for(J.state=F,J.stream=ht,J.marked=null,J.cc=It,J.style=Z,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var Xe=It.length?It.pop():p?Ye:Ue;if(Xe(Le,je)){for(;It.length&&It[It.length-1].lex;)It.pop()();return J.marked?J.marked:Le=="variable"&&xe(F,je)?"variable-2":Z}}}var J={state:null,column:null,marked:null,cc:null};function Q(){for(var F=arguments.length-1;F>=0;F--)J.cc.push(arguments[F])}function G(){return Q.apply(null,arguments),!0}function Ce(F,Z){for(var Le=Z;Le;Le=Le.next)if(Le.name==F)return!0;return!1}function Te(F){var Z=J.state;if(J.marked="def",!!v){if(Z.context){if(Z.lexical.info=="var"&&Z.context&&Z.context.block){var Le=ye(F,Z.context);if(Le!=null){Z.context=Le;return}}else if(!Ce(F,Z.localVars)){Z.localVars=new te(F,Z.localVars);return}}i.globalVars&&!Ce(F,Z.globalVars)&&(Z.globalVars=new te(F,Z.globalVars))}}function ye(F,Z){if(Z)if(Z.block){var Le=ye(F,Z.prev);return Le?Le==Z.prev?Z:new be(Le,Z.vars,!0):null}else return Ce(F,Z.vars)?Z:new be(Z.prev,new te(F,Z.vars),!1);else return null}function me(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function be(F,Z,Le){this.prev=F,this.vars=Z,this.block=Le}function te(F,Z){this.name=F,this.next=Z}var oe=new te("this",new te("arguments",null));function we(){J.state.context=new be(J.state.context,J.state.localVars,!1),J.state.localVars=oe}function ne(){J.state.context=new be(J.state.context,J.state.localVars,!0),J.state.localVars=null}we.lex=ne.lex=!0;function le(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}le.lex=!0;function pe(F,Z){var Le=function(){var je=J.state,ht=je.indented;if(je.lexical.type=="stat")ht=je.lexical.indented;else for(var It=je.lexical;It&&It.type==")"&&It.align;It=It.prev)ht=It.indented;je.lexical=new ve(ht,J.stream.column(),F,null,je.lexical,Z)};return Le.lex=!0,Le}function _e(){var F=J.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}_e.lex=!0;function Ne(F){function Z(Le){return Le==F?G():F==";"||Le=="}"||Le==")"||Le=="]"?Q():G(Z)}return Z}function Ue(F,Z){return F=="var"?G(pe("vardef",Z),Xl,Ne(";"),_e):F=="keyword a"?G(pe("form"),Dt,Ue,_e):F=="keyword b"?G(pe("form"),Ue,_e):F=="keyword d"?J.stream.match(/^\s*$/,!1)?G():G(pe("stat"),it,Ne(";"),_e):F=="debugger"?G(Ne(";")):F=="{"?G(pe("}"),ne,ge,_e,le):F==";"?G():F=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==_e&&J.state.cc.pop()(),G(pe("form"),Dt,Ue,_e,vc)):F=="function"?G(ni):F=="for"?G(pe("form"),ne,mc,Ue,le,_e):F=="class"||m&&Z=="interface"?(J.marked="keyword",G(pe("form",F=="class"?F:Z),$s,_e)):F=="variable"?m&&Z=="declare"?(J.marked="keyword",G(Ue)):m&&(Z=="module"||Z=="enum"||Z=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",Z=="enum"?G(Ei):Z=="type"?G(yc,Ne("operator"),Ve,Ne(";")):G(pe("form"),br,Ne("{"),pe("}"),ge,_e,_e)):m&&Z=="namespace"?(J.marked="keyword",G(pe("form"),Ye,Ue,_e)):m&&Z=="abstract"?(J.marked="keyword",G(Ue)):G(pe("stat"),dt):F=="switch"?G(pe("form"),Dt,Ne("{"),pe("}","switch"),ne,ge,_e,_e,le):F=="case"?G(Ye,Ne(":")):F=="default"?G(Ne(":")):F=="catch"?G(pe("form"),we,nt,Ue,_e,le):F=="export"?G(pe("stat"),Yl,_e):F=="import"?G(pe("stat"),ln,_e):F=="async"?G(Ue):Z=="@"?G(Ye,Ue):Q(pe("stat"),Ye,Ne(";"),_e)}function nt(F){if(F=="(")return G(yo,Ne(")"))}function Ye(F,Z){return Ft(F,Z,!1)}function wt(F,Z){return Ft(F,Z,!0)}function Dt(F){return F!="("?Q():G(pe(")"),it,Ne(")"),_e)}function Ft(F,Z,Le){if(J.state.fatArrowAt==J.stream.start){var je=Le?pt:kn;if(F=="(")return G(we,pe(")"),K(yo,")"),_e,Ne("=>"),je,le);if(F=="variable")return Q(we,br,Ne("=>"),je,le)}var ht=Le?Ot:yt;return fe.hasOwnProperty(F)?G(ht):F=="function"?G(ni,ht):F=="class"||m&&Z=="interface"?(J.marked="keyword",G(pe("form"),Wa,_e)):F=="keyword c"||F=="async"?G(Le?wt:Ye):F=="("?G(pe(")"),it,Ne(")"),_e,ht):F=="operator"||F=="spread"?G(Le?wt:Ye):F=="["?G(pe("]"),Ut,_e,ht):F=="{"?se(H,"}",null,ht):F=="quasi"?Q(jt,ht):F=="new"?G(de(Le)):G()}function it(F){return F.match(/[;\}\)\],]/)?Q():Q(Ye)}function yt(F,Z){return F==","?G(it):Ot(F,Z,!1)}function Ot(F,Z,Le){var je=Le==!1?yt:Ot,ht=Le==!1?Ye:wt;if(F=="=>")return G(we,Le?pt:kn,le);if(F=="operator")return/\+\+|--/.test(Z)||m&&Z=="!"?G(je):m&&Z=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?G(pe(">"),K(Ve,">"),_e,je):Z=="?"?G(Ye,Ne(":"),ht):G(ht);if(F=="quasi")return Q(jt,je);if(F!=";"){if(F=="(")return se(wt,")","call",je);if(F==".")return G(zn,je);if(F=="[")return G(pe("]"),it,Ne("]"),_e,je);if(m&&Z=="as")return J.marked="keyword",G(Ve,je);if(F=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),G(ht)}}function jt(F,Z){return F!="quasi"?Q():Z.slice(Z.length-2)!="${"?G(jt):G(it,Bt)}function Bt(F){if(F=="}")return J.marked="string-2",J.state.tokenize=X,G(jt)}function kn(F){return re(J.stream,J.state),Q(F=="{"?Ue:Ye)}function pt(F){return re(J.stream,J.state),Q(F=="{"?Ue:wt)}function de(F){return function(Z){return Z=="."?G(F?ke:Fe):Z=="variable"&&m?G(za,F?Ot:yt):Q(F?wt:Ye)}}function Fe(F,Z){if(Z=="target")return J.marked="keyword",G(yt)}function ke(F,Z){if(Z=="target")return J.marked="keyword",G(Ot)}function dt(F){return F==":"?G(_e,Ue):Q(yt,Ne(";"),_e)}function zn(F){if(F=="variable")return J.marked="property",G()}function H(F,Z){if(F=="async")return J.marked="property",G(H);if(F=="variable"||J.style=="keyword"){if(J.marked="property",Z=="get"||Z=="set")return G(_);var Le;return m&&J.state.fatArrowAt==J.stream.start&&(Le=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+Le[0].length),G(P)}else{if(F=="number"||F=="string")return J.marked=c?"property":J.style+" property",G(P);if(F=="jsonld-keyword")return G(P);if(m&&me(Z))return J.marked="keyword",G(H);if(F=="[")return G(Ye,Oe,Ne("]"),P);if(F=="spread")return G(wt,P);if(Z=="*")return J.marked="keyword",G(H);if(F==":")return Q(P)}}function _(F){return F!="variable"?Q(P):(J.marked="property",G(ni))}function P(F){if(F==":")return G(wt);if(F=="(")return Q(ni)}function K(F,Z,Le){function je(ht,It){if(Le?Le.indexOf(ht)>-1:ht==","){var Xe=J.state.lexical;return Xe.info=="call"&&(Xe.pos=(Xe.pos||0)+1),G(function(Xn,Ar){return Xn==Z||Ar==Z?Q():Q(F)},je)}return ht==Z||It==Z?G():Le&&Le.indexOf(";")>-1?Q(F):G(Ne(Z))}return function(ht,It){return ht==Z||It==Z?G():Q(F,je)}}function se(F,Z,Le){for(var je=3;je<arguments.length;je++)J.cc.push(arguments[je]);return G(pe(Z,Le),K(F,Z),_e)}function ge(F){return F=="}"?G():Q(Ue,ge)}function Oe(F,Z){if(m){if(F==":")return G(Ve);if(Z=="?")return G(Oe)}}function Be(F,Z){if(m&&(F==":"||Z=="in"))return G(Ve)}function Gt(F){if(m&&F==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?G(Ye,Ct,Ve):G(Ve)}function Ct(F,Z){if(Z=="is")return J.marked="keyword",G()}function Ve(F,Z){if(Z=="keyof"||Z=="typeof"||Z=="infer"||Z=="readonly")return J.marked="keyword",G(Z=="typeof"?wt:Ve);if(F=="variable"||Z=="void")return J.marked="type",G(Hr);if(Z=="|"||Z=="&")return G(Ve);if(F=="string"||F=="number"||F=="atom")return G(Hr);if(F=="[")return G(pe("]"),K(Ve,"]",","),_e,Hr);if(F=="{")return G(pe("}"),Fs,_e,Hr);if(F=="(")return G(K(js,")"),gt,Hr);if(F=="<")return G(K(Ve,">"),Ve);if(F=="quasi")return Q(wi,Hr)}function gt(F){if(F=="=>")return G(Ve)}function Fs(F){return F.match(/[\}\)\]]/)?G():F==","||F==";"?G(Fs):Q(Hn,Fs)}function Hn(F,Z){if(F=="variable"||J.style=="keyword")return J.marked="property",G(Hn);if(Z=="?"||F=="number"||F=="string")return G(Hn);if(F==":")return G(Ve);if(F=="[")return G(Ne("variable"),Be,Ne("]"),Hn);if(F=="(")return Q(Ur,Hn);if(!F.match(/[;\}\)\],]/))return G()}function wi(F,Z){return F!="quasi"?Q():Z.slice(Z.length-2)!="${"?G(wi):G(Ve,Un)}function Un(F){if(F=="}")return J.marked="string-2",J.state.tokenize=X,G(wi)}function js(F,Z){return F=="variable"&&J.stream.match(/^\s*[?:]/,!1)||Z=="?"?G(js):F==":"?G(Ve):F=="spread"?G(js):Q(Ve)}function Hr(F,Z){if(Z=="<")return G(pe(">"),K(Ve,">"),_e,Hr);if(Z=="|"||F=="."||Z=="&")return G(Ve);if(F=="[")return G(Ve,Ne("]"),Hr);if(Z=="extends"||Z=="implements")return J.marked="keyword",G(Ve);if(Z=="?")return G(Ve,Ne(":"),Ve)}function za(F,Z){if(Z=="<")return G(pe(">"),K(Ve,">"),_e,Hr)}function Wo(){return Q(Ve,ql)}function ql(F,Z){if(Z=="=")return G(Ve)}function Xl(F,Z){return Z=="enum"?(J.marked="keyword",G(Ei)):Q(br,Oe,qi,Ua)}function br(F,Z){if(m&&me(Z))return J.marked="keyword",G(br);if(F=="variable")return Te(Z),G();if(F=="spread")return G(br);if(F=="[")return se(Ha,"]");if(F=="{")return se(gc,"}")}function gc(F,Z){return F=="variable"&&!J.stream.match(/^\s*:/,!1)?(Te(Z),G(qi)):(F=="variable"&&(J.marked="property"),F=="spread"?G(br):F=="}"?Q():F=="["?G(Ye,Ne("]"),Ne(":"),gc):G(Ne(":"),br,qi))}function Ha(){return Q(br,qi)}function qi(F,Z){if(Z=="=")return G(wt)}function Ua(F){if(F==",")return G(Xl)}function vc(F,Z){if(F=="keyword b"&&Z=="else")return G(pe("form","else"),Ue,_e)}function mc(F,Z){if(Z=="await")return G(mc);if(F=="(")return G(pe(")"),Vl,_e)}function Vl(F){return F=="var"?G(Xl,Ko):F=="variable"?G(Ko):Q(Ko)}function Ko(F,Z){return F==")"?G():F==";"?G(Ko):Z=="in"||Z=="of"?(J.marked="keyword",G(Ye,Ko)):Q(Ye,Ko)}function ni(F,Z){if(Z=="*")return J.marked="keyword",G(ni);if(F=="variable")return Te(Z),G(ni);if(F=="(")return G(we,pe(")"),K(yo,")"),_e,Gt,Ue,le);if(m&&Z=="<")return G(pe(">"),K(Wo,">"),_e,ni)}function Ur(F,Z){if(Z=="*")return J.marked="keyword",G(Ur);if(F=="variable")return Te(Z),G(Ur);if(F=="(")return G(we,pe(")"),K(yo,")"),_e,Gt,le);if(m&&Z=="<")return G(pe(">"),K(Wo,">"),_e,Ur)}function yc(F,Z){if(F=="keyword"||F=="variable")return J.marked="type",G(yc);if(Z=="<")return G(pe(">"),K(Wo,">"),_e)}function yo(F,Z){return Z=="@"&&G(Ye,yo),F=="spread"?G(yo):m&&me(Z)?(J.marked="keyword",G(yo)):m&&F=="this"?G(Oe,qi):Q(br,Oe,qi)}function Wa(F,Z){return F=="variable"?$s(F,Z):xi(F,Z)}function $s(F,Z){if(F=="variable")return Te(Z),G(xi)}function xi(F,Z){if(Z=="<")return G(pe(">"),K(Wo,">"),_e,xi);if(Z=="extends"||Z=="implements"||m&&F==",")return Z=="implements"&&(J.marked="keyword"),G(m?Ve:Ye,xi);if(F=="{")return G(pe("}"),bi,_e)}function bi(F,Z){if(F=="async"||F=="variable"&&(Z=="static"||Z=="get"||Z=="set"||m&&me(Z))&&J.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return J.marked="keyword",G(bi);if(F=="variable"||J.style=="keyword")return J.marked="property",G(Wr,bi);if(F=="number"||F=="string")return G(Wr,bi);if(F=="[")return G(Ye,Oe,Ne("]"),Wr,bi);if(Z=="*")return J.marked="keyword",G(bi);if(m&&F=="(")return Q(Ur,bi);if(F==";"||F==",")return G(bi);if(F=="}")return G();if(Z=="@")return G(Ye,bi)}function Wr(F,Z){if(Z=="!"||Z=="?")return G(Wr);if(F==":")return G(Ve,qi);if(Z=="=")return G(wt);var Le=J.state.lexical.prev,je=Le&&Le.info=="interface";return Q(je?Ur:ni)}function Yl(F,Z){return Z=="*"?(J.marked="keyword",G(Pr,Ne(";"))):Z=="default"?(J.marked="keyword",G(Ye,Ne(";"))):F=="{"?G(K(Ql,"}"),Pr,Ne(";")):Q(Ue)}function Ql(F,Z){if(Z=="as")return J.marked="keyword",G(Ne("variable"));if(F=="variable")return Q(wt,Ql)}function ln(F){return F=="string"?G():F=="("?Q(Ye):F=="."?Q(yt):Q(et,Kr,Pr)}function et(F,Z){return F=="{"?se(et,"}"):(F=="variable"&&Te(Z),Z=="*"&&(J.marked="keyword"),G(Zl))}function Kr(F){if(F==",")return G(et,Kr)}function Zl(F,Z){if(Z=="as")return J.marked="keyword",G(et)}function Pr(F,Z){if(Z=="from")return J.marked="keyword",G(Ye)}function Ut(F){return F=="]"?G():Q(K(wt,"]"))}function Ei(){return Q(pe("form"),br,Ne("{"),pe("}"),K(Go,"}"),_e,_e)}function Go(){return Q(br,qi)}function Ds(F,Z){return F.lastType=="operator"||F.lastType==","||C.test(Z.charAt(0))||/[,.]/.test(Z.charAt(0))}function Me(F,Z,Le){return Z.tokenize==B&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Z.lastType)||Z.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(Le||0)))}return{startState:function(F){var Z={tokenize:B,lastType:"sof",cc:[],lexical:new ve((F||0)-a,0,"block",!1),localVars:i.localVars,context:i.localVars&&new be(null,null,!1),indented:F||0};return i.globalVars&&typeof i.globalVars=="object"&&(Z.globalVars=i.globalVars),Z},token:function(F,Z){if(F.sol()&&(Z.lexical.hasOwnProperty("align")||(Z.lexical.align=!1),Z.indented=F.indentation(),re(F,Z)),Z.tokenize!=U&&F.eatSpace())return null;var Le=Z.tokenize(F,Z);return N=="comment"?Le:(Z.lastType=N=="operator"&&(L=="++"||L=="--")?"incdec":N,ze(Z,Le,N,L,F))},indent:function(F,Z){if(F.tokenize==U||F.tokenize==X)return n.Pass;if(F.tokenize!=B)return 0;var Le=Z&&Z.charAt(0),je=F.lexical,ht;if(!/^\s*else\b/.test(Z))for(var It=F.cc.length-1;It>=0;--It){var Xe=F.cc[It];if(Xe==_e)je=je.prev;else if(Xe!=vc&&Xe!=le)break}for(;(je.type=="stat"||je.type=="form")&&(Le=="}"||(ht=F.cc[F.cc.length-1])&&(ht==yt||ht==Ot)&&!/^[,\.=+\-*:?[\(]/.test(Z));)je=je.prev;l&&je.type==")"&&je.prev.type=="stat"&&(je=je.prev);var Xn=je.type,Ar=Le==Xn;return Xn=="vardef"?je.indented+(F.lastType=="operator"||F.lastType==","?je.info.length+1:0):Xn=="form"&&Le=="{"?je.indented:Xn=="form"?je.indented+a:Xn=="stat"?je.indented+(Ds(F,Z)?l||a:0):je.info=="switch"&&!Ar&&i.doubleIndentSwitch!=!1?je.indented+(/^(?:case|default)\b/.test(Z)?a:2*a):je.align?je.column+(Ar?0:1):je.indented+(Ar?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:c,jsonMode:p,expressionAllowed:Me,skipExpression:function(F){ze(F,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var RY=pd();const kp=Sn(RY);let _h=[];function MY(e,t){const{prefixes:n,callback:r}=t;function i(a){if(a.state.completionActive||!n||!r)return;const l=a.findWordAt(a.getDoc().getCursor());l.anchor.ch--;const c=a.findWordAt(l.anchor),p=a.getRange(c.anchor,c.head);for(const v of n)if(p===v){r(a);return}}r&&n&&!_h.includes(e)?(_h.push(e),e.on("inputRead",i)):_h.includes(e)&&(e.off("inputRead",i),_h=_h.filter(a=>a!==e))}let O2=!1;function FY(){O2||(kp.defineOption("prefixTrigger",[],MY),O2=!0)}FY();const _p=e=>{const{fontFamily:t,fontScale:n,label:r,...i}=e,a={};return t&&(a.fontFamily=t.includes(" ")?'"'.concat(t,'"'):t),n&&(a.fontSize="".concat(n*100,"%")),b.jsx("div",{className:"code-area",style:a,children:b.jsxs("label",{children:[b.jsx("span",{className:ir("label",{"screen-reader-only":e.labelHidden}),children:r}),b.jsx(vN,{...i})]})})};function jY(e){return O.useCallback(t=>{t.showHint({completeSingle:!1,extraKeys:["]","-","|"].reduce((n,r)=>(n[r]=(i,a)=>{const l=i.getDoc();l.replaceRange(r,l.getCursor()),a.close()},n),{}),hint(){const n=t.findWordAt(t.getCursor()),r=t.getRange(n.anchor,n.head).toLowerCase(),i={list:e.passages.reduce((a,l)=>l.name.toLowerCase().includes(r)?[...a,l.name]:a,[]),from:n.anchor,to:n.head};return kp.on(i,"pick",()=>{const a=t.getDoc();a.replaceRange("]] ",a.getCursor())}),i}})},[e.passages])}function hS(e,t){var r;if(e.loadState!=="loaded"||!((r=e.properties.editorExtensions)!=null&&r.twine))return;const n=Object.keys(e.properties.editorExtensions.twine).filter(i=>$E.satisfies(t,i));if(n.length===0){console.info("".concat(e.name," ").concat(e.version," has editor extensions, but none that ").concat(t," satisfies"));return}return n.length>1&&console.warn("More than one set of editor extensions for ".concat(e.name," ").concat(e.version," is satisfied by ").concat(t,". Using the first.")),e.properties.editorExtensions.twine[n[0]]}function Qh(e){return e.name.toLowerCase().replace(/\s/g,"-")+"-"+e.version}function $Y(e,t){const{dispatch:n,formats:r}=Wi(),i=ho(r,e,t),{prefs:a}=Yt(),[l,c]=O.useState(),p=yE(a,e,t);return O.useEffect(()=>{var v;if(!p){if(i.loadState==="unloaded")n(yp(i));else if(i.loadState==="loaded"){const m=hS(i,uo().version);(v=m==null?void 0:m.codeMirror)!=null&&v.mode&&(kp.defineMode(Qh(i),m.codeMirror.mode),c(Qh(i)))}}},[n,p,i]),l}function pS(e){let t={extraKeys:{Insert(){}}};return e.editorCursorBlinks||(t.cursorBlinkRate=0),t}const DY=e=>{var B;const{disabled:t,onChange:n,onEditorChange:r,passage:i,story:a,storyFormat:l,storyFormatExtensionsDisabled:c}=e,[p,v]=O.useState(i.text),{prefs:m}=Yt(),x=jY(a),S=(B=$Y(l.name,l.version))!=null?B:"text",{t:C}=qe(),I=O.useRef(),$=O.useRef();O.useEffect(()=>{!$.current&&p!==i.text&&v(i.text)},[p,i.text]);const N=O.useCallback((j,U,X)=>{r(j),v(X),$.current&&window.clearTimeout($.current),I.current=X,$.current=window.setTimeout(()=>{$.current=void 0,n(I.current)},1e3)},[n,r]);O.useEffect(()=>{$.current&&(window.clearTimeout($.current),$.current=window.setTimeout(()=>{$.current=void 0,n(I.current)},1e3))},[n]);const L=O.useCallback(j=>{r(j),window.setTimeout(()=>{j.focus(),j.refresh()},400)},[r]),M=O.useMemo(()=>({...pS(m),mode:c?"text":S,lineWrapping:!0,placeholder:C("dialogs.passageEdit.passageTextPlaceholder"),prefixTrigger:{callback:x,prefixes:["[[","->"]},readOnly:t?"nocursor":!1}),[x,t,S,m,c,C]);return b.jsx(fS,{children:b.jsx(_p,{editorDidMount:L,fontFamily:m.passageEditorFontFamily,fontScale:m.passageEditorFontScale,label:C("dialogs.passageEdit.passageTextEditorLabel"),labelHidden:!0,onBeforeChange:N,onChange:r,options:M,value:p})})},mN=e=>{const{editor:t}=e,{t:n}=qe();function r(i){t==null||t.execCommand(i),t==null||t.focus()}return b.jsxs(b.Fragment,{children:[b.jsx(tt,{disabled:!t,icon:b.jsx(G3,{}),label:n("components.indentButtons.indent"),onClick:()=>r("indentMore")}),b.jsx(tt,{disabled:!t,icon:b.jsx(W3,{}),label:n("components.indentButtons.unindent"),onClick:()=>r("indentLess")})]})},gS=e=>{const{disabled:t,editor:n,watch:r}=e,{t:i}=qe(),[a,l]=O.useState(!1),[c,p]=O.useState(!1);O.useEffect(()=>{if(n){const m=n.historySize();l(m.redo>0),p(m.undo>0)}else l(!1),p(!1)},[n,r]);function v(m){n==null||n.execCommand(m),n==null||n.focus()}return b.jsxs(b.Fragment,{children:[b.jsx(tt,{disabled:t||!c,icon:b.jsx(BL,{}),label:i("common.undo"),onClick:()=>v("undo")}),b.jsx(tt,{disabled:t||!a,icon:b.jsx(zL,{}),label:i("common.redo"),onClick:()=>v("redo")})]})};const BY=e=>b.jsx("div",{className:"button-card",children:b.jsx(Ul,{...e})});const Qp=e=>{const{items:t,...n}=e,[r,i]=O.useState(null),[a,l]=O.useState(null),[c,p]=O.useState(!1),{styles:v,attributes:m}=cS(r,a,{strategy:"fixed"});return O.useEffect(()=>{const x=()=>p(!1);return c&&document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[a,c,p]),b.jsxs("span",{className:"menu-button",children:[b.jsx(tt,{...n,onClick:()=>p(x=>!x),ref:i}),b.jsx($a,{classNames:"fade-out",in:c,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsx("div",{className:"menu-button-menu",ref:l,style:v.popper,...m.popper,children:b.jsx(BY,{floating:!0,children:b.jsx(An,{orientation:"vertical",children:t.map((x,S)=>x.separator?b.jsx(V4,{},S):"checkable"in x?b.jsx(Pa,{checkedIcon:b.jsx(vE,{}),disabled:x.disabled,label:x.label,onChange:x.onClick,uncheckedIcon:b.jsx(jT,{}),value:x.checked},S):b.jsx(tt,{disabled:x.disabled,icon:b.jsx(jT,{}),label:x.label,onClick:x.onClick,variant:x.variant},S))})})})})]})};/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Zx=yN.join(","),Op=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,wN=function(t,n,r){var i=Array.prototype.slice.apply(t.querySelectorAll(Zx));return n&&Op.call(t,Zx)&&i.unshift(t),i=i.filter(r),i},zY=function(t){return t.contentEditable==="true"},xN=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return isNaN(n)?zY(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n},HY=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},vS=function(t){return t.tagName==="INPUT"},UY=function(t){return vS(t)&&t.type==="hidden"},WY=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},KY=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},GY=function(t){if(!t.name)return!0;var n=t.form||t.ownerDocument,r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=KY(i,t.form);return!a||a===t},qY=function(t){return vS(t)&&t.type==="radio"},XY=function(t){return qY(t)&&!GY(t)},VY=function(t,n){if(getComputedStyle(t).visibility==="hidden")return!0;var r=Op.call(t,"details>summary:first-of-type"),i=r?t.parentElement:t;if(Op.call(i,"details:not([open]) *"))return!0;if(!n||n==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(n==="non-zero-area"){var a=t.getBoundingClientRect(),l=a.width,c=a.height;return l===0&&c===0}return!1},YY=function(t){if(vS(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return!i.contains(t)}return!0}n=n.parentElement}return!1},mS=function(t,n){return!(n.disabled||UY(n)||VY(n,t.displayCheck)||WY(n)||YY(n))},bN=function(t,n){return!(!mS(t,n)||XY(n)||xN(n)<0)},QY=function(t,n){n=n||{};var r=[],i=[],a=wN(t,n.includeContainer,bN.bind(null,n));a.forEach(function(c,p){var v=xN(c);v===0?r.push(c):i.push({documentOrder:p,tabIndex:v,node:c})});var l=i.sort(HY).map(function(c){return c.node}).concat(r);return l},ZY=function(t,n){n=n||{};var r=wN(t,n.includeContainer,mS.bind(null,n));return r},Xv=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Op.call(t,Zx)===!1?!1:bN(n,t)},JY=yN.concat("iframe").join(","),w1=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Op.call(t,JY)===!1?!1:mS(n,t)};/*!
* focus-trap 6.7.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P2=function(){var e=[];return{activateTrap:function(n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),nQ=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},rQ=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},iQ=function(t){return t.key==="Tab"||t.keyCode===9},A2=function(t){return setTimeout(t,0)},x1=function(t,n){var r=-1;return t.every(function(i,a){return n(i)?(r=a,!1):!0}),r},Oh=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},Vv=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},oQ=function(t,n){var r=(n==null?void 0:n.document)||document,i=eQ({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),a={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},l,c=function(X,V,re){return X&&X[V]!==void 0?X[V]:i[re||V]},p=function(X){return!!(X&&a.containers.some(function(V){return V.contains(X)}))},v=function(X){var V=i[X];if(typeof V=="function"){for(var re=arguments.length,fe=new Array(re>1?re-1:0),ve=1;ve<re;ve++)fe[ve-1]=arguments[ve];V=V.apply(void 0,fe)}if(!V){if(V===void 0||V===!1)return V;throw new Error("`".concat(X,"` was specified but was not a node, or did not return a node"))}var xe=V;if(typeof V=="string"&&(xe=r.querySelector(V),!xe))throw new Error("`".concat(X,"` as selector refers to no known node"));return xe},m=function(){var X=v("initialFocus");if(X===!1)return!1;if(X===void 0)if(p(r.activeElement))X=r.activeElement;else{var V=a.tabbableGroups[0],re=V&&V.firstTabbableNode;X=re||v("fallbackFocus")}if(!X)throw new Error("Your focus-trap needs to have at least one focusable element");return X},x=function(){if(a.tabbableGroups=a.containers.map(function(X){var V=QY(X),re=ZY(X);if(V.length>0)return{container:X,firstTabbableNode:V[0],lastTabbableNode:V[V.length-1],nextTabbableNode:function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ze=re.findIndex(function(J){return J===ve});return xe?re.slice(ze+1).find(function(J){return Xv(J)}):re.slice(0,ze).reverse().find(function(J){return Xv(J)})}}}).filter(function(X){return!!X}),a.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},S=function U(X){if(X!==!1&&X!==r.activeElement){if(!X||!X.focus){U(m());return}X.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=X,nQ(X)&&X.select()}},C=function(X){var V=v("setReturnFocus",X);return V||(V===!1?!1:X)},I=function(X){var V=Vv(X);if(!p(V)){if(Oh(i.clickOutsideDeactivates,X)){l.deactivate({returnFocus:i.returnFocusOnDeactivate&&!w1(V)});return}Oh(i.allowOutsideClick,X)||X.preventDefault()}},$=function(X){var V=Vv(X),re=p(V);re||V instanceof Document?re&&(a.mostRecentlyFocusedNode=V):(X.stopImmediatePropagation(),S(a.mostRecentlyFocusedNode||m()))},N=function(X){var V=Vv(X);x();var re=null;if(a.tabbableGroups.length>0){var fe=x1(a.tabbableGroups,function(Te){var ye=Te.container;return ye.contains(V)}),ve=fe>=0?a.tabbableGroups[fe]:void 0;if(fe<0)X.shiftKey?re=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:re=a.tabbableGroups[0].firstTabbableNode;else if(X.shiftKey){var xe=x1(a.tabbableGroups,function(Te){var ye=Te.firstTabbableNode;return V===ye});if(xe<0&&(ve.container===V||w1(V)&&!Xv(V)&&!ve.nextTabbableNode(V,!1))&&(xe=fe),xe>=0){var ze=xe===0?a.tabbableGroups.length-1:xe-1,J=a.tabbableGroups[ze];re=J.lastTabbableNode}}else{var Q=x1(a.tabbableGroups,function(Te){var ye=Te.lastTabbableNode;return V===ye});if(Q<0&&(ve.container===V||w1(V)&&!Xv(V)&&!ve.nextTabbableNode(V))&&(Q=fe),Q>=0){var G=Q===a.tabbableGroups.length-1?0:Q+1,Ce=a.tabbableGroups[G];re=Ce.firstTabbableNode}}}else re=v("fallbackFocus");re&&(X.preventDefault(),S(re))},L=function(X){if(rQ(X)&&Oh(i.escapeDeactivates,X)!==!1){X.preventDefault(),l.deactivate();return}if(iQ(X)){N(X);return}},M=function(X){if(!Oh(i.clickOutsideDeactivates,X)){var V=Vv(X);p(V)||Oh(i.allowOutsideClick,X)||(X.preventDefault(),X.stopImmediatePropagation())}},B=function(){if(a.active)return P2.activateTrap(l),a.delayInitialFocusTimer=i.delayInitialFocus?A2(function(){S(m())}):S(m()),r.addEventListener("focusin",$,!0),r.addEventListener("mousedown",I,{capture:!0,passive:!1}),r.addEventListener("touchstart",I,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",L,{capture:!0,passive:!1}),l},j=function(){if(a.active)return r.removeEventListener("focusin",$,!0),r.removeEventListener("mousedown",I,!0),r.removeEventListener("touchstart",I,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",L,!0),l};return l={activate:function(X){if(a.active)return this;var V=c(X,"onActivate"),re=c(X,"onPostActivate"),fe=c(X,"checkCanFocusTrap");fe||x(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,V&&V();var ve=function(){fe&&x(),B(),re&&re()};return fe?(fe(a.containers.concat()).then(ve,ve),this):(ve(),this)},deactivate:function(X){if(!a.active)return this;clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,j(),a.active=!1,a.paused=!1,P2.deactivateTrap(l);var V=c(X,"onDeactivate"),re=c(X,"onPostDeactivate"),fe=c(X,"checkCanReturnFocus");V&&V();var ve=c(X,"returnFocus","returnFocusOnDeactivate"),xe=function(){A2(function(){ve&&S(C(a.nodeFocusedBeforeActivation)),re&&re()})};return ve&&fe?(fe(C(a.nodeFocusedBeforeActivation)).then(xe,xe),this):(xe(),this)},pause:function(){return a.paused||!a.active?this:(a.paused=!0,j(),this)},unpause:function(){return!a.paused||!a.active?this:(a.paused=!1,x(),B(),this)},updateContainerElements:function(X){var V=[].concat(X).filter(Boolean);return a.containers=V.map(function(re){return typeof re=="string"?r.querySelector(re):re}),a.active&&x(),this}},l.updateContainerElements(t),l};const aQ=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:oQ},Symbol.toStringTag,{value:"Module"})),sQ=_j(aQ);function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function lQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uQ(e,t,n){return t&&N2(e.prototype,t),n&&N2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eb(e,t)}function fQ(e){var t=pQ();return function(){var r=yy(e),i;if(t){var a=yy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return dQ(this,i)}}function dQ(e,t){if(t&&(Jx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}var Yv=O,gQ=Bp,Rt=t0,vQ=sQ,mQ=vQ.createFocusTrap,yS=function(e){cQ(n,e);var t=fQ(n);function n(r){var i;lQ(this,n),i=t.call(this,r),i.tailoredFocusTrapOptions={returnFocusOnDeactivate:!1},i.returnFocusOnDeactivate=!0;var a=r.focusTrapOptions;for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){if(l==="returnFocusOnDeactivate"){i.returnFocusOnDeactivate=!!a[l];continue}if(l==="onPostDeactivate"){i.onPostDeactivate=a[l];continue}i.tailoredFocusTrapOptions[l]=a[l]}return i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return uQ(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getNodeForOption",value:function(i){var a=this.tailoredFocusTrapOptions[i];if(!a)return null;var l=a;if(typeof a=="string"){var c;if(l=(c=this.getDocument())===null||c===void 0?void 0:c.querySelector(a),!l)throw new Error("`".concat(i,"` refers to no known node"))}if(typeof a=="function"&&(l=a(),!l))throw new Error("`".concat(i,"` did not return a node"));return l}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus");return i||this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){var i=this,a=this.tailoredFocusTrapOptions,l=a.checkCanReturnFocus,c=a.preventScroll,p=c===void 0?!1:c;this.focusTrap&&this.focusTrap.deactivate({returnFocus:!1});var v=function(){var x=i.getReturnFocusNode(),S=(x==null?void 0:x.focus)&&i.returnFocusOnDeactivate;S&&x.focus({preventScroll:p}),i.onPostDeactivate&&i.onPostDeactivate.call(null)};l?l(this.getReturnFocusNode()).then(v,v):v()}},{key:"setupFocusTrap",value:function(){if(!this.focusTrap){var i=this.focusTrapElements.map(gQ.findDOMNode),a=i.some(Boolean);a&&(this.focusTrap=this.props._createFocusTrap(i,this.tailoredFocusTrapOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var a=!i.active&&this.props.active,l=i.active&&!this.props.active,c=!i.paused&&this.props.paused,p=i.paused&&!this.props.paused;if(a&&(this.updatePreviousElement(),this.focusTrap.activate()),l){this.deactivateTrap();return}c&&this.focusTrap.pause(),p&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,a=this.props.children?Yv.Children.only(this.props.children):void 0;if(a){if(a.type&&a.type===Yv.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var l=function(v){var m=i.props.containerElements;a&&(typeof a.ref=="function"?a.ref(v):a.ref&&(a.ref.current=v)),i.focusTrapElements=m||[v]},c=Yv.cloneElement(a,{ref:l});return c}return null}}]),n}(Yv.Component),Lh=typeof Element>"u"?Function:Element;yS.propTypes={active:Rt.bool,paused:Rt.bool,focusTrapOptions:Rt.shape({document:Rt.object,onActivate:Rt.func,onPostActivate:Rt.func,checkCanFocusTrap:Rt.func,onDeactivate:Rt.func,onPostDeactivate:Rt.func,checkCanReturnFocus:Rt.func,initialFocus:Rt.oneOfType([Rt.instanceOf(Lh),Rt.string,Rt.func,Rt.bool]),fallbackFocus:Rt.oneOfType([Rt.instanceOf(Lh),Rt.string,Rt.func]),escapeDeactivates:Rt.oneOfType([Rt.bool,Rt.func]),clickOutsideDeactivates:Rt.oneOfType([Rt.bool,Rt.func]),returnFocusOnDeactivate:Rt.bool,setReturnFocus:Rt.oneOfType([Rt.instanceOf(Lh),Rt.string,Rt.func]),allowOutsideClick:Rt.oneOfType([Rt.bool,Rt.func]),preventScroll:Rt.bool}),containerElements:Rt.arrayOf(Rt.instanceOf(Lh)),children:Rt.oneOfType([Rt.element,Rt.instanceOf(Lh)])};yS.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:mQ};var yQ=yS;const wQ=Sn(yQ),qu=e=>{const{ariaLabel:t,children:n,focusSelector:r,onChangeOpen:i,open:a,...l}=e,[c,p]=O.useState(null),[v,m]=O.useState(null),{styles:x,attributes:S}=cS(c,v,{strategy:"fixed"});return b.jsxs("span",{className:"card-button",children:[b.jsx(tt,{onClick:()=>i(!a),...l,ref:p}),b.jsx($a,{classNames:"fade-out",in:a,mountOnEnter:!0,timeout:200,unmountOnExit:!0,children:b.jsx(wQ,{focusTrapOptions:{clickOutsideDeactivates:!0,onDeactivate:()=>i(!1)},children:b.jsx("div",{"aria-label":t,className:"card-button-card",ref:m,role:"dialog",style:x.popper,...S.popper,children:b.jsx(Ul,{floating:!0,children:n})})})})]})},Zp=e=>{const{cancelIcon:t,cancelLabel:n,onChange:r,onSubmit:i,prompt:a,submitIcon:l,submitLabel:c,submitVariant:p,validate:v,value:m,...x}=e,S=O.useRef(!0),[C,I]=O.useState(!1),[$,N]=O.useState(),{t:L}=qe();O.useEffect(()=>{async function j(){if(v){const U=await v(m);S.current&&N(U)}else S.current&&N({valid:!0})}j()},[v,m]),O.useEffect(()=>()=>{S.current=!1},[]);function M(j){j.preventDefault(),I(!1)}function B(j){j.preventDefault(),$!=null&&$.valid&&(i(m),I(!1))}return b.jsx("span",{className:"prompt-button",children:b.jsx(qu,{ariaLabel:a,onChangeOpen:I,open:C,...x,children:b.jsxs("form",{onSubmit:B,children:[b.jsxs(_r,{children:[b.jsx(Cp,{onChange:r,orientation:"vertical",value:m,children:a}),($==null?void 0:$.message)&&b.jsx("p",{children:$.message})]}),b.jsxs(An,{children:[b.jsx(tt,{buttonType:"submit",disabled:!($!=null&&$.valid),icon:l!=null?l:b.jsx(vE,{}),label:c!=null?c:L("common.ok"),variant:p!=null?p:"primary"}),b.jsx(tt,{buttonType:"button",icon:t!=null?t:b.jsx(No,{}),label:n!=null?n:L("common.cancel"),onClick:M})]})]})})})},xQ=()=>{const{t:e}=qe();return b.jsx(tt,{disabled:!0,icon:b.jsx(zp,{}),label:e("common.rename")})},bQ=e=>{const{onRename:t,passage:n,story:r}=e,[i,a]=O.useState(n.name),{t:l}=qe();function c(p){return p.trim()===""?{message:l("components.renamePassageButton.emptyName"),valid:!1}:r.passages.some(v=>v.id!==n.id&&v.name===p)?{message:l("components.renamePassageButton.nameAlreadyUsed"),valid:!1}:{valid:!0}}return b.jsx(Zp,{icon:b.jsx(zp,{}),label:l("common.rename"),onChange:p=>a(p.target.value),onSubmit:t,prompt:l("common.renamePrompt",{name:n.name}),validate:c,value:i})},EN=e=>!e.disabled&&e.passage?b.jsx(bQ,{...e}):b.jsx(xQ,{}),wS=["none","red","orange","yellow","green","blue","purple"];const SN=e=>{const{assignedTags:t,disabled:n,existingTags:r,icon:i,label:a,onAdd:l}=e,[c,p]=O.useState(!0),[v,m]=O.useState("none"),[x,S]=O.useState(""),[C,I]=O.useState(!1),{t:$}=qe();let N,L=ud(x);!L&&x!==""&&(N=$("components.addTagButton.invalidName")),L&&c&&(L=!r.includes(x),L||(N=$("components.addTagButton.alreadyAdded")));function M(){c?l(x,v):l(x),I(!1)}function B(j){const U=j.target.value;S(U),p(U==="")}return b.jsx("span",{className:"add-tag-button",children:b.jsxs(qu,{ariaLabel:$("components.addTagButton.addLabel"),disabled:n,icon:i!=null?i:b.jsx(Xf,{}),label:a!=null?a:$("common.tag"),onChangeOpen:I,open:C,children:[b.jsxs(_r,{children:[b.jsx(Ps,{onChange:B,options:[{label:$("components.addTagButton.newTag"),value:""},...r.map(j=>({disabled:t.includes(j),label:j,value:j}))],value:c?"":x,children:$("components.addTagButton.addLabel")}),c&&b.jsxs(b.Fragment,{children:[b.jsx(Cp,{onChange:j=>S(j.target.value.replace(/\s/g,"-")),value:x,children:$("components.addTagButton.tagNameLabel")}),b.jsx(Ps,{onChange:j=>m(j.target.value),options:wS.map(j=>({label:$("colors.".concat(j)),value:j})),value:v,children:$("components.addTagButton.tagColorLabel")})]}),c&&!!N&&b.jsx("p",{children:N})]}),b.jsxs(An,{children:[b.jsx(tt,{disabled:!L,icon:b.jsx(Xf,{}),label:$("common.add"),onClick:M,variant:"create"}),b.jsx(tt,{icon:b.jsx(No,{}),label:$("common.cancel"),onClick:()=>I(!1)})]})]})})};const CN=e=>{const{t}=qe();return b.jsx("span",{className:ir("tag-button","color-".concat(e.color)),children:b.jsx(Qp,{disabled:e.disabled,icon:b.jsx(HL,{}),iconPosition:"end",items:[...wS.map(n=>({checkable:!0,checked:n==="none"?!e.color:n===e.color,label:t("colors.".concat(n)),onClick:()=>e.onChangeColor(n)})),{separator:!0},{label:t("common.remove"),onClick:e.onRemove}],label:e.name})})};const TN=O.memo(e=>b.jsx("div",{className:"tag-stripe",children:e.tags.map(t=>b.jsx("span",{className:"color-".concat(e.tagColors[t]),title:t},t))}));TN.displayName="TagStripe";function Jp(){const{prefs:e}=Yt(),{dispatch:t,formats:n}=Wi(),{stories:r}=dn();return{publishArchive:O.useCallback(async()=>bA(r,uo()),[r]),proofStory:O.useCallback(async i=>{const a=on(r,i),l=ho(n,e.proofingFormat.name,e.proofingFormat.version),c=await yp(l)(t);if(!c)throw new Error("Couldn't load story format properties");return cy(a,c.source,uo())},[n,e.proofingFormat.name,e.proofingFormat.version,r,t]),publishStory:O.useCallback(async(i,a)=>{const l=on(r,i),c=ho(n,l.storyFormat,l.storyFormatVersion),p=await yp(c)(t);if(!p)throw new Error("Couldn't load story format properties");return cy(l,p.source,uo(),a)},[n,r,t]),publishStoryData:O.useCallback(i=>{const a=on(r,i);return Jy(a,uo(),{startOptional:!0})},[r])}}function kN(){const{proofStory:e,publishStory:t}=Jp();if(dc()){const{twineElectron:n}=window;if(!n)throw new Error("Electron bridge is not present on window.");return{playStory:async r=>{n.openWithScratchFile(await t(r),"play-".concat(r,".html"))},proofStory:async r=>{n.openWithScratchFile(await e(r),"proof-".concat(r,".html"))},testStory:async(r,i)=>{n.openWithScratchFile(await t(r,{formatOptions:"debug",startId:i}),"test-".concat(r,".html"))}}}return{playStory:async n=>{window.open("#/stories/".concat(n,"/play"),"_blank")},proofStory:async n=>{window.open("#/stories/".concat(n,"/proof"),"_blank")},testStory:async(n,r)=>{window.open(r?"#/stories/".concat(n,"/test/").concat(r):"#/stories/".concat(n,"/test"),"_blank")}}}const _N=e=>{const{passage:t,story:n}=e,{testStory:r}=kN(),{t:i}=qe();return b.jsx(tt,{disabled:!t,icon:b.jsx(YL,{}),label:i("routes.storyEdit.toolbar.testFromHere"),onClick:()=>r(n.id,t==null?void 0:t.id)})},EQ=e=>{const{disabled:t,editor:n,passage:r,story:i}=e,{dispatch:a}=Gi(),{t:l}=qe();function c(m,x){a(n7(i,r,m),l("undoChange.addTag")),x&&a(eA(i,m,x))}function p(m){a(Dl(i,r,{name:m},{dontUpdateOthers:!0}))}function v({height:m,width:x}){a(Dl(i,r,{height:m,width:x}))}return b.jsxs(An,{children:[b.jsx(gS,{disabled:t,editor:n,watch:r.text}),b.jsx(SN,{disabled:t,assignedTags:r.tags,existingTags:YP(i),onAdd:c}),b.jsx(Qp,{disabled:t,icon:b.jsx(c4,{}),items:[{checkable:!0,checked:r.height===100&&r.width===100,label:l("dialogs.passageEdit.sizeSmall"),onClick:()=>v({height:100,width:100})},{checkable:!0,checked:r.height===200&&r.width===200,label:l("dialogs.passageEdit.sizeLarge"),onClick:()=>v({height:200,width:200})},{checkable:!0,checked:r.height===200&&r.width===100,label:l("dialogs.passageEdit.sizeTall"),onClick:()=>v({height:200,width:100})},{checkable:!0,checked:r.height===100&&r.width===200,label:l("dialogs.passageEdit.sizeWide"),onClick:()=>v({height:100,width:200})}],label:l("dialogs.passageEdit.size")}),b.jsx(EN,{disabled:t,onRename:p,passage:r,story:i}),b.jsx(_N,{passage:r,story:i})]})};function ON(){const{prefs:e}=Yt(),[t]=O.useState(window.matchMedia("(prefers-color-scheme: dark)")),[n,r]=O.useState(t.matches?"dark":"light");return O.useEffect(()=>{const i=a=>r(a.matches?"dark":"light");return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),e.appTheme==="system"?n:e.appTheme}function SQ(e,t){const{dispatch:n,formats:r}=Wi(),[i,a]=O.useState({}),[l,c]=O.useState(),p=ho(r,e,t),{prefs:v}=Yt(),m=yE(v,e,t);return O.useEffect(()=>{var x,S;if(!m){if(p.loadState==="unloaded")n(yp(p));else if(p.loadState==="loaded"&&!i[Qh(p)]){const C=Qh(p),I=hS(p,uo().version);if((x=I==null?void 0:I.codeMirror)!=null&&x.commands)for(const $ in I.codeMirror.commands){const N=C+$;N in kp.commands?console.warn('CodeMirror already has a "'.concat(N,'" command defined, skipping')):kp.commands[N]=I.codeMirror.commands[$]}(S=I==null?void 0:I.codeMirror)!=null&&S.toolbar&&c(()=>($,N)=>{var M;if(!((M=I==null?void 0:I.codeMirror)!=null&&M.toolbar))return[];const L=I.codeMirror.toolbar($,N);return Array.isArray(L)?L.reduce((B,j)=>{switch(j.type){case"button":return[...B,{...j,command:C+j.command}];case"menu":if(Array.isArray(j.items))return[...B,{...j,items:j.items.filter(U=>["button","separator"].includes(U.type)).map(U=>U.type==="separator"?U:{...U,command:C+U.command})}]}return B},[]):[]}),a($=>({...$,[Qh(p)]:!0}))}}},[n,m,p,i]),l}const CQ=e=>{const{disabled:t,editor:n,onExecCommand:r,storyFormat:i}=e,a=O.useRef(null),l=ON(),{prefs:c}=Yt(),p=SQ(i.name,i.version),[v,m]=O.useState([]),x=O.useCallback(()=>{if(p&&a.current&&n)try{const C=window.getComputedStyle(a.current);m(p(n,{appTheme:l,foregroundColor:C.color,locale:c.locale}))}catch(C){console.error("Toolbar function for ".concat(i.name," ").concat(i.version," threw an error, skipping update"),C)}else m([])},[l,n,c.locale,i.name,i.version,p]);O.useEffect(()=>{if(n)return x(),n.on("cursorActivity",x),()=>n.off("cursorActivity",x)},[n,x]);function S(C){r(C),Promise.resolve().then(x)}return b.jsx("div",{className:"story-format-toolbar",ref:a,children:b.jsx(An,{children:v.map((C,I)=>{switch(C.type){case"button":return b.jsx(tt,{disabled:t||C.disabled,icon:b.jsx("img",{src:C.icon,alt:""}),iconOnly:C.iconOnly,label:C.label,onClick:()=>S(C.command)},I);case"menu":return b.jsx(Qp,{disabled:t||C.disabled,icon:b.jsx("img",{src:C.icon,alt:""}),iconOnly:C.iconOnly,items:C.items.filter($=>["button","separator"].includes($.type)).map($=>$.type==="button"?{type:"button",disabled:$.disabled,label:$.label,onClick:()=>S($.command)}:{separator:!0}),label:C.label},I)}return null})})})},TQ=e=>{const{disabled:t,passage:n,story:r}=e,{dispatch:i,stories:a}=Gi(),{t:l}=qe();function c(v,m){i(Zr(a,r,{tagColors:{...r.tagColors,[v]:m}}))}function p(v){i(r7(r,n,v),l("undoChange.removeTag"))}return n.tags.length===0?null:b.jsx("div",{className:"tags",children:b.jsx(An,{children:n.tags.map(v=>b.jsx(CN,{color:r.tagColors[v],disabled:t,name:v,onChangeColor:m=>c(v,m),onRemove:()=>p(v)},v))})})};const I2=e=>{const{disabled:t,passageId:n,storyId:r}=e,[i,a]=O.useState(!0),[l,c]=O.useState(!1),[p,v]=O.useState(),{ErrorBoundary:m,error:x,reset:S}=My(),{dispatch:C,stories:I}=Gi(),{formats:$}=Wi(),N=Os(I,r,n),L=on(I,r),M=ho($,L.storyFormat,L.storyFormatVersion),{t:B}=qe();O.useEffect(()=>{x&&(i?(console.error("Passage editor crashed, trying without format extensions",x),a(!1)):c(!0),S())},[x,S,i]);const j=O.useCallback(X=>{C(Dl(L,N,{text:X}))},[C,N,L]);function U(X){if(!p)throw new Error("No editor set");p.execCommand(X);const V=p.listSelections();Promise.resolve().then(()=>p.setSelections(V))}return l?b.jsx(Hl,{children:B("dialogs.passageEdit.editorCrashed")}):b.jsxs("div",{className:"passage-edit-contents","aria-hidden":t,children:[b.jsx(EQ,{disabled:t,editor:p,passage:N,story:L}),i&&b.jsx(CQ,{disabled:t,editor:p,onExecCommand:U,storyFormat:M}),b.jsx(TQ,{disabled:t,passage:N,story:L}),b.jsx(m,{children:b.jsx(DY,{disabled:t,onChange:j,onEditorChange:v,passage:N,story:L,storyFormat:M,storyFormatExtensionsDisabled:!i})})]})};const R2=({value:e})=>{const t=/^\s*/.exec(e),n=t?t[0].length:0,r=/\s*$/.exec(e),i=r?r[0].length:0;return b.jsxs("span",{className:"visible-whitespace",children:[[...Array(n)].map((a,l)=>b.jsx(LT,{},l)),e.trim(),[...Array(i)].map((a,l)=>b.jsx(LT,{},l))]})},kQ=e=>{const{onChangeProps:t,onClose:n,passageIds:r,storyId:i,...a}=e,{dispatch:l}=yi(),{stories:c}=dn(),p=r.map(x=>Os(c,i,x).name),v={};a.collapsed&&(v.height="calc(var(--control-height) * ".concat(r.length,")"),a.maximized&&(v.bottom=0,v.position="absolute"));function m(x,S){S!=null&&S.shiftKey?n(S):l(_Q([x]))}return b.jsx("div",{className:ir("passage-edit-stack",{collapsed:a.collapsed}),style:v,children:b.jsx(PY,{childKeys:r,children:r.map((x,S)=>S!==0?O.createElement(EY,{...a,headerDisplayLabel:b.jsx(R2,{value:p[S]}),headerLabel:p[S],key:x,onClose:C=>m(x,C),onRaise:()=>l(xS(i,[x]))},b.jsx(I2,{disabled:!0,passageId:x,storyId:i})):O.createElement(Uo,{...a,headerDisplayLabel:b.jsx(R2,{value:p[S]}),headerLabel:p[S],key:x,maximizable:!0,onClose:C=>m(x,C)},b.jsx(I2,{passageId:x,storyId:i})))})})},tb=e=>{const{passageIds:t,storyId:n}=e,{stories:r}=dn(),i=t.filter(a=>{try{Os(r,n,a)}catch{return!1}return!0});return i.length===0?(e.onClose(),null):i.length!==t.length?(e.onChangeProps({...e,passageIds:i}),null):b.jsx(kQ,{...e})};function xS(e,t,n=6){return(r,i)=>{var c,p;const a=i(),l=a.findIndex(({component:v})=>v===tb);if(l!==-1){const v=(p=(c=a[l].props)==null?void 0:c.passageIds)!=null?p:[],m=[...t,...v.filter(x=>!t.includes(x))];m.length>n&&(m.length=n),r({type:"setDialogProps",index:l,props:{...a[l].props,passageIds:m}})}else{const v=[...t];v.length>n&&(v.length=n),r({type:"addDialog",component:tb,props:{storyId:e,passageIds:v}})}}}function _Q(e){return(t,n)=>{const r=n(),i=r.findIndex(({component:l})=>l===tb);if(i===-1){console.warn("Asked to remove a passage editor, but there is no editor stack");return}const a=r[i].props.passageIds.filter(l=>!e.includes(l));a.length===0?t({type:"removeDialog",index:i}):t({type:"setDialogProps",index:i,props:{...r[i].props,passageIds:a}})}}var OQ=Wy;function LQ(){this.__data__=new OQ,this.size=0}var PQ=LQ;function AQ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var NQ=AQ;function IQ(e){return this.__data__.get(e)}var RQ=IQ;function MQ(e){return this.__data__.has(e)}var FQ=MQ,jQ=Wy,$Q=CE,DQ=TE,BQ=200;function zQ(e,t){var n=this.__data__;if(n instanceof jQ){var r=n.__data__;if(!$Q||r.length<BQ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new DQ(r)}return n.set(e,t),this.size=n.size,this}var HQ=zQ,UQ=Wy,WQ=PQ,KQ=NQ,GQ=RQ,qQ=FQ,XQ=HQ;function gd(e){var t=this.__data__=new UQ(e);this.size=t.size}gd.prototype.clear=WQ;gd.prototype.delete=KQ;gd.prototype.get=GQ;gd.prototype.has=qQ;gd.prototype.set=XQ;var LN=gd;function VQ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var YQ=VQ,QQ=AP,ZQ=YQ,JQ=NP,eZ=1,tZ=2;function nZ(e,t,n,r,i,a){var l=n&eZ,c=e.length,p=t.length;if(c!=p&&!(l&&p>c))return!1;var v=a.get(e),m=a.get(t);if(v&&m)return v==t&&m==e;var x=-1,S=!0,C=n&tZ?new QQ:void 0;for(a.set(e,t),a.set(t,e);++x<c;){var I=e[x],$=t[x];if(r)var N=l?r($,I,x,t,e,a):r(I,$,x,e,t,a);if(N!==void 0){if(N)continue;S=!1;break}if(C){if(!ZQ(t,function(L,M){if(!JQ(C,M)&&(I===L||i(I,L,n,r,a)))return C.push(M)})){S=!1;break}}else if(!(I===$||i(I,$,n,r,a))){S=!1;break}}return a.delete(e),a.delete(t),S}var PN=nZ,rZ=Is,iZ=rZ.Uint8Array,oZ=iZ;function aZ(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var sZ=aZ,M2=Hp,F2=oZ,lZ=jy,uZ=PN,cZ=sZ,fZ=kE,dZ=1,hZ=2,pZ="[object Boolean]",gZ="[object Date]",vZ="[object Error]",mZ="[object Map]",yZ="[object Number]",wZ="[object RegExp]",xZ="[object Set]",bZ="[object String]",EZ="[object Symbol]",SZ="[object ArrayBuffer]",CZ="[object DataView]",j2=M2?M2.prototype:void 0,b1=j2?j2.valueOf:void 0;function TZ(e,t,n,r,i,a,l){switch(n){case CZ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case SZ:return!(e.byteLength!=t.byteLength||!a(new F2(e),new F2(t)));case pZ:case gZ:case yZ:return lZ(+e,+t);case vZ:return e.name==t.name&&e.message==t.message;case wZ:case bZ:return e==t+"";case mZ:var c=cZ;case xZ:var p=r&dZ;if(c||(c=fZ),e.size!=t.size&&!p)return!1;var v=l.get(e);if(v)return v==t;r|=hZ,l.set(e,t);var m=uZ(c(e),c(t),r,i,a,l);return l.delete(e),m;case EZ:if(b1)return b1.call(e)==b1.call(t)}return!1}var kZ=TZ;function _Z(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var AN=_Z,OZ=AN,LZ=ja;function PZ(e,t,n){var r=t(e);return LZ(e)?r:OZ(r,n(e))}var AZ=PZ;function NZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var l=e[n];t(l,n,e)&&(a[i++]=l)}return a}var IZ=NZ;function RZ(){return[]}var MZ=RZ,FZ=IZ,jZ=MZ,$Z=Object.prototype,DZ=$Z.propertyIsEnumerable,$2=Object.getOwnPropertySymbols,BZ=$2?function(e){return e==null?[]:(e=Object(e),FZ($2(e),function(t){return DZ.call(e,t)}))}:jZ,zZ=BZ;function HZ(e,t){return function(n){return e(t(n))}}var UZ=HZ,WZ=UZ,KZ=WZ(Object.keys,Object),GZ=KZ,qZ=gP,XZ=GZ,VZ=Object.prototype,YZ=VZ.hasOwnProperty;function QZ(e){if(!qZ(e))return XZ(e);var t=[];for(var n in Object(e))YZ.call(e,n)&&n!="constructor"&&t.push(n);return t}var ZZ=QZ,JZ=pP,eJ=ZZ,tJ=Kp;function nJ(e){return tJ(e)?JZ(e):eJ(e)}var bS=nJ,rJ=AZ,iJ=zZ,oJ=bS;function aJ(e){return rJ(e,oJ,iJ)}var sJ=aJ,D2=sJ,lJ=1,uJ=Object.prototype,cJ=uJ.hasOwnProperty;function fJ(e,t,n,r,i,a){var l=n&lJ,c=D2(e),p=c.length,v=D2(t),m=v.length;if(p!=m&&!l)return!1;for(var x=p;x--;){var S=c[x];if(!(l?S in t:cJ.call(t,S)))return!1}var C=a.get(e),I=a.get(t);if(C&&I)return C==t&&I==e;var $=!0;a.set(e,t),a.set(t,e);for(var N=l;++x<p;){S=c[x];var L=e[S],M=t[S];if(r)var B=l?r(M,L,S,t,e,a):r(L,M,S,e,t,a);if(!(B===void 0?L===M||i(L,M,n,r,a):B)){$=!1;break}N||(N=S=="constructor")}if($&&!N){var j=e.constructor,U=t.constructor;j!=U&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof U=="function"&&U instanceof U)&&($=!1)}return a.delete(e),a.delete(t),$}var dJ=fJ,hJ=fc,pJ=Is,gJ=hJ(pJ,"DataView"),vJ=gJ,mJ=fc,yJ=Is,wJ=mJ(yJ,"Promise"),xJ=wJ,bJ=fc,EJ=Is,SJ=bJ(EJ,"WeakMap"),CJ=SJ,nb=vJ,rb=CE,ib=xJ,ob=IP,ab=CJ,NN=Up,vd=sP,B2="[object Map]",TJ="[object Object]",z2="[object Promise]",H2="[object Set]",U2="[object WeakMap]",W2="[object DataView]",kJ=vd(nb),_J=vd(rb),OJ=vd(ib),LJ=vd(ob),PJ=vd(ab),Mu=NN;(nb&&Mu(new nb(new ArrayBuffer(1)))!=W2||rb&&Mu(new rb)!=B2||ib&&Mu(ib.resolve())!=z2||ob&&Mu(new ob)!=H2||ab&&Mu(new ab)!=U2)&&(Mu=function(e){var t=NN(e),n=t==TJ?e.constructor:void 0,r=n?vd(n):"";if(r)switch(r){case kJ:return W2;case _J:return B2;case OJ:return z2;case LJ:return H2;case PJ:return U2}return t});var AJ=Mu,E1=LN,NJ=PN,IJ=kZ,RJ=dJ,K2=AJ,G2=ja,q2=fP,MJ=hP,FJ=1,X2="[object Arguments]",V2="[object Array]",Qv="[object Object]",jJ=Object.prototype,Y2=jJ.hasOwnProperty;function $J(e,t,n,r,i,a){var l=G2(e),c=G2(t),p=l?V2:K2(e),v=c?V2:K2(t);p=p==X2?Qv:p,v=v==X2?Qv:v;var m=p==Qv,x=v==Qv,S=p==v;if(S&&q2(e)){if(!q2(t))return!1;l=!0,m=!1}if(S&&!m)return a||(a=new E1),l||MJ(e)?NJ(e,t,n,r,i,a):IJ(e,t,p,n,r,i,a);if(!(n&FJ)){var C=m&&Y2.call(e,"__wrapped__"),I=x&&Y2.call(t,"__wrapped__");if(C||I){var $=C?e.value():e,N=I?t.value():t;return a||(a=new E1),i($,N,n,r,a)}}return S?(a||(a=new E1),RJ(e,t,n,r,i,a)):!1}var DJ=$J,BJ=DJ,Q2=Gp;function IN(e,t,n,r,i){return e===t?!0:e==null||t==null||!Q2(e)&&!Q2(t)?e!==e&&t!==t:BJ(e,t,n,r,IN,i)}var ES=IN,zJ=ES;function HJ(e,t){return zJ(e,t)}var UJ=HJ;const WJ=Sn(UJ),KJ=(e,t)=>{switch(t.type){case"addDialog":let n=!1;const r=e.map(i=>WJ(i,{collapsed:i.collapsed,component:t.component,highlighted:i.highlighted,maximized:i.maximized,props:t.props})?(n=!0,{...i,collapsed:!1,highlighted:!0}):i);return n?r:[...e,{collapsed:!1,component:t.component,highlighted:!1,maximized:!1,props:t.props}];case"removeDialog":return e.filter((i,a)=>a!==t.index);case"setDialogCollapsed":return e.map((i,a)=>a===t.index?{...i,collapsed:t.collapsed}:i);case"setDialogHighlighted":return e.map((i,a)=>a===t.index?{...i,highlighted:t.highlighted}:i);case"setDialogMaximized":return e.map((i,a)=>({...i,maximized:a===t.index?t.maximized:!1}));case"setDialogProps":return e.map((i,a)=>({...i,props:a===t.index?t.props:i.props}))}};var RN={},g0={},eg={},MN={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.default=void 0;var GJ=function(t,n){var r,i=function(){r!=null&&(clearTimeout(r),r=null)},a=function(){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];i(),r=setTimeout(function(){t.apply(void 0,p)},n)};return a.cancel=function(){i()},a},qJ=GJ;v0.default=qJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return t.default}});var t=n(v0);function n(r){return r&&r.__esModule?r:{default:r}}})(MN);Object.defineProperty(eg,"__esModule",{value:!0});eg.default=void 0;var S1=O,XJ=MN;function VJ(e,t){return JJ(e)||ZJ(e,t)||QJ(e,t)||YJ()}function YJ(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QJ(e,t){if(e){if(typeof e=="string")return Z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(e,t)}}function Z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(p){i=!0,a=p}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function JJ(e){if(Array.isArray(e))return e}var eee=function(){var t=(0,S1.useState)({height:0,width:0}),n=VJ(t,2),r=n[0],i=n[1],a=(0,S1.useRef)(null);return(0,S1.useEffect)(function(){var l=function(){return a.current==null&&(a.current=document.createElement("div"),a.current.style.width="99px",a.current.style.height="99px",a.current.style.overflow="scroll",a.current.style.position="absolute",a.current.style.top="-9999px",a.current.setAttribute("aria-hidden","true"),a.current.setAttribute("role","presentation")),a.current},c=function(){var x=l(),S=x.offsetHeight,C=x.clientHeight,I=x.offsetWidth,$=x.clientWidth,N=S-C,L=I-$;i(function(M){var B=M.height,j=M.width;return B!==N||j!==L?{height:N,width:L}:M})},p=(0,XJ.debounce)(c,100);window.addEventListener("resize",p),document.body.appendChild(l()),c();var v=l();return function(){p.cancel(),window.removeEventListener("resize",p),document.body.removeChild(v)}},[]),r},tee=eee;eg.default=tee;Object.defineProperty(g0,"__esModule",{value:!0});g0.default=void 0;var nee=O,ree=iee(eg);function iee(e){return e&&e.__esModule?e:{default:e}}var oee=function(t){var n=t.onChange,r=(0,ree.default)(),i=r.height,a=r.width;return(0,nee.useEffect)(function(){n({height:i,width:a})},[i,a,n]),null},aee=oee;g0.default=aee;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useScrollbarSize",{enumerable:!0,get:function(){return n.default}}),e.default=void 0;var t=r(g0),n=r(eg);function r(a){return a&&a.__esModule?a:{default:a}}var i=t.default;e.default=i})(RN);const see=e=>b.jsx($a,{classNames:"pop",timeout:200,...e,children:e.children}),lee=()=>{const{height:e,width:t}=RN.useScrollbarSize(),{prefs:n}=Yt(),{dispatch:r,dialogs:i}=yi(),a=i.some(p=>!p.maximized),l={paddingLeft:"calc(100% - (".concat(n.dialogWidth,"px + 2 * (var(--grid-size))))"),marginBottom:e,marginRight:t},c={marginRight:a?"calc(".concat(n.dialogWidth,"px + var(--grid-size))"):0};return b.jsx("div",{className:"dialogs",style:l,children:b.jsx(hd,{component:null,children:i.map((p,v)=>{const m={collapsed:p.collapsed,highlighted:p.highlighted,maximized:p.maximized,onChangeCollapsed:x=>r({type:"setDialogCollapsed",collapsed:x,index:v}),onChangeHighlighted:x=>r({type:"setDialogHighlighted",highlighted:x,index:v}),onChangeMaximized:x=>r({type:"setDialogMaximized",maximized:x,index:v}),onChangeProps:x=>r({type:"setDialogProps",index:v,props:x}),onClose:()=>r({type:"removeDialog",index:v})};return b.jsx(see,{children:p.maximized?b.jsx("div",{className:"maximized",style:c,children:b.jsx(p.component,{...p.props,...m})}):b.jsx(p.component,{...p.props,...m})},v)})})})},SS=O.createContext({dispatch:()=>{},dialogs:[]});SS.displayName="Dialogs";const yi=()=>O.useContext(SS),CS=e=>{const[t,n]=PE(KJ,[]);return b.jsxs(SS.Provider,{value:{dispatch:n,dialogs:t},children:[e.children,b.jsx(lee,{})]})};const FN=e=>{const{allTags:t,color:n,name:r,onChangeColor:i,onChangeName:a}=e,[l,c]=O.useState(r),{t:p}=qe();function v(m){return m!==r&&t.includes(m)?{message:p("components.tagEditor.alreadyExists"),valid:!1}:{valid:!0}}return b.jsxs("div",{className:"tag-editor",children:[b.jsx("span",{className:ir("tag-name","color-".concat(e.color)),children:e.name}),b.jsx(Zp,{icon:b.jsx(zp,{}),label:p("common.rename"),onChange:m=>c(m.target.value.replace(/\s/g,"-")),onSubmit:()=>a(l),prompt:p("common.renamePrompt",{name:r}),value:l,validate:v}),b.jsx(Ps,{onChange:m=>i(m.target.value),options:wS.map(m=>({label:p("colors.".concat(m)),value:m})),value:n!=null?n:"",children:p("common.color")})]})},uee=e=>{const{storyId:t,...n}=e,{dispatch:r,stories:i}=Gi(),{t:a}=qe(),l=on(i,t),c=YP(l);function p(m,x){r(eA(l,m,x),a("undoChange.changeTagColor"))}function v(m,x){r(X5(l,m,x),a("undoChange.renameTag"))}return b.jsx(Uo,{className:"passage-tags-dialog",fixedSize:!0,headerLabel:a("dialogs.passageTags.title"),...n,children:b.jsx(_r,{children:c.length>0?c.map(m=>b.jsx(FN,{allTags:c,color:l.tagColors[m],name:m,onChangeColor:x=>p(m,x),onChangeName:x=>v(m,x)},m)):b.jsx("p",{children:a("dialogs.passageTags.noTags")})})})};function jN(){const{dispatch:e}=dn(),{prefs:t}=Yt(),{formats:n}=Wi();return ft.useCallback(()=>{let r;try{r=ho(n,t.storyFormat.name,t.storyFormat.version)}catch{try{r=ho(n,Vf().storyFormat.name,Vf().storyFormat.version)}catch(i){console.error("Could not locate a safe story format, skipping story repair: ".concat(i.message))}}r&&e({type:"repair",allFormats:n,defaultFormat:r})},[n,t.storyFormat.name,t.storyFormat.version,e])}const cee=e=>{const{children:t,onChange:n,onError:r,orientation:i,...a}=e,l=ir("file-input","orientation-".concat(i!=null?i:"horizontal"));function c(p){if(!p.target.files)throw new Error("Change event occurred but no files present");const v=p.target.files[0],m=new FileReader;m.addEventListener("loadend",x=>{m.error?(console.warn(m.error),r&&r(m.error)):n(v,m.result)}),m.readAsText(v)}return b.jsx("span",{className:l,children:b.jsxs("label",{children:[b.jsx("span",{className:"file-input-label",children:t}),b.jsx("span",{className:"file-input-control",children:b.jsx("input",{...a,onChange:c,type:"file"})})]})})};var wy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */wy.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,m="__lodash_placeholder__",x=1,S=2,C=4,I=1,$=2,N=1,L=2,M=4,B=8,j=16,U=32,X=64,V=128,re=256,fe=512,ve=30,xe="...",ze=800,J=16,Q=1,G=2,Ce=3,Te=1/0,ye=9007199254740991,me=17976931348623157e292,be=0/0,te=4294967295,oe=te-1,we=te>>>1,ne=[["ary",V],["bind",N],["bindKey",L],["curry",B],["curryRight",j],["flip",fe],["partial",U],["partialRight",X],["rearg",re]],le="[object Arguments]",pe="[object Array]",_e="[object AsyncFunction]",Ne="[object Boolean]",Ue="[object Date]",nt="[object DOMException]",Ye="[object Error]",wt="[object Function]",Dt="[object GeneratorFunction]",Ft="[object Map]",it="[object Number]",yt="[object Null]",Ot="[object Object]",jt="[object Promise]",Bt="[object Proxy]",kn="[object RegExp]",pt="[object Set]",de="[object String]",Fe="[object Symbol]",ke="[object Undefined]",dt="[object WeakMap]",zn="[object WeakSet]",H="[object ArrayBuffer]",_="[object DataView]",P="[object Float32Array]",K="[object Float64Array]",se="[object Int8Array]",ge="[object Int16Array]",Oe="[object Int32Array]",Be="[object Uint8Array]",Gt="[object Uint8ClampedArray]",Ct="[object Uint16Array]",Ve="[object Uint32Array]",gt=/\b__p \+= '';/g,Fs=/\b(__p \+=) '' \+/g,Hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,Un=/[&<>"']/g,js=RegExp(wi.source),Hr=RegExp(Un.source),za=/<%-([\s\S]+?)%>/g,Wo=/<%([\s\S]+?)%>/g,ql=/<%=([\s\S]+?)%>/g,Xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,br=/^\w*$/,gc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ha=/[\\^$.*+?()[\]{}|]/g,qi=RegExp(Ha.source),Ua=/^\s+/,vc=/\s/,mc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vl=/\{\n\/\* \[wrapped with (.+)\] \*/,Ko=/,? & /,ni=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ur=/[()=,{}\[\]\/\s]/,yc=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wa=/\w*$/,$s=/^[-+]0x[0-9a-f]+$/i,xi=/^0b[01]+$/i,bi=/^\[object .+?Constructor\]$/,Wr=/^0o[0-7]+$/i,Yl=/^(?:0|[1-9]\d*)$/,Ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ln=/($^)/,et=/['\n\r\u2028\u2029\\]/g,Kr="\\ud800-\\udfff",Zl="\\u0300-\\u036f",Pr="\\ufe20-\\ufe2f",Ut="\\u20d0-\\u20ff",Ei=Zl+Pr+Ut,Go="\\u2700-\\u27bf",Ds="a-z\\xdf-\\xf6\\xf8-\\xff",Me="\\xac\\xb1\\xd7\\xf7",F="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Z="\\u2000-\\u206f",Le=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="A-Z\\xc0-\\xd6\\xd8-\\xde",ht="\\ufe0e\\ufe0f",It=Me+F+Z+Le,Xe="['’]",Xn="["+Kr+"]",Ar="["+It+"]",wo="["+Ei+"]",Si="\\d+",tg="["+Go+"]",md="["+Ds+"]",Bs="[^"+Kr+It+Si+Go+Ds+je+"]",Jl="\\ud83c[\\udffb-\\udfff]",ng="(?:"+wo+"|"+Jl+")",wc="[^"+Kr+"]",xc="(?:\\ud83c[\\udde6-\\uddff]){2}",bc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ka="["+je+"]",yd="\\u200d",rg="(?:"+md+"|"+Bs+")",L0="(?:"+Ka+"|"+Bs+")",wd="(?:"+Xe+"(?:d|ll|m|re|s|t|ve))?",Xi="(?:"+Xe+"(?:D|LL|M|RE|S|T|VE))?",ig=ng+"?",og="["+ht+"]?",Ec="(?:"+yd+"(?:"+[wc,xc,bc].join("|")+")"+og+ig+")*",eu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ag=og+ig+Ec,A0="(?:"+[tg,xc,bc].join("|")+")"+ag,N0="(?:"+[wc+wo+"?",wo,xc,bc,Xn].join("|")+")",xd=RegExp(Xe,"g"),sg=RegExp(wo,"g"),bd=RegExp(Jl+"(?="+Jl+")|"+N0+ag,"g"),lg=RegExp([Ka+"?"+md+"+"+wd+"(?="+[Ar,Ka,"$"].join("|")+")",L0+"+"+Xi+"(?="+[Ar,Ka+rg,"$"].join("|")+")",Ka+"?"+rg+"+"+wd,Ka+"+"+Xi,P0,eu,Si,A0].join("|"),"g"),ug=RegExp("["+yd+Kr+Ei+ht+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ed=-1,un={};un[P]=un[K]=un[se]=un[ge]=un[Oe]=un[Be]=un[Gt]=un[Ct]=un[Ve]=!0,un[le]=un[pe]=un[H]=un[Ne]=un[_]=un[Ue]=un[Ye]=un[wt]=un[Ft]=un[it]=un[Ot]=un[kn]=un[pt]=un[de]=un[dt]=!1;var nn={};nn[le]=nn[pe]=nn[H]=nn[_]=nn[Ne]=nn[Ue]=nn[P]=nn[K]=nn[se]=nn[ge]=nn[Oe]=nn[Ft]=nn[it]=nn[Ot]=nn[kn]=nn[pt]=nn[de]=nn[Fe]=nn[Be]=nn[Gt]=nn[Ct]=nn[Ve]=!0,nn[Ye]=nn[wt]=nn[dt]=!1;var Tc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},I0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ci={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},R0=parseFloat,M0=parseInt,kc=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,fg=typeof self=="object"&&self&&self.Object===Object&&self,cn=kc||fg||Function("return this")(),tu=t&&!t.nodeType&&t,Er=tu&&!0&&e&&!e.nodeType&&e,nu=Er&&Er.exports===tu,ru=nu&&kc.process,Vn=function(){try{var ce=Er&&Er.require&&Er.require("util").types;return ce||ru&&ru.binding&&ru.binding("util")}catch{}}(),dg=Vn&&Vn.isArrayBuffer,hg=Vn&&Vn.isDate,pg=Vn&&Vn.isMap,gg=Vn&&Vn.isRegExp,Sd=Vn&&Vn.isSet,Cd=Vn&&Vn.isTypedArray;function Gr(ce,Pe,Se){switch(Se.length){case 0:return ce.call(Pe);case 1:return ce.call(Pe,Se[0]);case 2:return ce.call(Pe,Se[0],Se[1]);case 3:return ce.call(Pe,Se[0],Se[1],Se[2])}return ce.apply(Pe,Se)}function F0(ce,Pe,Se,Je){for(var xt=-1,qt=ce==null?0:ce.length;++xt<qt;){var Rn=ce[xt];Pe(Je,Rn,Se(Rn),ce)}return Je}function ri(ce,Pe){for(var Se=-1,Je=ce==null?0:ce.length;++Se<Je&&Pe(ce[Se],Se,ce)!==!1;);return ce}function j0(ce,Pe){for(var Se=ce==null?0:ce.length;Se--&&Pe(ce[Se],Se,ce)!==!1;);return ce}function Td(ce,Pe){for(var Se=-1,Je=ce==null?0:ce.length;++Se<Je;)if(!Pe(ce[Se],Se,ce))return!1;return!0}function qo(ce,Pe){for(var Se=-1,Je=ce==null?0:ce.length,xt=0,qt=[];++Se<Je;){var Rn=ce[Se];Pe(Rn,Se,ce)&&(qt[xt++]=Rn)}return qt}function iu(ce,Pe){var Se=ce==null?0:ce.length;return!!Se&&qa(ce,Pe,0)>-1}function zs(ce,Pe,Se){for(var Je=-1,xt=ce==null?0:ce.length;++Je<xt;)if(Se(Pe,ce[Je]))return!0;return!1}function Qt(ce,Pe){for(var Se=-1,Je=ce==null?0:ce.length,xt=Array(Je);++Se<Je;)xt[Se]=Pe(ce[Se],Se,ce);return xt}function Xo(ce,Pe){for(var Se=-1,Je=Pe.length,xt=ce.length;++Se<Je;)ce[xt+Se]=Pe[Se];return ce}function kd(ce,Pe,Se,Je){var xt=-1,qt=ce==null?0:ce.length;for(Je&&qt&&(Se=ce[++xt]);++xt<qt;)Se=Pe(Se,ce[xt],xt,ce);return Se}function $0(ce,Pe,Se,Je){var xt=ce==null?0:ce.length;for(Je&&xt&&(Se=ce[--xt]);xt--;)Se=Pe(Se,ce[xt],xt,ce);return Se}function Ga(ce,Pe){for(var Se=-1,Je=ce==null?0:ce.length;++Se<Je;)if(Pe(ce[Se],Se,ce))return!0;return!1}var In=Od("length");function D0(ce){return ce.split("")}function vg(ce){return ce.match(ni)||[]}function Hs(ce,Pe,Se){var Je;return Se(ce,function(xt,qt,Rn){if(Pe(xt,qt,Rn))return Je=qt,!1}),Je}function _c(ce,Pe,Se,Je){for(var xt=ce.length,qt=Se+(Je?1:-1);Je?qt--:++qt<xt;)if(Pe(ce[qt],qt,ce))return qt;return-1}function qa(ce,Pe,Se){return Pe===Pe?Sg(ce,Pe,Se):_c(ce,Oc,Se)}function B0(ce,Pe,Se,Je){for(var xt=Se-1,qt=ce.length;++xt<qt;)if(Je(ce[xt],Pe))return xt;return-1}function Oc(ce){return ce!==ce}function _d(ce,Pe){var Se=ce==null?0:ce.length;return Se?Ad(ce,Pe)/Se:be}function Od(ce){return function(Pe){return Pe==null?n:Pe[ce]}}function Ld(ce){return function(Pe){return ce==null?n:ce[Pe]}}function Pd(ce,Pe,Se,Je,xt){return xt(ce,function(qt,Rn,zt){Se=Je?(Je=!1,qt):Pe(Se,qt,Rn,zt)}),Se}function mg(ce,Pe){var Se=ce.length;for(ce.sort(Pe);Se--;)ce[Se]=ce[Se].value;return ce}function Ad(ce,Pe){for(var Se,Je=-1,xt=ce.length;++Je<xt;){var qt=Pe(ce[Je]);qt!==n&&(Se=Se===n?qt:Se+qt)}return Se}function Xa(ce,Pe){for(var Se=-1,Je=Array(ce);++Se<ce;)Je[Se]=Pe(Se);return Je}function xo(ce,Pe){return Qt(Pe,function(Se){return[Se,ce[Se]]})}function ou(ce){return ce&&ce.slice(0,Ic(ce)+1).replace(Ua,"")}function Sr(ce){return function(Pe){return ce(Pe)}}function Lc(ce,Pe){return Qt(Pe,function(Se){return ce[Se]})}function Nr(ce,Pe){return ce.has(Pe)}function Vo(ce,Pe){for(var Se=-1,Je=ce.length;++Se<Je&&qa(Pe,ce[Se],0)>-1;);return Se}function Pc(ce,Pe){for(var Se=ce.length;Se--&&qa(Pe,ce[Se],0)>-1;);return Se}function z0(ce,Pe){for(var Se=ce.length,Je=0;Se--;)ce[Se]===Pe&&++Je;return Je}var yg=Ld(Tc),H0=Ld(I0);function wg(ce){return"\\"+Ci[ce]}function Nd(ce,Pe){return ce==null?n:ce[Pe]}function Ti(ce){return ug.test(ce)}function Vi(ce){return Sc.test(ce)}function xg(ce){for(var Pe,Se=[];!(Pe=ce.next()).done;)Se.push(Pe.value);return Se}function Ac(ce){var Pe=-1,Se=Array(ce.size);return ce.forEach(function(Je,xt){Se[++Pe]=[xt,Je]}),Se}function bg(ce,Pe){return function(Se){return ce(Pe(Se))}}function Yo(ce,Pe){for(var Se=-1,Je=ce.length,xt=0,qt=[];++Se<Je;){var Rn=ce[Se];(Rn===Pe||Rn===m)&&(ce[Se]=m,qt[xt++]=Se)}return qt}function Nc(ce){var Pe=-1,Se=Array(ce.size);return ce.forEach(function(Je){Se[++Pe]=Je}),Se}function Eg(ce){var Pe=-1,Se=Array(ce.size);return ce.forEach(function(Je){Se[++Pe]=[Je,Je]}),Se}function Sg(ce,Pe,Se){for(var Je=Se-1,xt=ce.length;++Je<xt;)if(ce[Je]===Pe)return Je;return-1}function au(ce,Pe,Se){for(var Je=Se+1;Je--;)if(ce[Je]===Pe)return Je;return Je}function Va(ce){return Ti(ce)?Cg(ce):In(ce)}function ii(ce){return Ti(ce)?Mc(ce):D0(ce)}function Ic(ce){for(var Pe=ce.length;Pe--&&vc.test(ce.charAt(Pe)););return Pe}var Rc=Ld(cg);function Cg(ce){for(var Pe=bd.lastIndex=0;bd.test(ce);)++Pe;return Pe}function Mc(ce){return ce.match(bd)||[]}function ki(ce){return ce.match(lg)||[]}var Tg=function ce(Pe){Pe=Pe==null?cn:Qo.defaults(cn.Object(),Pe,Qo.pick(cn,Cc));var Se=Pe.Array,Je=Pe.Date,xt=Pe.Error,qt=Pe.Function,Rn=Pe.Math,zt=Pe.Object,Zo=Pe.RegExp,Us=Pe.String,Ir=Pe.TypeError,Ws=Se.prototype,kg=qt.prototype,Jo=zt.prototype,Yi=Pe["__core-js_shared__"],Qi=kg.toString,bt=Jo.hasOwnProperty,ea=0,bo=function(){var u=/[^.]+$/.exec(Yi&&Yi.keys&&Yi.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ya=Jo.toString,U0=Qi.call(zt),_g=cn._,su=Zo("^"+Qi.call(bt).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lu=nu?Pe.Buffer:n,Zi=Pe.Symbol,Qa=Pe.Uint8Array,Og=lu?lu.allocUnsafe:n,Ks=bg(zt.getPrototypeOf,zt),Id=zt.create,Fc=Jo.propertyIsEnumerable,Gs=Ws.splice,Za=Zi?Zi.isConcatSpreadable:n,ta=Zi?Zi.iterator:n,na=Zi?Zi.toStringTag:n,Ja=function(){try{var u=ls(zt,"defineProperty");return u({},"",{}),u}catch{}}(),W0=Pe.clearTimeout!==cn.clearTimeout&&Pe.clearTimeout,K0=Je&&Je.now!==cn.Date.now&&Je.now,G0=Pe.setTimeout!==cn.setTimeout&&Pe.setTimeout,qs=Rn.ceil,Xs=Rn.floor,ra=zt.getOwnPropertySymbols,uu=lu?lu.isBuffer:n,Lg=Pe.isFinite,jc=Ws.join,Pg=bg(zt.keys,zt),hn=Rn.max,Yn=Rn.min,es=Je.now,cu=Pe.parseInt,ia=Rn.random,fu=Ws.reverse,oa=ls(Pe,"DataView"),Vs=ls(Pe,"Map"),$c=ls(Pe,"Promise"),ts=ls(Pe,"Set"),du=ls(Pe,"WeakMap"),_i=ls(zt,"create"),Ji=du&&new du,Ys={},q0=rn(oa),X0=rn(Vs),V0=rn($c),Y0=rn(ts),Q0=rn(du),Qn=Zi?Zi.prototype:n,pn=Qn?Qn.valueOf:n,Zn=Qn?Qn.toString:n;function z(u){if(On(u)&&!kt(u)&&!(u instanceof Mt)){if(u instanceof Cr)return u;if(bt.call(u,"__wrapped__"))return cr(u)}return new Cr(u)}var eo=function(){function u(){}return function(h){if(!Cn(h))return{};if(Id)return Id(h);u.prototype=h;var y=new u;return u.prototype=n,y}}();function Dc(){}function Cr(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}z.templateSettings={escape:za,evaluate:Wo,interpolate:ql,variable:"",imports:{_:z}},z.prototype=Dc.prototype,z.prototype.constructor=z,Cr.prototype=eo(Dc.prototype),Cr.prototype.constructor=Cr;function Mt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Z0(){var u=new Mt(this.__wrapped__);return u.__actions__=Gn(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Gn(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Gn(this.__views__),u}function J0(){if(this.__filtered__){var u=new Mt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Rd(){var u=this.__wrapped__.value(),h=this.__dir__,y=kt(u),T=h<0,D=y?u.length:0,W=cf(0,D,this.__views__),ee=W.start,ie=W.end,he=ie-ee,Ie=T?ie:ee-1,Re=this.__iteratees__,$e=Re.length,Ze=0,at=Yn(he,this.__takeCount__);if(!y||!T&&D==he&&at==he)return Qg(u,this.__actions__);var vt=[];e:for(;he--&&Ze<at;){Ie+=h;for(var Nt=-1,mt=u[Ie];++Nt<$e;){var $t=Re[Nt],Ht=$t.iteratee,Pi=$t.type,Qr=Ht(mt);if(Pi==G)mt=Qr;else if(!Qr){if(Pi==Q)continue e;break e}}vt[Ze++]=mt}return vt}Mt.prototype=eo(Dc.prototype),Mt.prototype.constructor=Mt;function aa(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function Md(){this.__data__=_i?_i(null):{},this.size=0}function ew(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function Fd(u){var h=this.__data__;if(_i){var y=h[u];return y===p?n:y}return bt.call(h,u)?h[u]:n}function jd(u){var h=this.__data__;return _i?h[u]!==n:bt.call(h,u)}function Ag(u,h){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=_i&&h===n?p:h,this}aa.prototype.clear=Md,aa.prototype.delete=ew,aa.prototype.get=Fd,aa.prototype.has=jd,aa.prototype.set=Ag;function to(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function $d(){this.__data__=[],this.size=0}function Ng(u){var h=this.__data__,y=ns(h,u);if(y<0)return!1;var T=h.length-1;return y==T?h.pop():Gs.call(h,y,1),--this.size,!0}function hu(u){var h=this.__data__,y=ns(h,u);return y<0?n:h[y][1]}function tw(u){return ns(this.__data__,u)>-1}function Bc(u,h){var y=this.__data__,T=ns(y,u);return T<0?(++this.size,y.push([u,h])):y[T][1]=h,this}to.prototype.clear=$d,to.prototype.delete=Ng,to.prototype.get=hu,to.prototype.has=tw,to.prototype.set=Bc;function Jn(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var T=u[h];this.set(T[0],T[1])}}function Ig(){this.size=0,this.__data__={hash:new aa,map:new(Vs||to),string:new aa}}function nw(u){var h=uf(this,u).delete(u);return this.size-=h?1:0,h}function Rg(u){return uf(this,u).get(u)}function qr(u){return uf(this,u).has(u)}function Wt(u,h){var y=uf(this,u),T=y.size;return y.set(u,h),this.size+=y.size==T?0:1,this}Jn.prototype.clear=Ig,Jn.prototype.delete=nw,Jn.prototype.get=Rg,Jn.prototype.has=qr,Jn.prototype.set=Wt;function er(u){var h=-1,y=u==null?0:u.length;for(this.__data__=new Jn;++h<y;)this.add(u[h])}function sa(u){return this.__data__.set(u,p),this}function la(u){return this.__data__.has(u)}er.prototype.add=er.prototype.push=sa,er.prototype.has=la;function oi(u){var h=this.__data__=new to(u);this.size=h.size}function Dd(){this.__data__=new to,this.size=0}function Mg(u){var h=this.__data__,y=h.delete(u);return this.size=h.size,y}function rw(u){return this.__data__.get(u)}function Bd(u){return this.__data__.has(u)}function pu(u,h){var y=this.__data__;if(y instanceof to){var T=y.__data__;if(!Vs||T.length<i-1)return T.push([u,h]),this.size=++y.size,this;y=this.__data__=new Jn(T)}return y.set(u,h),this.size=y.size,this}oi.prototype.clear=Dd,oi.prototype.delete=Mg,oi.prototype.get=rw,oi.prototype.has=Bd,oi.prototype.set=pu;function zd(u,h){var y=kt(u),T=!y&&Lu(u),D=!y&&!T&&gl(u),W=!y&&!T&&!D&&df(u),ee=y||T||D||W,ie=ee?Xa(u.length,Us):[],he=ie.length;for(var Ie in u)(h||bt.call(u,Ie))&&!(ee&&(Ie=="length"||D&&(Ie=="offset"||Ie=="parent")||W&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||k(Ie,he)))&&ie.push(Ie);return ie}function zc(u){var h=u.length;return h?u[Zc(0,h-1)]:n}function ua(u,h){return qn(Gn(u),rs(h,0,u.length))}function Fg(u){return qn(Gn(u))}function Hc(u,h,y){(y!==n&&!_o(u[h],y)||y===n&&!(h in u))&&no(u,h,y)}function gu(u,h,y){var T=u[h];(!(bt.call(u,h)&&_o(T,y))||y===n&&!(h in u))&&no(u,h,y)}function ns(u,h){for(var y=u.length;y--;)if(_o(u[y][0],h))return y;return-1}function Hd(u,h,y,T){return Xr(u,function(D,W,ee){h(T,D,y(D),ee)}),T}function Ud(u,h){return u&&Rr(h,dr(h),u)}function iw(u,h){return u&&Rr(h,ci(h),u)}function no(u,h,y){h=="__proto__"&&Ja?Ja(u,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[h]=y}function Wd(u,h){for(var y=-1,T=h.length,D=Se(T),W=u==null;++y<T;)D[y]=W?n:xw(u,h[y]);return D}function rs(u,h,y){return u===u&&(y!==n&&(u=u<=y?u:y),h!==n&&(u=u>=h?u:h)),u}function Tr(u,h,y,T,D,W){var ee,ie=h&x,he=h&S,Ie=h&C;if(y&&(ee=D?y(u,T,D,W):y(u)),ee!==n)return ee;if(!Cn(u))return u;var Re=kt(u);if(Re){if(ee=d(u),!ie)return Gn(u,ee)}else{var $e=sr(u),Ze=$e==wt||$e==Dt;if(gl(u))return th(u,ie);if($e==Ot||$e==le||Ze&&!D){if(ee=he||Ze?{}:f(u),!ie)return he?nv(u,iw(ee,u)):dw(u,Ud(ee,u))}else{if(!nn[$e])return D?u:{};ee=g(u,$e,ie)}}W||(W=new oi);var at=W.get(u);if(at)return at;W.set(u,ee),aC(u)?u.forEach(function(mt){ee.add(Tr(mt,h,y,mt,u,W))}):iC(u)&&u.forEach(function(mt,$t){ee.set($t,Tr(mt,h,y,$t,u,W))});var vt=Ie?he?lf:_u:he?ci:dr,Nt=Re?n:vt(u);return ri(Nt||u,function(mt,$t){Nt&&($t=mt,mt=u[$t]),gu(ee,$t,Tr(mt,h,y,$t,u,W))}),ee}function jg(u){var h=dr(u);return function(y){return $g(y,u,h)}}function $g(u,h,y){var T=y.length;if(u==null)return!T;for(u=zt(u);T--;){var D=y[T],W=h[D],ee=u[D];if(ee===n&&!(D in u)||!W(ee))return!1}return!0}function Dg(u,h,y){if(typeof u!="function")throw new Ir(l);return en(function(){u.apply(n,y)},h)}function Qs(u,h,y,T){var D=-1,W=iu,ee=!0,ie=u.length,he=[],Ie=h.length;if(!ie)return he;y&&(h=Qt(h,Sr(y))),T?(W=zs,ee=!1):h.length>=i&&(W=Nr,ee=!1,h=new er(h));e:for(;++D<ie;){var Re=u[D],$e=y==null?Re:y(Re);if(Re=T||Re!==0?Re:0,ee&&$e===$e){for(var Ze=Ie;Ze--;)if(h[Ze]===$e)continue e;he.push(Re)}else W(h,$e,T)||he.push(Re)}return he}var Xr=rv(Vr),Uc=rv(Gc,!0);function Wc(u,h){var y=!0;return Xr(u,function(T,D,W){return y=!!h(T,D,W),y}),y}function vu(u,h,y){for(var T=-1,D=u.length;++T<D;){var W=u[T],ee=h(W);if(ee!=null&&(ie===n?ee===ee&&!Li(ee):y(ee,ie)))var ie=ee,he=W}return he}function Kd(u,h,y,T){var D=u.length;for(y=Pt(y),y<0&&(y=-y>D?0:D+y),T=T===n||T>D?D:Pt(T),T<0&&(T+=D),T=y>T?0:lC(T);y<T;)u[y++]=h;return u}function Gd(u,h){var y=[];return Xr(u,function(T,D,W){h(T,D,W)&&y.push(T)}),y}function tr(u,h,y,T,D){var W=-1,ee=u.length;for(y||(y=E),D||(D=[]);++W<ee;){var ie=u[W];h>0&&y(ie)?h>1?tr(ie,h-1,y,T,D):Xo(D,ie):T||(D[D.length]=ie)}return D}var Kc=iv(),Wn=iv(!0);function Vr(u,h){return u&&Kc(u,h,dr)}function Gc(u,h){return u&&Wn(u,h,dr)}function mu(u,h){return qo(h,function(y){return fs(u[y])})}function ca(u,h){h=Oi(h,u);for(var y=0,T=h.length;u!=null&&y<T;)u=u[Zt(h[y++])];return y&&y==T?u:n}function is(u,h,y){var T=h(u);return kt(u)?T:Xo(T,y(u))}function Kn(u){return u==null?u===n?ke:yt:na&&na in zt(u)?yn(u):Qe(u)}function qc(u,h){return u>h}function Bg(u,h){return u!=null&&bt.call(u,h)}function zg(u,h){return u!=null&&h in zt(u)}function Zs(u,h,y){return u>=Yn(h,y)&&u<hn(h,y)}function Xc(u,h,y){for(var T=y?zs:iu,D=u[0].length,W=u.length,ee=W,ie=Se(W),he=1/0,Ie=[];ee--;){var Re=u[ee];ee&&h&&(Re=Qt(Re,Sr(h))),he=Yn(Re.length,he),ie[ee]=!y&&(h||D>=120&&Re.length>=120)?new er(ee&&Re):n}Re=u[0];var $e=-1,Ze=ie[0];e:for(;++$e<D&&Ie.length<he;){var at=Re[$e],vt=h?h(at):at;if(at=y||at!==0?at:0,!(Ze?Nr(Ze,vt):T(Ie,vt,y))){for(ee=W;--ee;){var Nt=ie[ee];if(!(Nt?Nr(Nt,vt):T(u[ee],vt,y)))continue e}Ze&&Ze.push(vt),Ie.push(at)}}return Ie}function Vc(u,h,y,T){return Vr(u,function(D,W,ee){h(T,y(D),W,ee)}),T}function Js(u,h,y){h=Oi(h,u),u=rt(u,h);var T=u==null?u:u[Zt(io(h))];return T==null?n:Gr(T,u,y)}function el(u){return On(u)&&Kn(u)==le}function ow(u){return On(u)&&Kn(u)==H}function tl(u){return On(u)&&Kn(u)==Ue}function nl(u,h,y,T,D){return u===h?!0:u==null||h==null||!On(u)&&!On(h)?u!==u&&h!==h:Hg(u,h,y,T,nl,D)}function Hg(u,h,y,T,D,W){var ee=kt(u),ie=kt(h),he=ee?pe:sr(u),Ie=ie?pe:sr(h);he=he==le?Ot:he,Ie=Ie==le?Ot:Ie;var Re=he==Ot,$e=Ie==Ot,Ze=he==Ie;if(Ze&&gl(u)){if(!gl(h))return!1;ee=!0,Re=!1}if(Ze&&!Re)return W||(W=new oi),ee||df(u)?sh(u,h,y,T,D,W):fv(u,h,he,y,T,D,W);if(!(y&I)){var at=Re&&bt.call(u,"__wrapped__"),vt=$e&&bt.call(h,"__wrapped__");if(at||vt){var Nt=at?u.value():u,mt=vt?h.value():h;return W||(W=new oi),D(Nt,mt,y,T,W)}}return Ze?(W||(W=new oi),dv(u,h,y,T,D,W)):!1}function Ug(u){return On(u)&&sr(u)==Ft}function os(u,h,y,T){var D=y.length,W=D,ee=!T;if(u==null)return!W;for(u=zt(u);D--;){var ie=y[D];if(ee&&ie[2]?ie[1]!==u[ie[0]]:!(ie[0]in u))return!1}for(;++D<W;){ie=y[D];var he=ie[0],Ie=u[he],Re=ie[1];if(ee&&ie[2]){if(Ie===n&&!(he in u))return!1}else{var $e=new oi;if(T)var Ze=T(Ie,Re,he,u,h,$e);if(!(Ze===n?nl(Re,Ie,I|$,T,$e):Ze))return!1}}return!0}function rl(u){if(!Cn(u)||ue(u))return!1;var h=fs(u)?su:bi;return h.test(rn(u))}function yu(u){return On(u)&&Kn(u)==kn}function wu(u){return On(u)&&sr(u)==pt}function Wg(u){return On(u)&&wv(u.length)&&!!un[Kn(u)]}function Kg(u){return typeof u=="function"?u:u==null?fi:typeof u=="object"?kt(u)?qd(u[0],u[1]):Gg(u):wC(u)}function Yc(u){if(!Ee(u))return Pg(u);var h=[];for(var y in zt(u))bt.call(u,y)&&y!="constructor"&&h.push(y);return h}function fa(u){if(!Cn(u))return Ke(u);var h=Ee(u),y=[];for(var T in u)T=="constructor"&&(h||!bt.call(u,T))||y.push(T);return y}function da(u,h){return u<h}function il(u,h){var y=-1,T=ui(u)?Se(u.length):[];return Xr(u,function(D,W,ee){T[++y]=h(D,W,ee)}),T}function Gg(u){var h=dl(u);return h.length==1&&h[0][2]?De(h[0][0],h[0][1]):function(y){return y===u||os(y,u,h)}}function qd(u,h){return R(u)&&Ae(h)?De(Zt(u),h):function(y){var T=xw(y,u);return T===n&&T===h?bw(y,u):nl(h,T,I|$)}}function Qc(u,h,y,T,D){u!==h&&Kc(h,function(W,ee){if(D||(D=new oi),Cn(W))aw(u,h,ee,y,Qc,T,D);else{var ie=T?T(Xt(u,ee),W,ee+"",u,h,D):n;ie===n&&(ie=W),Hc(u,ee,ie)}},ci)}function aw(u,h,y,T,D,W,ee){var ie=Xt(u,y),he=Xt(h,y),Ie=ee.get(he);if(Ie){Hc(u,y,Ie);return}var Re=W?W(ie,he,y+"",u,h,ee):n,$e=Re===n;if($e){var Ze=kt(he),at=!Ze&&gl(he),vt=!Ze&&!at&&df(he);Re=he,Ze||at||vt?kt(ie)?Re=ie:jn(ie)?Re=Gn(ie):at?($e=!1,Re=th(he,!0)):vt?($e=!1,Re=Jg(he,!0)):Re=[]:ch(he)||Lu(he)?(Re=ie,Lu(ie)?Re=uC(ie):(!Cn(ie)||fs(ie))&&(Re=f(he))):$e=!1}$e&&(ee.set(he,Re),D(Re,he,T,W,ee),ee.delete(he)),Hc(u,y,Re)}function qg(u,h){var y=u.length;if(y)return h+=h<0?y:0,k(h,y)?u[h]:n}function or(u,h,y){h.length?h=Qt(h,function(W){return kt(W)?function(ee){return ca(ee,W.length===1?W[0]:W)}:W}):h=[fi];var T=-1;h=Qt(h,Sr(lt()));var D=il(u,function(W,ee,ie){var he=Qt(h,function(Ie){return Ie(W)});return{criteria:he,index:++T,value:W}});return mg(D,function(W,ee){return ev(W,ee,y)})}function Xg(u,h){return Vg(u,h,function(y,T){return bw(u,T)})}function Vg(u,h,y){for(var T=-1,D=h.length,W={};++T<D;){var ee=h[T],ie=ca(u,ee);y(ie,ee)&&Eo(W,Oi(ee,u),ie)}return W}function sw(u){return function(h){return ca(h,u)}}function Xd(u,h,y,T){var D=T?B0:qa,W=-1,ee=h.length,ie=u;for(u===h&&(h=Gn(h)),y&&(ie=Qt(u,Sr(y)));++W<ee;)for(var he=0,Ie=h[W],Re=y?y(Ie):Ie;(he=D(ie,Re,he,T))>-1;)ie!==u&&Gs.call(ie,he,1),Gs.call(u,he,1);return u}function Vd(u,h){for(var y=u?h.length:0,T=y-1;y--;){var D=h[y];if(y==T||D!==W){var W=D;k(D)?Gs.call(u,D,1):Eu(u,D)}}return u}function Zc(u,h){return u+Xs(ia()*(h-u+1))}function Yg(u,h,y,T){for(var D=-1,W=hn(qs((h-u)/(y||1)),0),ee=Se(W);W--;)ee[T?W:++D]=u,u+=y;return ee}function Yd(u,h){var y="";if(!u||h<1||h>ye)return y;do h%2&&(y+=u),h=Xs(h/2),h&&(u+=u);while(h);return y}function Lt(u,h){return lr(ot(u,h,fi),u+"")}function lw(u){return zc(hf(u))}function ha(u,h){var y=hf(u);return qn(y,rs(h,0,y.length))}function Eo(u,h,y,T){if(!Cn(u))return u;h=Oi(h,u);for(var D=-1,W=h.length,ee=W-1,ie=u;ie!=null&&++D<W;){var he=Zt(h[D]),Ie=y;if(he==="__proto__"||he==="constructor"||he==="prototype")return u;if(D!=ee){var Re=ie[he];Ie=T?T(Re,he,ie):n,Ie===n&&(Ie=Cn(Re)?Re:k(h[D+1])?[]:{})}gu(ie,he,Ie),ie=ie[he]}return u}var xu=Ji?function(u,h){return Ji.set(u,h),u}:fi,bu=Ja?function(u,h){return Ja(u,"toString",{configurable:!0,enumerable:!1,value:Sw(h),writable:!0})}:fi;function So(u){return qn(hf(u))}function ai(u,h,y){var T=-1,D=u.length;h<0&&(h=-h>D?0:D+h),y=y>D?D:y,y<0&&(y+=D),D=h>y?0:y-h>>>0,h>>>=0;for(var W=Se(D);++T<D;)W[T]=u[T+h];return W}function uw(u,h){var y;return Xr(u,function(T,D,W){return y=h(T,D,W),!y}),!!y}function Co(u,h,y){var T=0,D=u==null?T:u.length;if(typeof h=="number"&&h===h&&D<=we){for(;T<D;){var W=T+D>>>1,ee=u[W];ee!==null&&!Li(ee)&&(y?ee<=h:ee<h)?T=W+1:D=W}return D}return Jc(u,h,fi,y)}function Jc(u,h,y,T){var D=0,W=u==null?0:u.length;if(W===0)return 0;h=y(h);for(var ee=h!==h,ie=h===null,he=Li(h),Ie=h===n;D<W;){var Re=Xs((D+W)/2),$e=y(u[Re]),Ze=$e!==n,at=$e===null,vt=$e===$e,Nt=Li($e);if(ee)var mt=T||vt;else Ie?mt=vt&&(T||Ze):ie?mt=vt&&Ze&&(T||!at):he?mt=vt&&Ze&&!at&&(T||!Nt):at||Nt?mt=!1:mt=T?$e<=h:$e<h;mt?D=Re+1:W=Re}return Yn(W,oe)}function Qd(u,h){for(var y=-1,T=u.length,D=0,W=[];++y<T;){var ee=u[y],ie=h?h(ee):ee;if(!y||!_o(ie,he)){var he=ie;W[D++]=ee===0?0:ee}}return W}function Zd(u){return typeof u=="number"?u:Li(u)?be:+u}function ar(u){if(typeof u=="string")return u;if(kt(u))return Qt(u,ar)+"";if(Li(u))return Zn?Zn.call(u):"";var h=u+"";return h=="0"&&1/u==-Te?"-0":h}function Yr(u,h,y){var T=-1,D=iu,W=u.length,ee=!0,ie=[],he=ie;if(y)ee=!1,D=zs;else if(W>=i){var Ie=h?null:ku(u);if(Ie)return Nc(Ie);ee=!1,D=Nr,he=new er}else he=h?[]:ie;e:for(;++T<W;){var Re=u[T],$e=h?h(Re):Re;if(Re=y||Re!==0?Re:0,ee&&$e===$e){for(var Ze=he.length;Ze--;)if(he[Ze]===$e)continue e;h&&he.push($e),ie.push(Re)}else D(he,$e,y)||(he!==ie&&he.push($e),ie.push(Re))}return ie}function Eu(u,h){return h=Oi(h,u),u=rt(u,h),u==null||delete u[Zt(io(h))]}function ef(u,h,y,T){return Eo(u,h,y(ca(u,h)),T)}function ol(u,h,y,T){for(var D=u.length,W=T?D:-1;(T?W--:++W<D)&&h(u[W],W,u););return y?ai(u,T?0:W,T?W+1:D):ai(u,T?W+1:0,T?D:W)}function Qg(u,h){var y=u;return y instanceof Mt&&(y=y.value()),kd(h,function(T,D){return D.func.apply(D.thisArg,Xo([T],D.args))},y)}function as(u,h,y){var T=u.length;if(T<2)return T?Yr(u[0]):[];for(var D=-1,W=Se(T);++D<T;)for(var ee=u[D],ie=-1;++ie<T;)ie!=D&&(W[D]=Qs(W[D]||ee,u[ie],h,y));return Yr(tr(W,1),h,y)}function Jd(u,h,y){for(var T=-1,D=u.length,W=h.length,ee={};++T<D;){var ie=T<W?h[T]:n;y(ee,u[T],ie)}return ee}function eh(u){return jn(u)?u:[]}function tf(u){return typeof u=="function"?u:fi}function Oi(u,h){return kt(u)?u:R(u,h)?[u]:Mn(tn(u))}var cw=Lt;function pa(u,h,y){var T=u.length;return y=y===n?T:y,!h&&y>=T?u:ai(u,h,y)}var al=W0||function(u){return cn.clearTimeout(u)};function th(u,h){if(h)return u.slice();var y=u.length,T=Og?Og(y):new u.constructor(y);return u.copy(T),T}function nf(u){var h=new u.constructor(u.byteLength);return new Qa(h).set(new Qa(u)),h}function fw(u,h){var y=h?nf(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function nh(u){var h=new u.constructor(u.source,Wa.exec(u));return h.lastIndex=u.lastIndex,h}function Zg(u){return pn?zt(pn.call(u)):{}}function Jg(u,h){var y=h?nf(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function rh(u,h){if(u!==h){var y=u!==n,T=u===null,D=u===u,W=Li(u),ee=h!==n,ie=h===null,he=h===h,Ie=Li(h);if(!ie&&!Ie&&!W&&u>h||W&&ee&&he&&!ie&&!Ie||T&&ee&&he||!y&&he||!D)return 1;if(!T&&!W&&!Ie&&u<h||Ie&&y&&D&&!T&&!W||ie&&y&&D||!ee&&D||!he)return-1}return 0}function ev(u,h,y){for(var T=-1,D=u.criteria,W=h.criteria,ee=D.length,ie=y.length;++T<ee;){var he=rh(D[T],W[T]);if(he){if(T>=ie)return he;var Ie=y[T];return he*(Ie=="desc"?-1:1)}}return u.index-h.index}function tv(u,h,y,T){for(var D=-1,W=u.length,ee=y.length,ie=-1,he=h.length,Ie=hn(W-ee,0),Re=Se(he+Ie),$e=!T;++ie<he;)Re[ie]=h[ie];for(;++D<ee;)($e||D<W)&&(Re[y[D]]=u[D]);for(;Ie--;)Re[ie++]=u[D++];return Re}function rf(u,h,y,T){for(var D=-1,W=u.length,ee=-1,ie=y.length,he=-1,Ie=h.length,Re=hn(W-ie,0),$e=Se(Re+Ie),Ze=!T;++D<Re;)$e[D]=u[D];for(var at=D;++he<Ie;)$e[at+he]=h[he];for(;++ee<ie;)(Ze||D<W)&&($e[at+y[ee]]=u[D++]);return $e}function Gn(u,h){var y=-1,T=u.length;for(h||(h=Se(T));++y<T;)h[y]=u[y];return h}function Rr(u,h,y,T){var D=!y;y||(y={});for(var W=-1,ee=h.length;++W<ee;){var ie=h[W],he=T?T(y[ie],u[ie],ie,y,u):n;he===n&&(he=u[ie]),D?no(y,ie,he):gu(y,ie,he)}return y}function dw(u,h){return Rr(u,lh(u),h)}function nv(u,h){return Rr(u,hv(u),h)}function of(u,h){return function(y,T){var D=kt(y)?F0:Hd,W=h?h():{};return D(y,u,lt(T,2),W)}}function sl(u){return Lt(function(h,y){var T=-1,D=y.length,W=D>1?y[D-1]:n,ee=D>2?y[2]:n;for(W=u.length>3&&typeof W=="function"?(D--,W):n,ee&&A(y[0],y[1],ee)&&(W=D<3?n:W,D=1),h=zt(h);++T<D;){var ie=y[T];ie&&u(h,ie,T,W)}return h})}function rv(u,h){return function(y,T){if(y==null)return y;if(!ui(y))return u(y,T);for(var D=y.length,W=h?D:-1,ee=zt(y);(h?W--:++W<D)&&T(ee[W],W,ee)!==!1;);return y}}function iv(u){return function(h,y,T){for(var D=-1,W=zt(h),ee=T(h),ie=ee.length;ie--;){var he=ee[u?ie:++D];if(y(W[he],he,W)===!1)break}return h}}function ov(u,h,y){var T=h&N,D=ul(u);function W(){var ee=this&&this!==cn&&this instanceof W?D:u;return ee.apply(T?y:this,arguments)}return W}function av(u){return function(h){h=tn(h);var y=Ti(h)?ii(h):n,T=y?y[0]:h.charAt(0),D=y?pa(y,1).join(""):h.slice(1);return T[u]()+D}}function ll(u){return function(h){return kd(mC(vC(h).replace(xd,"")),u,"")}}function ul(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=eo(u.prototype),T=u.apply(y,h);return Cn(T)?T:y}}function ih(u,h,y){var T=ul(u);function D(){for(var W=arguments.length,ee=Se(W),ie=W,he=fl(D);ie--;)ee[ie]=arguments[ie];var Ie=W<3&&ee[0]!==he&&ee[W-1]!==he?[]:Yo(ee,he);if(W-=Ie.length,W<y)return uv(u,h,Su,D.placeholder,n,ee,Ie,n,n,y-W);var Re=this&&this!==cn&&this instanceof D?T:u;return Gr(Re,this,ee)}return D}function oh(u){return function(h,y,T){var D=zt(h);if(!ui(h)){var W=lt(y,3);h=dr(h),y=function(ie){return W(D[ie],ie,D)}}var ee=u(h,y,T);return ee>-1?D[W?h[ee]:ee]:n}}function sv(u){return To(function(h){var y=h.length,T=y,D=Cr.prototype.thru;for(u&&h.reverse();T--;){var W=h[T];if(typeof W!="function")throw new Ir(l);if(D&&!ee&&Ou(W)=="wrapper")var ee=new Cr([],!0)}for(T=ee?T:y;++T<y;){W=h[T];var ie=Ou(W),he=ie=="wrapper"?Kt(W):n;he&&Y(he[0])&&he[1]==(V|B|U|re)&&!he[4].length&&he[9]==1?ee=ee[Ou(he[0])].apply(ee,he[3]):ee=W.length==1&&Y(W)?ee[ie]():ee.thru(W)}return function(){var Ie=arguments,Re=Ie[0];if(ee&&Ie.length==1&&kt(Re))return ee.plant(Re).value();for(var $e=0,Ze=y?h[$e].apply(this,Ie):Re;++$e<y;)Ze=h[$e].call(this,Ze);return Ze}})}function Su(u,h,y,T,D,W,ee,ie,he,Ie){var Re=h&V,$e=h&N,Ze=h&L,at=h&(B|j),vt=h&fe,Nt=Ze?n:ul(u);function mt(){for(var $t=arguments.length,Ht=Se($t),Pi=$t;Pi--;)Ht[Pi]=arguments[Pi];if(at)var Qr=fl(mt),Ai=z0(Ht,Qr);if(T&&(Ht=tv(Ht,T,D,at)),W&&(Ht=rf(Ht,W,ee,at)),$t-=Ai,at&&$t<Ie){var $n=Yo(Ht,Qr);return uv(u,h,Su,mt.placeholder,y,Ht,$n,ie,he,Ie-$t)}var Oo=$e?y:this,hs=Ze?Oo[u]:u;return $t=Ht.length,ie?Ht=Tt(Ht,ie):vt&&$t>1&&Ht.reverse(),Re&&he<$t&&(Ht.length=he),this&&this!==cn&&this instanceof mt&&(hs=Nt||ul(hs)),hs.apply(Oo,Ht)}return mt}function ss(u,h){return function(y,T){return Vc(y,u,h(T),{})}}function Cu(u,h){return function(y,T){var D;if(y===n&&T===n)return h;if(y!==n&&(D=y),T!==n){if(D===n)return T;typeof y=="string"||typeof T=="string"?(y=ar(y),T=ar(T)):(y=Zd(y),T=Zd(T)),D=u(y,T)}return D}}function cl(u){return To(function(h){return h=Qt(h,Sr(lt())),Lt(function(y){var T=this;return u(h,function(D){return Gr(D,T,y)})})})}function af(u,h){h=h===n?" ":ar(h);var y=h.length;if(y<2)return y?Yd(h,u):h;var T=Yd(h,qs(u/Va(h)));return Ti(h)?pa(ii(T),0,u).join(""):T.slice(0,u)}function hw(u,h,y,T){var D=h&N,W=ul(u);function ee(){for(var ie=-1,he=arguments.length,Ie=-1,Re=T.length,$e=Se(Re+he),Ze=this&&this!==cn&&this instanceof ee?W:u;++Ie<Re;)$e[Ie]=T[Ie];for(;he--;)$e[Ie++]=arguments[++ie];return Gr(Ze,D?y:this,$e)}return ee}function lv(u){return function(h,y,T){return T&&typeof T!="number"&&A(h,y,T)&&(y=T=n),h=ds(h),y===n?(y=h,h=0):y=ds(y),T=T===n?h<y?1:-1:ds(T),Yg(h,y,T,u)}}function Jt(u){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=oo(h),y=oo(y)),u(h,y)}}function uv(u,h,y,T,D,W,ee,ie,he,Ie){var Re=h&B,$e=Re?ee:n,Ze=Re?n:ee,at=Re?W:n,vt=Re?n:W;h|=Re?U:X,h&=~(Re?X:U),h&M||(h&=~(N|L));var Nt=[u,h,D,at,$e,vt,Ze,ie,he,Ie],mt=y.apply(n,Nt);return Y(u)&&_n(mt,Nt),mt.placeholder=T,ur(mt,u,h)}function Tu(u){var h=Rn[u];return function(y,T){if(y=oo(y),T=T==null?0:Yn(Pt(T),292),T&&Lg(y)){var D=(tn(y)+"e").split("e"),W=h(D[0]+"e"+(+D[1]+T));return D=(tn(W)+"e").split("e"),+(D[0]+"e"+(+D[1]-T))}return h(y)}}var ku=ts&&1/Nc(new ts([,-0]))[1]==Te?function(u){return new ts(u)}:kw;function si(u){return function(h){var y=sr(h);return y==Ft?Ac(h):y==pt?Eg(h):xo(h,u(h))}}function li(u,h,y,T,D,W,ee,ie){var he=h&L;if(!he&&typeof u!="function")throw new Ir(l);var Ie=T?T.length:0;if(Ie||(h&=~(U|X),T=D=n),ee=ee===n?ee:hn(Pt(ee),0),ie=ie===n?ie:Pt(ie),Ie-=D?D.length:0,h&X){var Re=T,$e=D;T=D=n}var Ze=he?n:Kt(u),at=[u,h,y,T,D,Re,$e,W,ee,ie];if(Ze&&Ge(at,Ze),u=at[0],h=at[1],y=at[2],T=at[3],D=at[4],ie=at[9]=at[9]===n?he?0:u.length:hn(at[9]-Ie,0),!ie&&h&(B|j)&&(h&=~(B|j)),!h||h==N)var vt=ov(u,h,y);else h==B||h==j?vt=ih(u,h,ie):(h==U||h==(N|U))&&!D.length?vt=hw(u,h,y,T):vt=Su.apply(n,at);var Nt=Ze?xu:_n;return ur(Nt(vt,at),u,h)}function sf(u,h,y,T){return u===n||_o(u,Jo[y])&&!bt.call(T,y)?h:u}function ah(u,h,y,T,D,W){return Cn(u)&&Cn(h)&&(W.set(h,u),Qc(u,h,n,ah,W),W.delete(h)),u}function cv(u){return ch(u)?n:u}function sh(u,h,y,T,D,W){var ee=y&I,ie=u.length,he=h.length;if(ie!=he&&!(ee&&he>ie))return!1;var Ie=W.get(u),Re=W.get(h);if(Ie&&Re)return Ie==h&&Re==u;var $e=-1,Ze=!0,at=y&$?new er:n;for(W.set(u,h),W.set(h,u);++$e<ie;){var vt=u[$e],Nt=h[$e];if(T)var mt=ee?T(Nt,vt,$e,h,u,W):T(vt,Nt,$e,u,h,W);if(mt!==n){if(mt)continue;Ze=!1;break}if(at){if(!Ga(h,function($t,Ht){if(!Nr(at,Ht)&&(vt===$t||D(vt,$t,y,T,W)))return at.push(Ht)})){Ze=!1;break}}else if(!(vt===Nt||D(vt,Nt,y,T,W))){Ze=!1;break}}return W.delete(u),W.delete(h),Ze}function fv(u,h,y,T,D,W,ee){switch(y){case _:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case H:return!(u.byteLength!=h.byteLength||!W(new Qa(u),new Qa(h)));case Ne:case Ue:case it:return _o(+u,+h);case Ye:return u.name==h.name&&u.message==h.message;case kn:case de:return u==h+"";case Ft:var ie=Ac;case pt:var he=T&I;if(ie||(ie=Nc),u.size!=h.size&&!he)return!1;var Ie=ee.get(u);if(Ie)return Ie==h;T|=$,ee.set(u,h);var Re=sh(ie(u),ie(h),T,D,W,ee);return ee.delete(u),Re;case Fe:if(pn)return pn.call(u)==pn.call(h)}return!1}function dv(u,h,y,T,D,W){var ee=y&I,ie=_u(u),he=ie.length,Ie=_u(h),Re=Ie.length;if(he!=Re&&!ee)return!1;for(var $e=he;$e--;){var Ze=ie[$e];if(!(ee?Ze in h:bt.call(h,Ze)))return!1}var at=W.get(u),vt=W.get(h);if(at&&vt)return at==h&&vt==u;var Nt=!0;W.set(u,h),W.set(h,u);for(var mt=ee;++$e<he;){Ze=ie[$e];var $t=u[Ze],Ht=h[Ze];if(T)var Pi=ee?T(Ht,$t,Ze,h,u,W):T($t,Ht,Ze,u,h,W);if(!(Pi===n?$t===Ht||D($t,Ht,y,T,W):Pi)){Nt=!1;break}mt||(mt=Ze=="constructor")}if(Nt&&!mt){var Qr=u.constructor,Ai=h.constructor;Qr!=Ai&&"constructor"in u&&"constructor"in h&&!(typeof Qr=="function"&&Qr instanceof Qr&&typeof Ai=="function"&&Ai instanceof Ai)&&(Nt=!1)}return W.delete(u),W.delete(h),Nt}function To(u){return lr(ot(u,n,US),u+"")}function _u(u){return is(u,dr,lh)}function lf(u){return is(u,ci,hv)}var Kt=Ji?function(u){return Ji.get(u)}:kw;function Ou(u){for(var h=u.name+"",y=Ys[h],T=bt.call(Ys,h)?y.length:0;T--;){var D=y[T],W=D.func;if(W==null||W==u)return D.name}return h}function fl(u){var h=bt.call(z,"placeholder")?z:u;return h.placeholder}function lt(){var u=z.iteratee||Cw;return u=u===Cw?Kg:u,arguments.length?u(arguments[0],arguments[1]):u}function uf(u,h){var y=u.__data__;return q(h)?y[typeof h=="string"?"string":"hash"]:y.map}function dl(u){for(var h=dr(u),y=h.length;y--;){var T=h[y],D=u[T];h[y]=[T,D,Ae(D)]}return h}function ls(u,h){var y=Nd(u,h);return rl(y)?y:n}function yn(u){var h=bt.call(u,na),y=u[na];try{u[na]=n;var T=!0}catch{}var D=Ya.call(u);return T&&(h?u[na]=y:delete u[na]),D}var lh=ra?function(u){return u==null?[]:(u=zt(u),qo(ra(u),function(h){return Fc.call(u,h)}))}:_w,hv=ra?function(u){for(var h=[];u;)Xo(h,lh(u)),u=Ks(u);return h}:_w,sr=Kn;(oa&&sr(new oa(new ArrayBuffer(1)))!=_||Vs&&sr(new Vs)!=Ft||$c&&sr($c.resolve())!=jt||ts&&sr(new ts)!=pt||du&&sr(new du)!=dt)&&(sr=function(u){var h=Kn(u),y=h==Ot?u.constructor:n,T=y?rn(y):"";if(T)switch(T){case q0:return _;case X0:return Ft;case V0:return jt;case Y0:return pt;case Q0:return dt}return h});function cf(u,h,y){for(var T=-1,D=y.length;++T<D;){var W=y[T],ee=W.size;switch(W.type){case"drop":u+=ee;break;case"dropRight":h-=ee;break;case"take":h=Yn(h,u+ee);break;case"takeRight":u=hn(u,h-ee);break}}return{start:u,end:h}}function o(u){var h=u.match(Vl);return h?h[1].split(Ko):[]}function s(u,h,y){h=Oi(h,u);for(var T=-1,D=h.length,W=!1;++T<D;){var ee=Zt(h[T]);if(!(W=u!=null&&y(u,ee)))break;u=u[ee]}return W||++T!=D?W:(D=u==null?0:u.length,!!D&&wv(D)&&k(ee,D)&&(kt(u)||Lu(u)))}function d(u){var h=u.length,y=new u.constructor(h);return h&&typeof u[0]=="string"&&bt.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function f(u){return typeof u.constructor=="function"&&!Ee(u)?eo(Ks(u)):{}}function g(u,h,y){var T=u.constructor;switch(h){case H:return nf(u);case Ne:case Ue:return new T(+u);case _:return fw(u,y);case P:case K:case se:case ge:case Oe:case Be:case Gt:case Ct:case Ve:return Jg(u,y);case Ft:return new T;case it:case de:return new T(u);case kn:return nh(u);case pt:return new T;case Fe:return Zg(u)}}function w(u,h){var y=h.length;if(!y)return u;var T=y-1;return h[T]=(y>1?"& ":"")+h[T],h=h.join(y>2?", ":" "),u.replace(mc,"{\n/* [wrapped with "+h+"] */\n")}function E(u){return kt(u)||Lu(u)||!!(Za&&u&&u[Za])}function k(u,h){var y=typeof u;return h=h==null?ye:h,!!h&&(y=="number"||y!="symbol"&&Yl.test(u))&&u>-1&&u%1==0&&u<h}function A(u,h,y){if(!Cn(y))return!1;var T=typeof h;return(T=="number"?ui(y)&&k(h,y.length):T=="string"&&h in y)?_o(y[h],u):!1}function R(u,h){if(kt(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||Li(u)?!0:br.test(u)||!Xl.test(u)||h!=null&&u in zt(h)}function q(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function Y(u){var h=Ou(u),y=z[h];if(typeof y!="function"||!(h in Mt.prototype))return!1;if(u===y)return!0;var T=Kt(y);return!!T&&u===T[0]}function ue(u){return!!bo&&bo in u}var ae=Yi?fs:Ow;function Ee(u){var h=u&&u.constructor,y=typeof h=="function"&&h.prototype||Jo;return u===y}function Ae(u){return u===u&&!Cn(u)}function De(u,h){return function(y){return y==null?!1:y[u]===h&&(h!==n||u in zt(y))}}function We(u){var h=mv(u,function(T){return y.size===v&&y.clear(),T}),y=h.cache;return h}function Ge(u,h){var y=u[1],T=h[1],D=y|T,W=D<(N|L|V),ee=T==V&&y==B||T==V&&y==re&&u[7].length<=h[8]||T==(V|re)&&h[7].length<=h[8]&&y==B;if(!(W||ee))return u;T&N&&(u[2]=h[2],D|=y&N?0:M);var ie=h[3];if(ie){var he=u[3];u[3]=he?tv(he,ie,h[4]):ie,u[4]=he?Yo(u[3],m):h[4]}return ie=h[5],ie&&(he=u[5],u[5]=he?rf(he,ie,h[6]):ie,u[6]=he?Yo(u[5],m):h[6]),ie=h[7],ie&&(u[7]=ie),T&V&&(u[8]=u[8]==null?h[8]:Yn(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=D,u}function Ke(u){var h=[];if(u!=null)for(var y in zt(u))h.push(y);return h}function Qe(u){return Ya.call(u)}function ot(u,h,y){return h=hn(h===n?u.length-1:h,0),function(){for(var T=arguments,D=-1,W=hn(T.length-h,0),ee=Se(W);++D<W;)ee[D]=T[h+D];D=-1;for(var ie=Se(h+1);++D<h;)ie[D]=T[D];return ie[h]=y(ee),Gr(u,this,ie)}}function rt(u,h){return h.length<2?u:ca(u,ai(h,0,-1))}function Tt(u,h){for(var y=u.length,T=Yn(h.length,y),D=Gn(u);T--;){var W=h[T];u[T]=k(W,y)?D[W]:n}return u}function Xt(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var _n=wn(xu),en=G0||function(u,h){return cn.setTimeout(u,h)},lr=wn(bu);function ur(u,h,y){var T=h+"";return lr(u,w(T,gn(o(T),y)))}function wn(u){var h=0,y=0;return function(){var T=es(),D=J-(T-y);if(y=T,D>0){if(++h>=ze)return arguments[0]}else h=0;return u.apply(n,arguments)}}function qn(u,h){var y=-1,T=u.length,D=T-1;for(h=h===n?T:h;++y<h;){var W=Zc(y,D),ee=u[W];u[W]=u[y],u[y]=ee}return u.length=h,u}var Mn=We(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(gc,function(y,T,D,W){h.push(D?W.replace(yc,"$1"):T||y)}),h});function Zt(u){if(typeof u=="string"||Li(u))return u;var h=u+"";return h=="0"&&1/u==-Te?"-0":h}function rn(u){if(u!=null){try{return Qi.call(u)}catch{}try{return u+""}catch{}}return""}function gn(u,h){return ri(ne,function(y){var T="_."+y[0];h&y[1]&&!iu(u,T)&&u.push(T)}),u.sort()}function cr(u){if(u instanceof Mt)return u.clone();var h=new Cr(u.__wrapped__,u.__chain__);return h.__actions__=Gn(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function hl(u,h,y){(y?A(u,h,y):h===n)?h=1:h=hn(Pt(h),0);var T=u==null?0:u.length;if(!T||h<1)return[];for(var D=0,W=0,ee=Se(qs(T/h));D<T;)ee[W++]=ai(u,D,D+=h);return ee}function ga(u){for(var h=-1,y=u==null?0:u.length,T=0,D=[];++h<y;){var W=u[h];W&&(D[T++]=W)}return D}function nr(){var u=arguments.length;if(!u)return[];for(var h=Se(u-1),y=arguments[0],T=u;T--;)h[T-1]=arguments[T];return Xo(kt(y)?Gn(y):[y],tr(h,1))}var ro=Lt(function(u,h){return jn(u)?Qs(u,tr(h,1,jn,!0)):[]}),Fn=Lt(function(u,h){var y=io(h);return jn(y)&&(y=n),jn(u)?Qs(u,tr(h,1,jn,!0),lt(y,2)):[]}),uh=Lt(function(u,h){var y=io(h);return jn(y)&&(y=n),jn(u)?Qs(u,tr(h,1,jn,!0),n,y):[]});function ko(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Pt(h),ai(u,h<0?0:h,T)):[]}function us(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Pt(h),h=T-h,ai(u,0,h<0?0:h)):[]}function cs(u,h){return u&&u.length?ol(u,lt(h,3),!0,!0):[]}function fr(u,h){return u&&u.length?ol(u,lt(h,3),!0):[]}function pl(u,h,y,T){var D=u==null?0:u.length;return D?(y&&typeof y!="number"&&A(u,h,y)&&(y=0,T=D),Kd(u,h,y,T)):[]}function ff(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=y==null?0:Pt(y);return D<0&&(D=hn(T+D,0)),_c(u,lt(h,3),D)}function HS(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=T-1;return y!==n&&(D=Pt(y),D=y<0?hn(T+D,0):Yn(D,T-1)),_c(u,lt(h,3),D,!0)}function US(u){var h=u==null?0:u.length;return h?tr(u,1):[]}function TI(u){var h=u==null?0:u.length;return h?tr(u,Te):[]}function kI(u,h){var y=u==null?0:u.length;return y?(h=h===n?1:Pt(h),tr(u,h)):[]}function _I(u){for(var h=-1,y=u==null?0:u.length,T={};++h<y;){var D=u[h];T[D[0]]=D[1]}return T}function WS(u){return u&&u.length?u[0]:n}function OI(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=y==null?0:Pt(y);return D<0&&(D=hn(T+D,0)),qa(u,h,D)}function LI(u){var h=u==null?0:u.length;return h?ai(u,0,-1):[]}var PI=Lt(function(u){var h=Qt(u,eh);return h.length&&h[0]===u[0]?Xc(h):[]}),AI=Lt(function(u){var h=io(u),y=Qt(u,eh);return h===io(y)?h=n:y.pop(),y.length&&y[0]===u[0]?Xc(y,lt(h,2)):[]}),NI=Lt(function(u){var h=io(u),y=Qt(u,eh);return h=typeof h=="function"?h:n,h&&y.pop(),y.length&&y[0]===u[0]?Xc(y,n,h):[]});function II(u,h){return u==null?"":jc.call(u,h)}function io(u){var h=u==null?0:u.length;return h?u[h-1]:n}function RI(u,h,y){var T=u==null?0:u.length;if(!T)return-1;var D=T;return y!==n&&(D=Pt(y),D=D<0?hn(T+D,0):Yn(D,T-1)),h===h?au(u,h,D):_c(u,Oc,D,!0)}function MI(u,h){return u&&u.length?qg(u,Pt(h)):n}var FI=Lt(KS);function KS(u,h){return u&&u.length&&h&&h.length?Xd(u,h):u}function jI(u,h,y){return u&&u.length&&h&&h.length?Xd(u,h,lt(y,2)):u}function $I(u,h,y){return u&&u.length&&h&&h.length?Xd(u,h,n,y):u}var DI=To(function(u,h){var y=u==null?0:u.length,T=Wd(u,h);return Vd(u,Qt(h,function(D){return k(D,y)?+D:D}).sort(rh)),T});function BI(u,h){var y=[];if(!(u&&u.length))return y;var T=-1,D=[],W=u.length;for(h=lt(h,3);++T<W;){var ee=u[T];h(ee,T,u)&&(y.push(ee),D.push(T))}return Vd(u,D),y}function pw(u){return u==null?u:fu.call(u)}function zI(u,h,y){var T=u==null?0:u.length;return T?(y&&typeof y!="number"&&A(u,h,y)?(h=0,y=T):(h=h==null?0:Pt(h),y=y===n?T:Pt(y)),ai(u,h,y)):[]}function HI(u,h){return Co(u,h)}function UI(u,h,y){return Jc(u,h,lt(y,2))}function WI(u,h){var y=u==null?0:u.length;if(y){var T=Co(u,h);if(T<y&&_o(u[T],h))return T}return-1}function KI(u,h){return Co(u,h,!0)}function GI(u,h,y){return Jc(u,h,lt(y,2),!0)}function qI(u,h){var y=u==null?0:u.length;if(y){var T=Co(u,h,!0)-1;if(_o(u[T],h))return T}return-1}function XI(u){return u&&u.length?Qd(u):[]}function VI(u,h){return u&&u.length?Qd(u,lt(h,2)):[]}function YI(u){var h=u==null?0:u.length;return h?ai(u,1,h):[]}function QI(u,h,y){return u&&u.length?(h=y||h===n?1:Pt(h),ai(u,0,h<0?0:h)):[]}function ZI(u,h,y){var T=u==null?0:u.length;return T?(h=y||h===n?1:Pt(h),h=T-h,ai(u,h<0?0:h,T)):[]}function JI(u,h){return u&&u.length?ol(u,lt(h,3),!1,!0):[]}function eR(u,h){return u&&u.length?ol(u,lt(h,3)):[]}var tR=Lt(function(u){return Yr(tr(u,1,jn,!0))}),nR=Lt(function(u){var h=io(u);return jn(h)&&(h=n),Yr(tr(u,1,jn,!0),lt(h,2))}),rR=Lt(function(u){var h=io(u);return h=typeof h=="function"?h:n,Yr(tr(u,1,jn,!0),n,h)});function iR(u){return u&&u.length?Yr(u):[]}function oR(u,h){return u&&u.length?Yr(u,lt(h,2)):[]}function aR(u,h){return h=typeof h=="function"?h:n,u&&u.length?Yr(u,n,h):[]}function gw(u){if(!(u&&u.length))return[];var h=0;return u=qo(u,function(y){if(jn(y))return h=hn(y.length,h),!0}),Xa(h,function(y){return Qt(u,Od(y))})}function GS(u,h){if(!(u&&u.length))return[];var y=gw(u);return h==null?y:Qt(y,function(T){return Gr(h,n,T)})}var sR=Lt(function(u,h){return jn(u)?Qs(u,h):[]}),lR=Lt(function(u){return as(qo(u,jn))}),uR=Lt(function(u){var h=io(u);return jn(h)&&(h=n),as(qo(u,jn),lt(h,2))}),cR=Lt(function(u){var h=io(u);return h=typeof h=="function"?h:n,as(qo(u,jn),n,h)}),fR=Lt(gw);function dR(u,h){return Jd(u||[],h||[],gu)}function hR(u,h){return Jd(u||[],h||[],Eo)}var pR=Lt(function(u){var h=u.length,y=h>1?u[h-1]:n;return y=typeof y=="function"?(u.pop(),y):n,GS(u,y)});function qS(u){var h=z(u);return h.__chain__=!0,h}function gR(u,h){return h(u),u}function pv(u,h){return h(u)}var vR=To(function(u){var h=u.length,y=h?u[0]:0,T=this.__wrapped__,D=function(W){return Wd(W,u)};return h>1||this.__actions__.length||!(T instanceof Mt)||!k(y)?this.thru(D):(T=T.slice(y,+y+(h?1:0)),T.__actions__.push({func:pv,args:[D],thisArg:n}),new Cr(T,this.__chain__).thru(function(W){return h&&!W.length&&W.push(n),W}))});function mR(){return qS(this)}function yR(){return new Cr(this.value(),this.__chain__)}function wR(){this.__values__===n&&(this.__values__=sC(this.value()));var u=this.__index__>=this.__values__.length,h=u?n:this.__values__[this.__index__++];return{done:u,value:h}}function xR(){return this}function bR(u){for(var h,y=this;y instanceof Dc;){var T=cr(y);T.__index__=0,T.__values__=n,h?D.__wrapped__=T:h=T;var D=T;y=y.__wrapped__}return D.__wrapped__=u,h}function ER(){var u=this.__wrapped__;if(u instanceof Mt){var h=u;return this.__actions__.length&&(h=new Mt(this)),h=h.reverse(),h.__actions__.push({func:pv,args:[pw],thisArg:n}),new Cr(h,this.__chain__)}return this.thru(pw)}function SR(){return Qg(this.__wrapped__,this.__actions__)}var CR=of(function(u,h,y){bt.call(u,y)?++u[y]:no(u,y,1)});function TR(u,h,y){var T=kt(u)?Td:Wc;return y&&A(u,h,y)&&(h=n),T(u,lt(h,3))}function kR(u,h){var y=kt(u)?qo:Gd;return y(u,lt(h,3))}var _R=oh(ff),OR=oh(HS);function LR(u,h){return tr(gv(u,h),1)}function PR(u,h){return tr(gv(u,h),Te)}function AR(u,h,y){return y=y===n?1:Pt(y),tr(gv(u,h),y)}function XS(u,h){var y=kt(u)?ri:Xr;return y(u,lt(h,3))}function VS(u,h){var y=kt(u)?j0:Uc;return y(u,lt(h,3))}var NR=of(function(u,h,y){bt.call(u,y)?u[y].push(h):no(u,y,[h])});function IR(u,h,y,T){u=ui(u)?u:hf(u),y=y&&!T?Pt(y):0;var D=u.length;return y<0&&(y=hn(D+y,0)),xv(u)?y<=D&&u.indexOf(h,y)>-1:!!D&&qa(u,h,y)>-1}var RR=Lt(function(u,h,y){var T=-1,D=typeof h=="function",W=ui(u)?Se(u.length):[];return Xr(u,function(ee){W[++T]=D?Gr(h,ee,y):Js(ee,h,y)}),W}),MR=of(function(u,h,y){no(u,y,h)});function gv(u,h){var y=kt(u)?Qt:il;return y(u,lt(h,3))}function FR(u,h,y,T){return u==null?[]:(kt(h)||(h=h==null?[]:[h]),y=T?n:y,kt(y)||(y=y==null?[]:[y]),or(u,h,y))}var jR=of(function(u,h,y){u[y?0:1].push(h)},function(){return[[],[]]});function $R(u,h,y){var T=kt(u)?kd:Pd,D=arguments.length<3;return T(u,lt(h,4),y,D,Xr)}function DR(u,h,y){var T=kt(u)?$0:Pd,D=arguments.length<3;return T(u,lt(h,4),y,D,Uc)}function BR(u,h){var y=kt(u)?qo:Gd;return y(u,yv(lt(h,3)))}function zR(u){var h=kt(u)?zc:lw;return h(u)}function HR(u,h,y){(y?A(u,h,y):h===n)?h=1:h=Pt(h);var T=kt(u)?ua:ha;return T(u,h)}function UR(u){var h=kt(u)?Fg:So;return h(u)}function WR(u){if(u==null)return 0;if(ui(u))return xv(u)?Va(u):u.length;var h=sr(u);return h==Ft||h==pt?u.size:Yc(u).length}function KR(u,h,y){var T=kt(u)?Ga:uw;return y&&A(u,h,y)&&(h=n),T(u,lt(h,3))}var GR=Lt(function(u,h){if(u==null)return[];var y=h.length;return y>1&&A(u,h[0],h[1])?h=[]:y>2&&A(h[0],h[1],h[2])&&(h=[h[0]]),or(u,tr(h,1),[])}),vv=K0||function(){return cn.Date.now()};function qR(u,h){if(typeof h!="function")throw new Ir(l);return u=Pt(u),function(){if(--u<1)return h.apply(this,arguments)}}function YS(u,h,y){return h=y?n:h,h=u&&h==null?u.length:h,li(u,V,n,n,n,n,h)}function QS(u,h){var y;if(typeof h!="function")throw new Ir(l);return u=Pt(u),function(){return--u>0&&(y=h.apply(this,arguments)),u<=1&&(h=n),y}}var vw=Lt(function(u,h,y){var T=N;if(y.length){var D=Yo(y,fl(vw));T|=U}return li(u,T,h,y,D)}),ZS=Lt(function(u,h,y){var T=N|L;if(y.length){var D=Yo(y,fl(ZS));T|=U}return li(h,T,u,y,D)});function JS(u,h,y){h=y?n:h;var T=li(u,B,n,n,n,n,n,h);return T.placeholder=JS.placeholder,T}function eC(u,h,y){h=y?n:h;var T=li(u,j,n,n,n,n,n,h);return T.placeholder=eC.placeholder,T}function tC(u,h,y){var T,D,W,ee,ie,he,Ie=0,Re=!1,$e=!1,Ze=!0;if(typeof u!="function")throw new Ir(l);h=oo(h)||0,Cn(y)&&(Re=!!y.leading,$e="maxWait"in y,W=$e?hn(oo(y.maxWait)||0,h):W,Ze="trailing"in y?!!y.trailing:Ze);function at($n){var Oo=T,hs=D;return T=D=n,Ie=$n,ee=u.apply(hs,Oo),ee}function vt($n){return Ie=$n,ie=en($t,h),Re?at($n):ee}function Nt($n){var Oo=$n-he,hs=$n-Ie,xC=h-Oo;return $e?Yn(xC,W-hs):xC}function mt($n){var Oo=$n-he,hs=$n-Ie;return he===n||Oo>=h||Oo<0||$e&&hs>=W}function $t(){var $n=vv();if(mt($n))return Ht($n);ie=en($t,Nt($n))}function Ht($n){return ie=n,Ze&&T?at($n):(T=D=n,ee)}function Pi(){ie!==n&&al(ie),Ie=0,T=he=D=ie=n}function Qr(){return ie===n?ee:Ht(vv())}function Ai(){var $n=vv(),Oo=mt($n);if(T=arguments,D=this,he=$n,Oo){if(ie===n)return vt(he);if($e)return al(ie),ie=en($t,h),at(he)}return ie===n&&(ie=en($t,h)),ee}return Ai.cancel=Pi,Ai.flush=Qr,Ai}var XR=Lt(function(u,h){return Dg(u,1,h)}),VR=Lt(function(u,h,y){return Dg(u,oo(h)||0,y)});function YR(u){return li(u,fe)}function mv(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new Ir(l);var y=function(){var T=arguments,D=h?h.apply(this,T):T[0],W=y.cache;if(W.has(D))return W.get(D);var ee=u.apply(this,T);return y.cache=W.set(D,ee)||W,ee};return y.cache=new(mv.Cache||Jn),y}mv.Cache=Jn;function yv(u){if(typeof u!="function")throw new Ir(l);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function QR(u){return QS(2,u)}var ZR=cw(function(u,h){h=h.length==1&&kt(h[0])?Qt(h[0],Sr(lt())):Qt(tr(h,1),Sr(lt()));var y=h.length;return Lt(function(T){for(var D=-1,W=Yn(T.length,y);++D<W;)T[D]=h[D].call(this,T[D]);return Gr(u,this,T)})}),mw=Lt(function(u,h){var y=Yo(h,fl(mw));return li(u,U,n,h,y)}),nC=Lt(function(u,h){var y=Yo(h,fl(nC));return li(u,X,n,h,y)}),JR=To(function(u,h){return li(u,re,n,n,n,h)});function eM(u,h){if(typeof u!="function")throw new Ir(l);return h=h===n?h:Pt(h),Lt(u,h)}function tM(u,h){if(typeof u!="function")throw new Ir(l);return h=h==null?0:hn(Pt(h),0),Lt(function(y){var T=y[h],D=pa(y,0,h);return T&&Xo(D,T),Gr(u,this,D)})}function nM(u,h,y){var T=!0,D=!0;if(typeof u!="function")throw new Ir(l);return Cn(y)&&(T="leading"in y?!!y.leading:T,D="trailing"in y?!!y.trailing:D),tC(u,h,{leading:T,maxWait:h,trailing:D})}function rM(u){return YS(u,1)}function iM(u,h){return mw(tf(h),u)}function oM(){if(!arguments.length)return[];var u=arguments[0];return kt(u)?u:[u]}function aM(u){return Tr(u,C)}function sM(u,h){return h=typeof h=="function"?h:n,Tr(u,C,h)}function lM(u){return Tr(u,x|C)}function uM(u,h){return h=typeof h=="function"?h:n,Tr(u,x|C,h)}function cM(u,h){return h==null||$g(u,h,dr(h))}function _o(u,h){return u===h||u!==u&&h!==h}var fM=Jt(qc),dM=Jt(function(u,h){return u>=h}),Lu=el(function(){return arguments}())?el:function(u){return On(u)&&bt.call(u,"callee")&&!Fc.call(u,"callee")},kt=Se.isArray,hM=dg?Sr(dg):ow;function ui(u){return u!=null&&wv(u.length)&&!fs(u)}function jn(u){return On(u)&&ui(u)}function pM(u){return u===!0||u===!1||On(u)&&Kn(u)==Ne}var gl=uu||Ow,gM=hg?Sr(hg):tl;function vM(u){return On(u)&&u.nodeType===1&&!ch(u)}function mM(u){if(u==null)return!0;if(ui(u)&&(kt(u)||typeof u=="string"||typeof u.splice=="function"||gl(u)||df(u)||Lu(u)))return!u.length;var h=sr(u);if(h==Ft||h==pt)return!u.size;if(Ee(u))return!Yc(u).length;for(var y in u)if(bt.call(u,y))return!1;return!0}function yM(u,h){return nl(u,h)}function wM(u,h,y){y=typeof y=="function"?y:n;var T=y?y(u,h):n;return T===n?nl(u,h,n,y):!!T}function yw(u){if(!On(u))return!1;var h=Kn(u);return h==Ye||h==nt||typeof u.message=="string"&&typeof u.name=="string"&&!ch(u)}function xM(u){return typeof u=="number"&&Lg(u)}function fs(u){if(!Cn(u))return!1;var h=Kn(u);return h==wt||h==Dt||h==_e||h==Bt}function rC(u){return typeof u=="number"&&u==Pt(u)}function wv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ye}function Cn(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function On(u){return u!=null&&typeof u=="object"}var iC=pg?Sr(pg):Ug;function bM(u,h){return u===h||os(u,h,dl(h))}function EM(u,h,y){return y=typeof y=="function"?y:n,os(u,h,dl(h),y)}function SM(u){return oC(u)&&u!=+u}function CM(u){if(ae(u))throw new xt(a);return rl(u)}function TM(u){return u===null}function kM(u){return u==null}function oC(u){return typeof u=="number"||On(u)&&Kn(u)==it}function ch(u){if(!On(u)||Kn(u)!=Ot)return!1;var h=Ks(u);if(h===null)return!0;var y=bt.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&Qi.call(y)==U0}var ww=gg?Sr(gg):yu;function _M(u){return rC(u)&&u>=-ye&&u<=ye}var aC=Sd?Sr(Sd):wu;function xv(u){return typeof u=="string"||!kt(u)&&On(u)&&Kn(u)==de}function Li(u){return typeof u=="symbol"||On(u)&&Kn(u)==Fe}var df=Cd?Sr(Cd):Wg;function OM(u){return u===n}function LM(u){return On(u)&&sr(u)==dt}function PM(u){return On(u)&&Kn(u)==zn}var AM=Jt(da),NM=Jt(function(u,h){return u<=h});function sC(u){if(!u)return[];if(ui(u))return xv(u)?ii(u):Gn(u);if(ta&&u[ta])return xg(u[ta]());var h=sr(u),y=h==Ft?Ac:h==pt?Nc:hf;return y(u)}function ds(u){if(!u)return u===0?u:0;if(u=oo(u),u===Te||u===-Te){var h=u<0?-1:1;return h*me}return u===u?u:0}function Pt(u){var h=ds(u),y=h%1;return h===h?y?h-y:h:0}function lC(u){return u?rs(Pt(u),0,te):0}function oo(u){if(typeof u=="number")return u;if(Li(u))return be;if(Cn(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=Cn(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=ou(u);var y=xi.test(u);return y||Wr.test(u)?M0(u.slice(2),y?2:8):$s.test(u)?be:+u}function uC(u){return Rr(u,ci(u))}function IM(u){return u?rs(Pt(u),-ye,ye):u===0?u:0}function tn(u){return u==null?"":ar(u)}var RM=sl(function(u,h){if(Ee(h)||ui(h)){Rr(h,dr(h),u);return}for(var y in h)bt.call(h,y)&&gu(u,y,h[y])}),cC=sl(function(u,h){Rr(h,ci(h),u)}),bv=sl(function(u,h,y,T){Rr(h,ci(h),u,T)}),MM=sl(function(u,h,y,T){Rr(h,dr(h),u,T)}),FM=To(Wd);function jM(u,h){var y=eo(u);return h==null?y:Ud(y,h)}var $M=Lt(function(u,h){u=zt(u);var y=-1,T=h.length,D=T>2?h[2]:n;for(D&&A(h[0],h[1],D)&&(T=1);++y<T;)for(var W=h[y],ee=ci(W),ie=-1,he=ee.length;++ie<he;){var Ie=ee[ie],Re=u[Ie];(Re===n||_o(Re,Jo[Ie])&&!bt.call(u,Ie))&&(u[Ie]=W[Ie])}return u}),DM=Lt(function(u){return u.push(n,ah),Gr(fC,n,u)});function BM(u,h){return Hs(u,lt(h,3),Vr)}function zM(u,h){return Hs(u,lt(h,3),Gc)}function HM(u,h){return u==null?u:Kc(u,lt(h,3),ci)}function UM(u,h){return u==null?u:Wn(u,lt(h,3),ci)}function WM(u,h){return u&&Vr(u,lt(h,3))}function KM(u,h){return u&&Gc(u,lt(h,3))}function GM(u){return u==null?[]:mu(u,dr(u))}function qM(u){return u==null?[]:mu(u,ci(u))}function xw(u,h,y){var T=u==null?n:ca(u,h);return T===n?y:T}function XM(u,h){return u!=null&&s(u,h,Bg)}function bw(u,h){return u!=null&&s(u,h,zg)}var VM=ss(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Ya.call(h)),u[h]=y},Sw(fi)),YM=ss(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Ya.call(h)),bt.call(u,h)?u[h].push(y):u[h]=[y]},lt),QM=Lt(Js);function dr(u){return ui(u)?zd(u):Yc(u)}function ci(u){return ui(u)?zd(u,!0):fa(u)}function ZM(u,h){var y={};return h=lt(h,3),Vr(u,function(T,D,W){no(y,h(T,D,W),T)}),y}function JM(u,h){var y={};return h=lt(h,3),Vr(u,function(T,D,W){no(y,D,h(T,D,W))}),y}var eF=sl(function(u,h,y){Qc(u,h,y)}),fC=sl(function(u,h,y,T){Qc(u,h,y,T)}),tF=To(function(u,h){var y={};if(u==null)return y;var T=!1;h=Qt(h,function(W){return W=Oi(W,u),T||(T=W.length>1),W}),Rr(u,lf(u),y),T&&(y=Tr(y,x|S|C,cv));for(var D=h.length;D--;)Eu(y,h[D]);return y});function nF(u,h){return dC(u,yv(lt(h)))}var rF=To(function(u,h){return u==null?{}:Xg(u,h)});function dC(u,h){if(u==null)return{};var y=Qt(lf(u),function(T){return[T]});return h=lt(h),Vg(u,y,function(T,D){return h(T,D[0])})}function iF(u,h,y){h=Oi(h,u);var T=-1,D=h.length;for(D||(D=1,u=n);++T<D;){var W=u==null?n:u[Zt(h[T])];W===n&&(T=D,W=y),u=fs(W)?W.call(u):W}return u}function oF(u,h,y){return u==null?u:Eo(u,h,y)}function aF(u,h,y,T){return T=typeof T=="function"?T:n,u==null?u:Eo(u,h,y,T)}var hC=si(dr),pC=si(ci);function sF(u,h,y){var T=kt(u),D=T||gl(u)||df(u);if(h=lt(h,4),y==null){var W=u&&u.constructor;D?y=T?new W:[]:Cn(u)?y=fs(W)?eo(Ks(u)):{}:y={}}return(D?ri:Vr)(u,function(ee,ie,he){return h(y,ee,ie,he)}),y}function lF(u,h){return u==null?!0:Eu(u,h)}function uF(u,h,y){return u==null?u:ef(u,h,tf(y))}function cF(u,h,y,T){return T=typeof T=="function"?T:n,u==null?u:ef(u,h,tf(y),T)}function hf(u){return u==null?[]:Lc(u,dr(u))}function fF(u){return u==null?[]:Lc(u,ci(u))}function dF(u,h,y){return y===n&&(y=h,h=n),y!==n&&(y=oo(y),y=y===y?y:0),h!==n&&(h=oo(h),h=h===h?h:0),rs(oo(u),h,y)}function hF(u,h,y){return h=ds(h),y===n?(y=h,h=0):y=ds(y),u=oo(u),Zs(u,h,y)}function pF(u,h,y){if(y&&typeof y!="boolean"&&A(u,h,y)&&(h=y=n),y===n&&(typeof h=="boolean"?(y=h,h=n):typeof u=="boolean"&&(y=u,u=n)),u===n&&h===n?(u=0,h=1):(u=ds(u),h===n?(h=u,u=0):h=ds(h)),u>h){var T=u;u=h,h=T}if(y||u%1||h%1){var D=ia();return Yn(u+D*(h-u+R0("1e-"+((D+"").length-1))),h)}return Zc(u,h)}var gF=ll(function(u,h,y){return h=h.toLowerCase(),u+(y?gC(h):h)});function gC(u){return Ew(tn(u).toLowerCase())}function vC(u){return u=tn(u),u&&u.replace(Ql,yg).replace(sg,"")}function vF(u,h,y){u=tn(u),h=ar(h);var T=u.length;y=y===n?T:rs(Pt(y),0,T);var D=y;return y-=h.length,y>=0&&u.slice(y,D)==h}function mF(u){return u=tn(u),u&&Hr.test(u)?u.replace(Un,H0):u}function yF(u){return u=tn(u),u&&qi.test(u)?u.replace(Ha,"\\$&"):u}var wF=ll(function(u,h,y){return u+(y?"-":"")+h.toLowerCase()}),xF=ll(function(u,h,y){return u+(y?" ":"")+h.toLowerCase()}),bF=av("toLowerCase");function EF(u,h,y){u=tn(u),h=Pt(h);var T=h?Va(u):0;if(!h||T>=h)return u;var D=(h-T)/2;return af(Xs(D),y)+u+af(qs(D),y)}function SF(u,h,y){u=tn(u),h=Pt(h);var T=h?Va(u):0;return h&&T<h?u+af(h-T,y):u}function CF(u,h,y){u=tn(u),h=Pt(h);var T=h?Va(u):0;return h&&T<h?af(h-T,y)+u:u}function TF(u,h,y){return y||h==null?h=0:h&&(h=+h),cu(tn(u).replace(Ua,""),h||0)}function kF(u,h,y){return(y?A(u,h,y):h===n)?h=1:h=Pt(h),Yd(tn(u),h)}function _F(){var u=arguments,h=tn(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var OF=ll(function(u,h,y){return u+(y?"_":"")+h.toLowerCase()});function LF(u,h,y){return y&&typeof y!="number"&&A(u,h,y)&&(h=y=n),y=y===n?te:y>>>0,y?(u=tn(u),u&&(typeof h=="string"||h!=null&&!ww(h))&&(h=ar(h),!h&&Ti(u))?pa(ii(u),0,y):u.split(h,y)):[]}var PF=ll(function(u,h,y){return u+(y?" ":"")+Ew(h)});function AF(u,h,y){return u=tn(u),y=y==null?0:rs(Pt(y),0,u.length),h=ar(h),u.slice(y,y+h.length)==h}function NF(u,h,y){var T=z.templateSettings;y&&A(u,h,y)&&(h=n),u=tn(u),h=bv({},h,T,sf);var D=bv({},h.imports,T.imports,sf),W=dr(D),ee=Lc(D,W),ie,he,Ie=0,Re=h.interpolate||ln,$e="__p += '",Ze=Zo((h.escape||ln).source+"|"+Re.source+"|"+(Re===ql?yo:ln).source+"|"+(h.evaluate||ln).source+"|$","g"),at="//# sourceURL="+(bt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ed+"]")+"\n";u.replace(Ze,function(mt,$t,Ht,Pi,Qr,Ai){return Ht||(Ht=Pi),$e+=u.slice(Ie,Ai).replace(et,wg),$t&&(ie=!0,$e+="' +\n__e("+$t+") +\n'"),Qr&&(he=!0,$e+="';\n"+Qr+";\n__p += '"),Ht&&($e+="' +\n((__t = ("+Ht+")) == null ? '' : __t) +\n'"),Ie=Ai+mt.length,mt}),$e+="';\n";var vt=bt.call(h,"variable")&&h.variable;if(!vt)$e="with (obj) {\n"+$e+"\n}\n";else if(Ur.test(vt))throw new xt(c);$e=(he?$e.replace(gt,""):$e).replace(Fs,"$1").replace(Hn,"$1;"),$e="function("+(vt||"obj")+") {\n"+(vt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(he?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+$e+"return __p\n}";var Nt=yC(function(){return qt(W,at+"return "+$e).apply(n,ee)});if(Nt.source=$e,yw(Nt))throw Nt;return Nt}function IF(u){return tn(u).toLowerCase()}function RF(u){return tn(u).toUpperCase()}function MF(u,h,y){if(u=tn(u),u&&(y||h===n))return ou(u);if(!u||!(h=ar(h)))return u;var T=ii(u),D=ii(h),W=Vo(T,D),ee=Pc(T,D)+1;return pa(T,W,ee).join("")}function FF(u,h,y){if(u=tn(u),u&&(y||h===n))return u.slice(0,Ic(u)+1);if(!u||!(h=ar(h)))return u;var T=ii(u),D=Pc(T,ii(h))+1;return pa(T,0,D).join("")}function jF(u,h,y){if(u=tn(u),u&&(y||h===n))return u.replace(Ua,"");if(!u||!(h=ar(h)))return u;var T=ii(u),D=Vo(T,ii(h));return pa(T,D).join("")}function $F(u,h){var y=ve,T=xe;if(Cn(h)){var D="separator"in h?h.separator:D;y="length"in h?Pt(h.length):y,T="omission"in h?ar(h.omission):T}u=tn(u);var W=u.length;if(Ti(u)){var ee=ii(u);W=ee.length}if(y>=W)return u;var ie=y-Va(T);if(ie<1)return T;var he=ee?pa(ee,0,ie).join(""):u.slice(0,ie);if(D===n)return he+T;if(ee&&(ie+=he.length-ie),ww(D)){if(u.slice(ie).search(D)){var Ie,Re=he;for(D.global||(D=Zo(D.source,tn(Wa.exec(D))+"g")),D.lastIndex=0;Ie=D.exec(Re);)var $e=Ie.index;he=he.slice(0,$e===n?ie:$e)}}else if(u.indexOf(ar(D),ie)!=ie){var Ze=he.lastIndexOf(D);Ze>-1&&(he=he.slice(0,Ze))}return he+T}function DF(u){return u=tn(u),u&&js.test(u)?u.replace(wi,Rc):u}var BF=ll(function(u,h,y){return u+(y?" ":"")+h.toUpperCase()}),Ew=av("toUpperCase");function mC(u,h,y){return u=tn(u),h=y?n:h,h===n?Vi(u)?ki(u):vg(u):u.match(h)||[]}var yC=Lt(function(u,h){try{return Gr(u,n,h)}catch(y){return yw(y)?y:new xt(y)}}),zF=To(function(u,h){return ri(h,function(y){y=Zt(y),no(u,y,vw(u[y],u))}),u});function HF(u){var h=u==null?0:u.length,y=lt();return u=h?Qt(u,function(T){if(typeof T[1]!="function")throw new Ir(l);return[y(T[0]),T[1]]}):[],Lt(function(T){for(var D=-1;++D<h;){var W=u[D];if(Gr(W[0],this,T))return Gr(W[1],this,T)}})}function UF(u){return jg(Tr(u,x))}function Sw(u){return function(){return u}}function WF(u,h){return u==null||u!==u?h:u}var KF=sv(),GF=sv(!0);function fi(u){return u}function Cw(u){return Kg(typeof u=="function"?u:Tr(u,x))}function qF(u){return Gg(Tr(u,x))}function XF(u,h){return qd(u,Tr(h,x))}var VF=Lt(function(u,h){return function(y){return Js(y,u,h)}}),YF=Lt(function(u,h){return function(y){return Js(u,y,h)}});function Tw(u,h,y){var T=dr(h),D=mu(h,T);y==null&&!(Cn(h)&&(D.length||!T.length))&&(y=h,h=u,u=this,D=mu(h,dr(h)));var W=!(Cn(y)&&"chain"in y)||!!y.chain,ee=fs(u);return ri(D,function(ie){var he=h[ie];u[ie]=he,ee&&(u.prototype[ie]=function(){var Ie=this.__chain__;if(W||Ie){var Re=u(this.__wrapped__),$e=Re.__actions__=Gn(this.__actions__);return $e.push({func:he,args:arguments,thisArg:u}),Re.__chain__=Ie,Re}return he.apply(u,Xo([this.value()],arguments))})}),u}function QF(){return cn._===this&&(cn._=_g),this}function kw(){}function ZF(u){return u=Pt(u),Lt(function(h){return qg(h,u)})}var JF=cl(Qt),ej=cl(Td),tj=cl(Ga);function wC(u){return R(u)?Od(Zt(u)):sw(u)}function nj(u){return function(h){return u==null?n:ca(u,h)}}var rj=lv(),ij=lv(!0);function _w(){return[]}function Ow(){return!1}function oj(){return{}}function aj(){return""}function sj(){return!0}function lj(u,h){if(u=Pt(u),u<1||u>ye)return[];var y=te,T=Yn(u,te);h=lt(h),u-=te;for(var D=Xa(T,h);++y<u;)h(y);return D}function uj(u){return kt(u)?Qt(u,Zt):Li(u)?[u]:Gn(Mn(tn(u)))}function cj(u){var h=++ea;return tn(u)+h}var fj=Cu(function(u,h){return u+h},0),dj=Tu("ceil"),hj=Cu(function(u,h){return u/h},1),pj=Tu("floor");function gj(u){return u&&u.length?vu(u,fi,qc):n}function vj(u,h){return u&&u.length?vu(u,lt(h,2),qc):n}function mj(u){return _d(u,fi)}function yj(u,h){return _d(u,lt(h,2))}function wj(u){return u&&u.length?vu(u,fi,da):n}function xj(u,h){return u&&u.length?vu(u,lt(h,2),da):n}var bj=Cu(function(u,h){return u*h},1),Ej=Tu("round"),Sj=Cu(function(u,h){return u-h},0);function Cj(u){return u&&u.length?Ad(u,fi):0}function Tj(u,h){return u&&u.length?Ad(u,lt(h,2)):0}return z.after=qR,z.ary=YS,z.assign=RM,z.assignIn=cC,z.assignInWith=bv,z.assignWith=MM,z.at=FM,z.before=QS,z.bind=vw,z.bindAll=zF,z.bindKey=ZS,z.castArray=oM,z.chain=qS,z.chunk=hl,z.compact=ga,z.concat=nr,z.cond=HF,z.conforms=UF,z.constant=Sw,z.countBy=CR,z.create=jM,z.curry=JS,z.curryRight=eC,z.debounce=tC,z.defaults=$M,z.defaultsDeep=DM,z.defer=XR,z.delay=VR,z.difference=ro,z.differenceBy=Fn,z.differenceWith=uh,z.drop=ko,z.dropRight=us,z.dropRightWhile=cs,z.dropWhile=fr,z.fill=pl,z.filter=kR,z.flatMap=LR,z.flatMapDeep=PR,z.flatMapDepth=AR,z.flatten=US,z.flattenDeep=TI,z.flattenDepth=kI,z.flip=YR,z.flow=KF,z.flowRight=GF,z.fromPairs=_I,z.functions=GM,z.functionsIn=qM,z.groupBy=NR,z.initial=LI,z.intersection=PI,z.intersectionBy=AI,z.intersectionWith=NI,z.invert=VM,z.invertBy=YM,z.invokeMap=RR,z.iteratee=Cw,z.keyBy=MR,z.keys=dr,z.keysIn=ci,z.map=gv,z.mapKeys=ZM,z.mapValues=JM,z.matches=qF,z.matchesProperty=XF,z.memoize=mv,z.merge=eF,z.mergeWith=fC,z.method=VF,z.methodOf=YF,z.mixin=Tw,z.negate=yv,z.nthArg=ZF,z.omit=tF,z.omitBy=nF,z.once=QR,z.orderBy=FR,z.over=JF,z.overArgs=ZR,z.overEvery=ej,z.overSome=tj,z.partial=mw,z.partialRight=nC,z.partition=jR,z.pick=rF,z.pickBy=dC,z.property=wC,z.propertyOf=nj,z.pull=FI,z.pullAll=KS,z.pullAllBy=jI,z.pullAllWith=$I,z.pullAt=DI,z.range=rj,z.rangeRight=ij,z.rearg=JR,z.reject=BR,z.remove=BI,z.rest=eM,z.reverse=pw,z.sampleSize=HR,z.set=oF,z.setWith=aF,z.shuffle=UR,z.slice=zI,z.sortBy=GR,z.sortedUniq=XI,z.sortedUniqBy=VI,z.split=LF,z.spread=tM,z.tail=YI,z.take=QI,z.takeRight=ZI,z.takeRightWhile=JI,z.takeWhile=eR,z.tap=gR,z.throttle=nM,z.thru=pv,z.toArray=sC,z.toPairs=hC,z.toPairsIn=pC,z.toPath=uj,z.toPlainObject=uC,z.transform=sF,z.unary=rM,z.union=tR,z.unionBy=nR,z.unionWith=rR,z.uniq=iR,z.uniqBy=oR,z.uniqWith=aR,z.unset=lF,z.unzip=gw,z.unzipWith=GS,z.update=uF,z.updateWith=cF,z.values=hf,z.valuesIn=fF,z.without=sR,z.words=mC,z.wrap=iM,z.xor=lR,z.xorBy=uR,z.xorWith=cR,z.zip=fR,z.zipObject=dR,z.zipObjectDeep=hR,z.zipWith=pR,z.entries=hC,z.entriesIn=pC,z.extend=cC,z.extendWith=bv,Tw(z,z),z.add=fj,z.attempt=yC,z.camelCase=gF,z.capitalize=gC,z.ceil=dj,z.clamp=dF,z.clone=aM,z.cloneDeep=lM,z.cloneDeepWith=uM,z.cloneWith=sM,z.conformsTo=cM,z.deburr=vC,z.defaultTo=WF,z.divide=hj,z.endsWith=vF,z.eq=_o,z.escape=mF,z.escapeRegExp=yF,z.every=TR,z.find=_R,z.findIndex=ff,z.findKey=BM,z.findLast=OR,z.findLastIndex=HS,z.findLastKey=zM,z.floor=pj,z.forEach=XS,z.forEachRight=VS,z.forIn=HM,z.forInRight=UM,z.forOwn=WM,z.forOwnRight=KM,z.get=xw,z.gt=fM,z.gte=dM,z.has=XM,z.hasIn=bw,z.head=WS,z.identity=fi,z.includes=IR,z.indexOf=OI,z.inRange=hF,z.invoke=QM,z.isArguments=Lu,z.isArray=kt,z.isArrayBuffer=hM,z.isArrayLike=ui,z.isArrayLikeObject=jn,z.isBoolean=pM,z.isBuffer=gl,z.isDate=gM,z.isElement=vM,z.isEmpty=mM,z.isEqual=yM,z.isEqualWith=wM,z.isError=yw,z.isFinite=xM,z.isFunction=fs,z.isInteger=rC,z.isLength=wv,z.isMap=iC,z.isMatch=bM,z.isMatchWith=EM,z.isNaN=SM,z.isNative=CM,z.isNil=kM,z.isNull=TM,z.isNumber=oC,z.isObject=Cn,z.isObjectLike=On,z.isPlainObject=ch,z.isRegExp=ww,z.isSafeInteger=_M,z.isSet=aC,z.isString=xv,z.isSymbol=Li,z.isTypedArray=df,z.isUndefined=OM,z.isWeakMap=LM,z.isWeakSet=PM,z.join=II,z.kebabCase=wF,z.last=io,z.lastIndexOf=RI,z.lowerCase=xF,z.lowerFirst=bF,z.lt=AM,z.lte=NM,z.max=gj,z.maxBy=vj,z.mean=mj,z.meanBy=yj,z.min=wj,z.minBy=xj,z.stubArray=_w,z.stubFalse=Ow,z.stubObject=oj,z.stubString=aj,z.stubTrue=sj,z.multiply=bj,z.nth=MI,z.noConflict=QF,z.noop=kw,z.now=vv,z.pad=EF,z.padEnd=SF,z.padStart=CF,z.parseInt=TF,z.random=pF,z.reduce=$R,z.reduceRight=DR,z.repeat=kF,z.replace=_F,z.result=iF,z.round=Ej,z.runInContext=ce,z.sample=zR,z.size=WR,z.snakeCase=OF,z.some=KR,z.sortedIndex=HI,z.sortedIndexBy=UI,z.sortedIndexOf=WI,z.sortedLastIndex=KI,z.sortedLastIndexBy=GI,z.sortedLastIndexOf=qI,z.startCase=PF,z.startsWith=AF,z.subtract=Sj,z.sum=Cj,z.sumBy=Tj,z.template=NF,z.times=lj,z.toFinite=ds,z.toInteger=Pt,z.toLength=lC,z.toLower=IF,z.toNumber=oo,z.toSafeInteger=IM,z.toString=tn,z.toUpper=RF,z.trim=MF,z.trimEnd=FF,z.trimStart=jF,z.truncate=$F,z.unescape=DF,z.uniqueId=cj,z.upperCase=BF,z.upperFirst=Ew,z.each=XS,z.eachRight=VS,z.first=WS,Tw(z,function(){var u={};return Vr(z,function(h,y){bt.call(z.prototype,y)||(u[y]=h)}),u}(),{chain:!1}),z.VERSION=r,ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){z[u].placeholder=z}),ri(["drop","take"],function(u,h){Mt.prototype[u]=function(y){y=y===n?1:hn(Pt(y),0);var T=this.__filtered__&&!h?new Mt(this):this.clone();return T.__filtered__?T.__takeCount__=Yn(y,T.__takeCount__):T.__views__.push({size:Yn(y,te),type:u+(T.__dir__<0?"Right":"")}),T},Mt.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),ri(["filter","map","takeWhile"],function(u,h){var y=h+1,T=y==Q||y==Ce;Mt.prototype[u]=function(D){var W=this.clone();return W.__iteratees__.push({iteratee:lt(D,3),type:y}),W.__filtered__=W.__filtered__||T,W}}),ri(["head","last"],function(u,h){var y="take"+(h?"Right":"");Mt.prototype[u]=function(){return this[y](1).value()[0]}}),ri(["initial","tail"],function(u,h){var y="drop"+(h?"":"Right");Mt.prototype[u]=function(){return this.__filtered__?new Mt(this):this[y](1)}}),Mt.prototype.compact=function(){return this.filter(fi)},Mt.prototype.find=function(u){return this.filter(u).head()},Mt.prototype.findLast=function(u){return this.reverse().find(u)},Mt.prototype.invokeMap=Lt(function(u,h){return typeof u=="function"?new Mt(this):this.map(function(y){return Js(y,u,h)})}),Mt.prototype.reject=function(u){return this.filter(yv(lt(u)))},Mt.prototype.slice=function(u,h){u=Pt(u);var y=this;return y.__filtered__&&(u>0||h<0)?new Mt(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),h!==n&&(h=Pt(h),y=h<0?y.dropRight(-h):y.take(h-u)),y)},Mt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Mt.prototype.toArray=function(){return this.take(te)},Vr(Mt.prototype,function(u,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),T=/^(?:head|last)$/.test(h),D=z[T?"take"+(h=="last"?"Right":""):h],W=T||/^find/.test(h);D&&(z.prototype[h]=function(){var ee=this.__wrapped__,ie=T?[1]:arguments,he=ee instanceof Mt,Ie=ie[0],Re=he||kt(ee),$e=function($t){var Ht=D.apply(z,Xo([$t],ie));return T&&Ze?Ht[0]:Ht};Re&&y&&typeof Ie=="function"&&Ie.length!=1&&(he=Re=!1);var Ze=this.__chain__,at=!!this.__actions__.length,vt=W&&!Ze,Nt=he&&!at;if(!W&&Re){ee=Nt?ee:new Mt(this);var mt=u.apply(ee,ie);return mt.__actions__.push({func:pv,args:[$e],thisArg:n}),new Cr(mt,Ze)}return vt&&Nt?u.apply(this,ie):(mt=this.thru($e),vt?T?mt.value()[0]:mt.value():mt)})}),ri(["pop","push","shift","sort","splice","unshift"],function(u){var h=Ws[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);z.prototype[u]=function(){var D=arguments;if(T&&!this.__chain__){var W=this.value();return h.apply(kt(W)?W:[],D)}return this[y](function(ee){return h.apply(kt(ee)?ee:[],D)})}}),Vr(Mt.prototype,function(u,h){var y=z[h];if(y){var T=y.name+"";bt.call(Ys,T)||(Ys[T]=[]),Ys[T].push({name:h,func:y})}}),Ys[Su(n,L).name]=[{name:"wrapper",func:n}],Mt.prototype.clone=Z0,Mt.prototype.reverse=J0,Mt.prototype.value=Rd,z.prototype.at=vR,z.prototype.chain=mR,z.prototype.commit=yR,z.prototype.next=wR,z.prototype.plant=bR,z.prototype.reverse=ER,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=SR,z.prototype.first=z.prototype.head,ta&&(z.prototype[ta]=xR),z},Qo=Tg();Er?((Er.exports=Qo)._=Qo,tu._=Qo):cn._=Qo}).call(Pn)})(wy,wy.exports);var TS=wy.exports;const fee=/\r?\n/;function J2(e){return e.replace(/\\/g,"\\\\").replace(/([[\]{}])/g,"\\$1")}function Sm(e){return e.replace(/^::/gm,"\\::")}function dee(e){const t=J2(e.name).replace(/^\s+/g,a=>"\\ ".repeat(a.length)).replace(/\s+$/g,a=>"\\ ".repeat(a.length)),n=e.tags.length>0?"[".concat(e.tags.map(J2).join(" "),"]"):void 0,r=JSON.stringify({position:"".concat(e.left,",").concat(e.top),size:"".concat(e.width,",").concat(e.height)}).replace(/\s+/g,""),i=Sm(e.text);return":: ".concat(t).concat(n?" "+n:""," ").concat(r,"\n").concat(i,"\n")}function hee(e){const[t,...n]=e.split(fee),r=/^::\s*(.*?(?:\\\s)?)\s*(\[.*?\])?\s*(\{.*?\})?\s*$/.exec(t);if(!r)throw new Error("Header line couldn't be parsed: ".concat(t));const[,i,a,l]=r;if(i.trim()==="")throw new Error("Passage name couldn't be found in header line: ".concat(t));const c={...Wl(),id:mn(),name:e_(i.replace(/^(\\\s)+/g,p=>" ".repeat(p.length/2)).replace(/(\\\s)+$/g,p=>" ".repeat(p.length/2))),tags:[],text:n.map(vee).join("\n").trim()};if(a&&(c.tags=a.replace(/^\[(.*)\]$/g,"$1").split(/\s/).filter(p=>p.trim()!=="").map(p=>e_(p))),l)try{const p=JSON.parse(l);if(typeof p.position=="string"){const[v,m]=p.position.split(",").map(parseFloat);typeof v=="number"&&typeof m=="number"?(c.left=v,c.top=m):console.warn("Couldn't parse passage position metadata ".concat(p.position))}if(typeof p.size=="string"){const[v,m]=p.size.split(",").map(parseFloat);typeof v=="number"&&typeof m=="number"?(c.width=v,c.height=m):console.warn("Couldn't parse passage size metadata ".concat(p.size))}}catch{console.warn("Couldn't parse passage metadata ".concat(l))}return c}function pee(e){const t=mn(),n={...id(),id:t,ifid:mn(),lastUpdate:new Date,passages:e.split(/^::/m).filter(a=>a.trim()!=="").map(a=>":: "+a).map(hee).map(a=>({...a,story:t})),script:""};n.passages=n.passages.filter(a=>{const l=a.tags.includes("script"),c=a.tags.includes("stylesheet");return!l&&!c||l&&c?!0:(l?n.script+=a.text+"\n":c&&(n.stylesheet+=a.text+"\n"),!1)}),n.script=n.script.trim(),n.stylesheet=n.stylesheet.trim();const r=n.passages.findIndex(a=>a.name==="StoryTitle");r!==-1&&(n.name=n.passages[r].text.trim(),n.passages.splice(r,1));const i=n.passages.findIndex(a=>a.name==="StoryData");if(i!==-1){const a=n.passages[i];n.passages.splice(i,1);try{const{ifid:l,format:c,"format-version":p,start:v,"tag-colors":m,zoom:x}=JSON.parse(a.text);if(typeof l=="string"&&(n.ifid=l),typeof c=="string"&&(n.storyFormat=c),typeof p=="string"&&(n.storyFormatVersion=p),typeof v=="string"){const S=n.passages.find(C=>C.name===v);S?n.startPassage=S.id:console.warn("Couldn't find start passage with name \"".concat(v,'"'))}if(typeof m=="object")for(const S in m)typeof m[S]=="string"?n.tagColors[S]=m[S]:console.warn('Tag "'.concat(S,'" has non-string color'));typeof x=="number"&&(n.zoom=x)}catch{console.warn("Couldn't parse story data: ".concat(a.text))}}else console.warn("No StoryData passage is present in Twee");return n.passages.every(({left:a,top:l})=>a===0&&l===0)&&(n.passages=n.passages.map((a,l)=>({...a,left:25+125*(l%10),top:25+125*Math.floor(l/10)}))),n}function gee(e){const t=":: StoryTitle\n".concat(Sm(e.name)),n=e.passages.find(l=>l.id===e.startPassage),r=":: StoryData\n".concat(JSON.stringify({ifid:e.ifid,format:e.storyFormat,"format-version":e.storyFormatVersion,start:n==null?void 0:n.name,"tag-colors":Object.keys(e.tagColors).length>0?e.tagColors:void 0,zoom:e.zoom},null,2));let i="".concat(t,"\n\n\n").concat(r,"\n\n\n").concat(TS.sortBy(e.passages,["name"]).map(dee).join("\n\n"));const a=e.passages.map(({name:l})=>l);if(e.script.trim()!==""){const l=dp("StoryScript",a);i+="\n\n:: ".concat(l," [script]\n").concat(Sm(e.script))}if(e.stylesheet.trim()!==""){const l=dp("StoryStylesheet",a);i+="\n\n:: ".concat(l," [stylesheet]\n").concat(Sm(e.stylesheet))}return i}function e_(e){return e.replace(/\\([[\]{}])/g,"$1").replace(/\\\\/g,"\\")}function vee(e){return e.replace(/^\\:/gm,":")}const mee=e=>{const{onChange:t}=e,{t:n}=qe();function r(i,a){/\.html$/.test(i.name)?t(i,wA(a)):t(i,[pee(a)])}return b.jsx("div",{className:"file-chooser",children:b.jsx("p",{children:b.jsx(cee,{accept:".html,.twee,.tw",onChange:r,orientation:"vertical",children:n("dialogs.storyImport.filePrompt")})})})};const yee=e=>{const{existingStories:t,onImport:n,stories:r}=e,[i,a]=O.useState([]),{t:l}=qe(),c=O.useCallback(v=>t.some(m=>hi(m)===hi(v)),[t]);O.useEffect(()=>{a(r.filter(v=>!c(v)))},[r,c]);function p(v,m){a(m?x=>[...x,v]:x=>x.filter(S=>S.id!==v.id))}return b.jsxs("div",{className:"story-chooser",children:[b.jsx("p",{children:l("dialogs.storyImport.storiesPrompt")}),b.jsx("ul",{children:r.map(v=>b.jsxs("li",{children:[b.jsx(Pa,{label:v.name,onChange:m=>p(v,m),value:i.includes(v)}),i.includes(v)&&c(v)&&b.jsx("span",{className:"replace-warning",children:l("dialogs.storyImport.willReplaceExisting")})]},v.id))}),b.jsx("div",{className:"actions",children:b.jsx(tt,{disabled:i.length===0,icon:b.jsx(WL,{}),label:l("dialogs.storyImport.importSelected"),onClick:()=>n(i),variant:"primary"})})]})};const wee=e=>{const{onClose:t}=e,{t:n}=qe(),r=jN(),{dispatch:i,stories:a}=dn(),[l,c]=O.useState(),[p,v]=O.useState([]);function m(S){i(G5(S,a)),r(),t()}function x(S,C){C.length===0||C.some(I=>a.some($=>hi($)===hi(I)))?(c(S),v(C)):m(C)}return b.jsx(Uo,{...e,className:"story-import-dialog",fixedSize:!0,headerLabel:n("dialogs.storyImport.title"),children:b.jsxs(_r,{children:[b.jsx(mee,{onChange:x}),l&&p.length>0&&b.jsx(yee,{existingStories:a,onImport:m,stories:p}),l&&p.length===0&&b.jsx("p",{children:n("dialogs.storyImport.noStoriesInFile")})]})})};const xee=e=>{const{storyId:t,...n}=e,[r,i]=O.useState(),{dispatch:a,stories:l}=dn(),{prefs:c}=Yt(),p=on(l,t),{t:v}=qe(),m=(x,S,C)=>{i(x),a(Zr(l,p,{script:C}))};return b.jsxs(Uo,{...n,className:"story-javascript-dialog",headerLabel:v("dialogs.storyJavaScript.title"),maximizable:!0,children:[b.jsxs(An,{children:[b.jsx(gS,{editor:r,watch:p.script}),b.jsx(mN,{editor:r})]}),b.jsx(fS,{children:b.jsx(_p,{editorDidMount:i,fontFamily:c.codeEditorFontFamily,fontScale:c.codeEditorFontScale,label:v("dialogs.storyJavaScript.editorLabel"),labelHidden:!0,onBeforeChange:m,options:{...pS(c),autofocus:!0,lineWrapping:!0,mode:"javascript",placeholder:v("dialogs.storyJavaScript.explanation")},value:p.script})})]})},bee=e=>{const{formats:t,selectedFormat:n,...r}=e,{t:i}=qe(),a=t.filter(p=>p.loadState==="loading"),c=yA(t.filter(p=>p.loadState==="loaded"||p.id===n.id)).map(p=>({disabled:!1,label:"".concat(p.name," ").concat(p.version),value:p.id}));return a.length!==0&&c.push({disabled:!0,label:i("components.storyFormatSelect.loadingCount",{loadingCount:a.length}),value:""}),b.jsx(Ps,{...r,options:c,value:n.id})};const Eee=({children:e,domId:t,percent:n})=>b.jsxs("div",{className:"meter",id:t,role:"meter","aria-labelledby":"".concat(t,"-label"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n*100,children:[b.jsx("div",{className:"meter-bar",children:b.jsx("span",{className:"filled",style:{width:n*100+"%"}})}),b.jsx("div",{className:"meter-label",id:"".concat(t,"-label"),children:e})]}),$N=({block:e,children:t})=>{const[n,r]=O.useState([]),{dispatch:i,formats:a}=Wi();O.useEffect(()=>{const p=a.filter(v=>!n.find(m=>m.name===v.name&&m.version===v.version));p.length>0&&(i(IG(p)),r([...n,...p]))},[i,a,n]);const l=a.find(p=>p.loadState==="loading"),c=a.filter(p=>p.loadState==="loaded").length/a.length;return e&&c<1?b.jsx(Eee,{domId:"story-format-loader",percent:c,children:l&&b.jsxs(b.Fragment,{children:["Loading ",l.name," ",l.version]})}):b.jsx(b.Fragment,{children:t})};const See=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"long"}),Cee=e=>{const{story:t}=e,n=H5(t),{t:r}=qe();return b.jsxs("div",{className:"story-stats",children:[b.jsx("table",{className:"counts",children:b.jsxs("tbody",{children:[b.jsxs("tr",{children:[b.jsx("td",{children:n.characters}),b.jsx("td",{children:r("dialogs.storyDetails.stats.characters")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.words}),b.jsx("td",{children:r("dialogs.storyDetails.stats.words")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.passages}),b.jsx("td",{children:r("dialogs.storyDetails.stats.passages")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.links.length}),b.jsx("td",{children:r("dialogs.storyDetails.stats.links")})]}),b.jsxs("tr",{children:[b.jsx("td",{children:n.brokenLinks.length}),b.jsx("td",{children:r("dialogs.storyDetails.stats.brokenLinks")})]})]})}),b.jsxs("div",{className:"update-and-ifid",children:[b.jsx("p",{children:r("dialogs.storyDetails.stats.lastUpdate",{date:See.format(t.lastUpdate)})}),b.jsxs("p",{children:[r("dialogs.storyDetails.stats.ifid",{ifid:t.ifid})," ",b.jsx("a",{href:"https://ifdb.org/help-ifid",target:"_blank",rel:"noreferrer",children:r("dialogs.storyDetails.stats.ifidExplanation")})]})]})]})},Tee=e=>{const{storyId:t,...n}=e,{dispatch:r,stories:i}=dn(),{formats:a}=Wi(),l=on(i,t),{t:c}=qe();function p(v){const m=DG(a,v.target.value);r(Zr(i,l,{storyFormat:m.name,storyFormatVersion:m.version}))}return b.jsxs(Uo,{...n,className:"story-details-dialog",fixedSize:!0,headerLabel:l.name,children:[b.jsxs("div",{className:"story-format",children:[b.jsx($N,{block:!1}),b.jsx(bee,{formats:a,onChange:p,selectedFormat:ho(a,l.storyFormat,l.storyFormatVersion),children:c("common.storyFormat")}),b.jsx("a",{href:"https://twinery.org/2storyformats",target:"_blank",rel:"noreferrer",children:c("dialogs.storyDetails.storyFormatExplanation")})]}),b.jsx(An,{children:b.jsx(Pa,{label:c("dialogs.storyDetails.snapToGrid"),onChange:v=>r(Zr(i,l,{snapToGrid:v})),value:l.snapToGrid})}),b.jsx(_r,{children:!n.collapsed&&b.jsx(Cee,{story:l})})]})};const t_={Tab:!1,"Shift-Tab":!1},kee=e=>{var U,X,V;const{find:t,flags:n,replace:r,storyId:i,onClose:a,onChangeProps:l,...c}=e,p=O.useRef(!1),{dispatch:v,stories:m}=Gi(),{t:x}=qe(),S=on(m,i),C=O.useMemo(()=>z5(S.passages,t,n).map(({id:re})=>re),[t,n,S.passages]),I=O.useMemo(()=>TS.debounce(v,250,{leading:!1,trailing:!0}),[v]);O.useEffect(()=>{p.current||I(yk(S,C))},[I,C,S]);function $(re){var fe,ve,xe;l({storyId:i,find:(fe=re.find)!=null?fe:t,flags:(ve=re.flags)!=null?ve:n,replace:(xe=re.replace)!=null?xe:r})}function N(){p.current=!0,v(yk(S,[])),a()}function L(re,fe,ve){$({replace:ve})}function M(re,fe,ve){$({find:ve})}function B(){v(K5(S,t,r,n),"undoChange.replaceAllText")}function j(re){$({flags:{...n,[re]:!n[re]}})}return b.jsxs(Uo,{...c,className:"story-search-dialog",fixedSize:!0,headerLabel:x("dialogs.storySearch.title"),onClose:N,children:[b.jsxs("div",{className:"search-fields",children:[b.jsx(_p,{label:x("dialogs.storySearch.find"),onBeforeChange:M,options:{extraKeys:t_,mode:"text"},value:t}),b.jsx(_p,{label:x("dialogs.storySearch.replaceWith"),onBeforeChange:L,options:{extraKeys:t_,mode:"text"},value:r})]}),b.jsxs("div",{className:"search-flags",children:[b.jsx(Pa,{label:x("dialogs.storySearch.includePassageNames"),onChange:()=>j("includePassageNames"),value:(U=n.includePassageNames)!=null?U:!1}),b.jsx(Pa,{label:x("dialogs.storySearch.matchCase"),onChange:()=>j("matchCase"),value:(X=n.matchCase)!=null?X:!1}),b.jsx(Pa,{label:x("dialogs.storySearch.useRegexes"),onChange:()=>j("useRegexes"),value:(V=n.useRegexes)!=null?V:!1})]}),b.jsxs("div",{className:"search-results",children:[b.jsx(tt,{disabled:C.length===0,icon:b.jsx(l4,{}),label:x("dialogs.storySearch.replaceAll"),onClick:B,variant:"danger"}),b.jsx("span",{children:t&&(C.length>0?x("dialogs.storySearch.matchCount",{count:C.length}):x("dialogs.storySearch.noMatches"))})]})]})};const _ee=e=>{const{storyId:t,...n}=e,[r,i]=O.useState(),{dispatch:a,stories:l}=dn(),{prefs:c}=Yt(),p=on(l,t),{t:v}=qe(),m=(x,S,C)=>{i(x),a(Zr(l,p,{stylesheet:C}))};return b.jsxs(Uo,{...n,className:"story-stylesheet-dialog",headerLabel:v("dialogs.storyStylesheet.title"),maximizable:!0,children:[b.jsxs(An,{children:[b.jsx(gS,{editor:r,watch:p.script}),b.jsx(mN,{editor:r})]}),b.jsx(fS,{children:b.jsx(_p,{editorDidMount:i,fontFamily:c.codeEditorFontFamily,fontScale:c.codeEditorFontScale,label:v("dialogs.storyStylesheet.editorLabel"),labelHidden:!0,onBeforeChange:m,options:{...pS(c),autofocus:!0,lineWrapping:!0,mode:"css",placeholder:v("dialogs.storyStylesheet.explanation")},value:p.stylesheet})})]})},Oee=e=>{const{dispatch:t,stories:n}=Gi(),{dispatch:r,prefs:i}=Yt(),{t:a}=qe(),l=LE(n);function c(v,m){r(pr("storyTagColors",{...i.storyTagColors,[v]:m}))}function p(v,m){t(V5(n,v,m))}return b.jsx(Uo,{className:"story-tags-dialog",fixedSize:!0,headerLabel:a("dialogs.storyTags.title"),...e,children:b.jsx(_r,{children:l.length>0?l.map(v=>b.jsx(FN,{allTags:l,color:i.storyTagColors[v],name:v,onChangeColor:m=>c(v,m),onChangeName:m=>p(v,m)},v)):b.jsx("p",{children:a("dialogs.storyTags.noTags")})})})};function kS(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var m0=kS("Tab"),_S=kS("TabList"),y0=kS("TabPanel");function sb(){return sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(this,arguments)}function Lee(e){return m0(e)||_S(e)||y0(e)}function lb(e,t){return O.Children.map(e,function(n){return n===null?null:Lee(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"?O.cloneElement(n,sb({},n.props,{children:lb(n.props.children,t)})):n})}function OS(e,t){return O.Children.forEach(e,function(n){n!==null&&(m0(n)||y0(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(_S(n)&&t(n),OS(n.props.children,t)))})}function DN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=DN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function w0(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=DN(t))&&(r&&(r+=" "),r+=n);return r}var Pee=0;function n_(){return"react-tabs-"+Pee++}function BN(e){var t=0;return OS(e,function(n){m0(n)&&t++}),t}function Aee(e){var t=0;return OS(e,function(n){y0(n)&&t++}),t}var Nee=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"];function ub(){return ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function Iee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ree(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cb(e,t)}function zN(e){return e&&"getAttribute"in e}function r_(e){return zN(e)&&e.getAttribute("data-rttab")}function Pu(e){return zN(e)&&e.getAttribute("aria-disabled")==="true"}var xy;function Mee(e){var t=e||(typeof window<"u"?window:void 0);try{xy=!!(typeof t<"u"&&t.document&&t.document.activeElement)}catch{xy=!1}}var LS=function(e){Ree(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,r.tabNodes=[],r.handleKeyDown=function(c){var p=r.props,v=p.direction,m=p.disableUpDownKeys;if(r.isTabFromContainer(c.target)){var x=r.props.selectedIndex,S=!1,C=!1;(c.keyCode===32||c.keyCode===13)&&(S=!0,C=!1,r.handleClick(c)),c.keyCode===37||!m&&c.keyCode===38?(v==="rtl"?x=r.getNextTab(x):x=r.getPrevTab(x),S=!0,C=!0):c.keyCode===39||!m&&c.keyCode===40?(v==="rtl"?x=r.getPrevTab(x):x=r.getNextTab(x),S=!0,C=!0):c.keyCode===35?(x=r.getLastTab(),S=!0,C=!0):c.keyCode===36&&(x=r.getFirstTab(),S=!0,C=!0),S&&c.preventDefault(),C&&r.setSelected(x,c)}},r.handleClick=function(c){var p=c.target;do if(r.isTabFromContainer(p)){if(Pu(p))return;var v=[].slice.call(p.parentNode.children).filter(r_).indexOf(p);r.setSelected(v,c);return}while((p=p.parentNode)!=null)},r}var n=t.prototype;return n.setSelected=function(i,a){if(!(i<0||i>=this.getTabsCount())){var l=this.props,c=l.onSelect,p=l.selectedIndex;c(i,p,a)}},n.getNextTab=function(i){for(var a=this.getTabsCount(),l=i+1;l<a;l++)if(!Pu(this.getTab(l)))return l;for(var c=0;c<i;c++)if(!Pu(this.getTab(c)))return c;return i},n.getPrevTab=function(i){for(var a=i;a--;)if(!Pu(this.getTab(a)))return a;for(a=this.getTabsCount();a-- >i;)if(!Pu(this.getTab(a)))return a;return i},n.getFirstTab=function(){for(var i=this.getTabsCount(),a=0;a<i;a++)if(!Pu(this.getTab(a)))return a;return null},n.getLastTab=function(){for(var i=this.getTabsCount();i--;)if(!Pu(this.getTab(i)))return i;return null},n.getTabsCount=function(){var i=this.props.children;return BN(i)},n.getPanelsCount=function(){var i=this.props.children;return Aee(i)},n.getTab=function(i){return this.tabNodes["tabs-"+i]},n.getChildren=function(){var i=this,a=0,l=this.props,c=l.children,p=l.disabledTabClassName,v=l.focus,m=l.forceRenderTabPanel,x=l.selectedIndex,S=l.selectedTabClassName,C=l.selectedTabPanelClassName,I=l.environment;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var $=this.tabIds.length-this.getTabsCount();$++<0;)this.tabIds.push(n_()),this.panelIds.push(n_());return lb(c,function(N){var L=N;if(_S(N)){var M=0,B=!1;xy==null&&Mee(I),xy&&(B=ft.Children.toArray(N.props.children).filter(m0).some(function(U,X){var V=I||(typeof window<"u"?window:void 0);return V&&V.document.activeElement===i.getTab(X)})),L=O.cloneElement(N,{children:lb(N.props.children,function(U){var X="tabs-"+M,V=x===M,re={tabRef:function(ve){i.tabNodes[X]=ve},id:i.tabIds[M],panelId:i.panelIds[M],selected:V,focus:V&&(v||B)};return S&&(re.selectedClassName=S),p&&(re.disabledClassName=p),M++,O.cloneElement(U,re)})})}else if(y0(N)){var j={id:i.panelIds[a],tabId:i.tabIds[a],selected:x===a};m&&(j.forceRender=m),C&&(j.selectedClassName=C),a++,L=O.cloneElement(N,j)}return L})},n.isTabFromContainer=function(i){if(!r_(i))return!1;var a=i.parentElement;do{if(a===this.node)return!0;if(a.getAttribute("data-rttabs"))break;a=a.parentElement}while(a);return!1},n.render=function(){var i=this,a=this.props;a.children;var l=a.className;a.disabledTabClassName;var c=a.domRef;a.focus,a.forceRenderTabPanel,a.onSelect,a.selectedIndex,a.selectedTabClassName,a.selectedTabPanelClassName,a.environment,a.disableUpDownKeys;var p=Iee(a,Nee);return ft.createElement("div",ub({},p,{className:w0(l),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(m){i.node=m,c&&c(m)},"data-rttabs":!0}),this.getChildren())},t}(O.Component);LS.defaultProps={className:"react-tabs",focus:!1};LS.propTypes={};var Fee=["children","defaultIndex","defaultFocus"];function jee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $ee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fb(e,t)}var Dee=0,C1=1,x0=function(e){$ee(t,e);function t(r){var i;return i=e.call(this,r)||this,i.handleSelected=function(a,l,c){var p=i.props.onSelect,v=i.state.mode;if(!(typeof p=="function"&&p(a,l,c)===!1)){var m={focus:c.type==="keydown"};v===C1&&(m.selectedIndex=a),i.setState(m)}},i.state=t.copyPropsToState(i.props,{},r.defaultFocus),i}t.getDerivedStateFromProps=function(i,a){return t.copyPropsToState(i,a)},t.getModeFromProps=function(i){return i.selectedIndex===null?C1:Dee},t.copyPropsToState=function(i,a,l){l===void 0&&(l=!1);var c={focus:l,mode:t.getModeFromProps(i)};if(c.mode===C1){var p=Math.max(0,BN(i.children)-1),v=null;a.selectedIndex!=null?v=Math.min(a.selectedIndex,p):v=i.defaultIndex||0,c.selectedIndex=v}return c};var n=t.prototype;return n.render=function(){var i=this.props,a=i.children;i.defaultIndex,i.defaultFocus;var l=jee(i,Fee),c=this.state,p=c.focus,v=c.selectedIndex;return l.focus=p,l.onSelect=this.handleSelected,v!=null&&(l.selectedIndex=v),ft.createElement(LS,l,a)},t}(O.Component);x0.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1};x0.propTypes={};x0.tabsRole="Tabs";var Bee=["children","className"];function db(){return db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function zee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Hee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hb(e,t)}function hb(e,t){return hb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hb(e,t)}var b0=function(e){Hee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this.props,a=i.children,l=i.className,c=zee(i,Bee);return ft.createElement("ul",db({},c,{className:w0(l),role:"tablist"}),a)},t}(O.Component);b0.defaultProps={className:"react-tabs__tab-list"};b0.propTypes={};b0.tabsRole="TabList";var Uee=["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"];function pb(){return pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}function Wee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Kee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},gb(e,t)}var T1="react-tabs__tab",E0=function(e){Kee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){var i=this.props,a=i.selected,l=i.focus;a&&l&&this.node.focus()},n.render=function(){var i,a=this,l=this.props,c=l.children,p=l.className,v=l.disabled,m=l.disabledClassName;l.focus;var x=l.id,S=l.panelId,C=l.selected,I=l.selectedClassName,$=l.tabIndex,N=l.tabRef,L=Wee(l,Uee);return ft.createElement("li",pb({},L,{className:w0(p,(i={},i[I]=C,i[m]=v,i)),ref:function(B){a.node=B,N&&N(B)},role:"tab",id:x,"aria-selected":C?"true":"false","aria-disabled":v?"true":"false","aria-controls":S,tabIndex:$||(C?"0":null),"data-rttab":!0}),c)},t}(O.Component);E0.defaultProps={className:T1,disabledClassName:T1+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:T1+"--selected"};E0.propTypes={};E0.tabsRole="Tab";var Gee=["children","className","forceRender","id","selected","selectedClassName","tabId"];function vb(){return vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}function qee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Xee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},mb(e,t)}var i_="react-tabs__tab-panel",S0=function(e){Xee(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i,a=this.props,l=a.children,c=a.className,p=a.forceRender,v=a.id,m=a.selected,x=a.selectedClassName,S=a.tabId,C=qee(a,Gee);return ft.createElement("div",vb({},C,{className:w0(c,(i={},i[x]=m,i)),role:"tabpanel",id:v,"aria-labelledby":S}),p||m?l:null)},t}(O.Component);S0.defaultProps={className:i_,forceRender:!1,selectedClassName:i_+"--selected"};S0.propTypes={};S0.tabsRole="TabPanel";const Vee=()=>{const e=dd(),{t}=qe();return["/","/stories"].includes(e.location.pathname)?null:b.jsx(tt,{icon:b.jsx(QD,{}),variant:"primary",label:e.length>1?t("common.back"):t("routes.storyList.titleGeneric"),onClick:()=>e.length>1?e.goBack():e.push("/")})};const PS=e=>{const{helpUrl:t="https://twinery.org/2guide",pinnedControls:n,tabs:r}=e,{t:i}=qe();return b.jsx("div",{className:"route-toolbar",children:b.jsxs(x0,{selectedTabClassName:"selected",children:[b.jsxs("div",{className:"route-toolbar-top",children:[b.jsx(Vee,{}),b.jsx(b0,{className:"route-toolbar-tablist",children:Object.keys(r).map(a=>b.jsx(E0,{className:"route-toolbar-tab",children:a},a))}),b.jsxs("div",{className:"route-toolbar-pinned-controls",children:[n,b.jsx(tt,{icon:b.jsx(GL,{}),label:i("common.help"),onClick:()=>window.open(t,"_blank")})]})]}),b.jsx("div",{children:Object.entries(r).map(([a,l])=>b.jsx(S0,{children:l},a))})]})})};var HN={exports:{}};(function(e,t){(function(n,r){r()})(Pn,function(){function n(v,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v}function r(v,m,x){var S=new XMLHttpRequest;S.open("GET",v),S.responseType="blob",S.onload=function(){p(S.response,m,x)},S.onerror=function(){console.error("could not download file")},S.send()}function i(v){var m=new XMLHttpRequest;m.open("HEAD",v,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function a(v){try{v.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),v.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pn=="object"&&Pn.global===Pn?Pn:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(v,m,x){var S=l.URL||l.webkitURL,C=document.createElement("a");m=m||v.name||"download",C.download=m,C.rel="noopener",typeof v=="string"?(C.href=v,C.origin===location.origin?a(C):i(C.href)?r(v,m,x):a(C,C.target="_blank")):(C.href=S.createObjectURL(v),setTimeout(function(){S.revokeObjectURL(C.href)},4e4),setTimeout(function(){a(C)},0))}:"msSaveOrOpenBlob"in navigator?function(v,m,x){if(m=m||v.name||"download",typeof v!="string")navigator.msSaveOrOpenBlob(n(v,x),m);else if(i(v))r(v,m,x);else{var S=document.createElement("a");S.href=v,S.target="_blank",setTimeout(function(){a(S)})}}:function(v,m,x,S){if(S=S||open("","_blank"),S&&(S.document.title=S.document.body.innerText="downloading..."),typeof v=="string")return r(v,m,x);var C=v.type==="application/octet-stream",I=/constructor/i.test(l.HTMLElement)||l.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||C&&I||c)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var B=N.result;B=$?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=B:location=B,S=null},N.readAsDataURL(v)}else{var L=l.URL||l.webkitURL,M=L.createObjectURL(v);S?S.location=M:location.href=M,S=null,setTimeout(function(){L.revokeObjectURL(M)},4e4)}});l.saveAs=p.saveAs=p,e.exports=p})})(HN);var UN=HN.exports;function WN(e,t){const n=new Blob([e],{type:"text/html;charset=utf-8"});UN.saveAs(n,t)}function Yee(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"});UN.saveAs(n,t)}const KN=({story:e})=>{var j,U,X,V;const{publishStory:t}=Jp(),[n,r]=O.useState(),[i,a]=O.useState(),[l,c]=O.useState(),[p,v]=O.useState(),{playStory:m,proofStory:x,testStory:S}=kN(),{t:C}=qe();function I(){r(void 0),a(void 0),c(void 0),v(void 0)}async function $(){if(!e)throw new Error("No story provided to publish");I();try{await m(e.id)}catch(re){r(re)}}async function N(){if(!e)throw new Error("No story provided to publish");I();try{await x(e.id)}catch(re){a(re)}}async function L(){if(!e)throw new Error("No story provided to publish");I();try{WN(await t(e.id),hi(e))}catch(re){c(re)}}async function M(){if(!e)throw new Error("No story provided to publish");I();try{await S(e.id)}catch(re){v(re)}}function B(){if(!e)throw new Error("No story provided to export");Yee(gee(e),hi(e,".twee"))}return b.jsxs(An,{children:[b.jsx(qu,{ariaLabel:(j=p==null?void 0:p.message)!=null?j:"",disabled:!e,icon:b.jsx(YL,{}),label:C("routeActions.build.test"),onChangeOpen:()=>v(void 0),onClick:M,open:!!p,children:b.jsxs(_r,{children:[b.jsx("p",{children:p==null?void 0:p.message}),b.jsx(tt,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>v(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(U=n==null?void 0:n.message)!=null?U:"",disabled:!e,icon:b.jsx(r4,{}),label:C("routeActions.build.play"),onChangeOpen:()=>r(void 0),onClick:$,open:!!n,children:b.jsxs(_r,{children:[b.jsx("p",{children:n==null?void 0:n.message}),b.jsx(tt,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>r(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(X=i==null?void 0:i.message)!=null?X:"",disabled:!e,icon:b.jsx(L3,{}),label:C("routeActions.build.proof"),onChangeOpen:()=>a(void 0),onClick:N,open:!!i,children:b.jsxs(_r,{children:[b.jsx("p",{children:i==null?void 0:i.message}),b.jsx(tt,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>a(void 0),variant:"primary"})]})}),b.jsx(qu,{ariaLabel:(V=l==null?void 0:l.message)!=null?V:"",disabled:!e,icon:b.jsx(R3,{}),label:C("routeActions.build.publishToFile"),onChangeOpen:()=>c(void 0),onClick:L,open:!!l,children:b.jsxs(_r,{children:[b.jsx("p",{children:l==null?void 0:l.message}),b.jsx(tt,{icon:b.jsx(No,{}),label:C("common.close"),onClick:()=>c(void 0),variant:"primary"})]})}),b.jsx(tt,{disabled:!e,icon:b.jsx(Q4,{}),label:C("routeActions.build.exportAsTwee"),onClick:B})]})},AS=()=>{const{dispatch:e}=yi(),t=dd(),{t:n}=qe();return b.jsxs(An,{children:[b.jsx(tt,{icon:b.jsx(v4,{}),label:n("routeActions.app.preferences"),onClick:()=>e({type:"addDialog",component:OY})}),b.jsx(tt,{disabled:t.location.pathname==="/story-formats",icon:b.jsx(A3,{}),label:n("routeActions.app.storyFormats"),onClick:()=>t.push("/story-formats")}),b.jsx(tt,{icon:b.jsx(s3,{}),label:n("routeActions.app.aboutApp"),onClick:()=>e({type:"addDialog",component:TY})}),b.jsx(tt,{icon:b.jsx(f3,{}),label:n("routeActions.app.reportBug"),onClick:()=>window.open("https://twinery.org/2bugs","_blank")})]})};function Qee(e){try{return new URL(e),!0}catch{}return!1}const Zee=()=>{const{dispatch:e,formats:t}=Wi(),[n,r]=O.useState(""),{t:i}=qe();async function a(){e(LG(n,await uy(n)))}const l=async c=>{if(n.trim()==="")return{valid:!1};if(!Qee(n))return{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.invalidUrl"),valid:!1};try{const p=await uy(n);return t.some(v=>v.name===p.name&&v.version===p.version)?{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.alreadyAdded",{storyFormatName:p.name,storyFormatVersion:p.version}),valid:!1}:{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.addPreview",{storyFormatName:p.name,storyFormatVersion:p.version}),valid:!0}}catch(p){return{message:i("routes.storyFormatList.toolbar.addStoryFormatButton.fetchError",{errorMessage:p.message}),valid:!1}}};return b.jsx("span",{className:"add-format-button",children:b.jsx(Zp,{icon:b.jsx(Xf,{}),label:i("common.add"),onChange:c=>r(c.target.value),onSubmit:a,prompt:i("routes.storyFormatList.toolbar.addStoryFormatButton.prompt"),submitIcon:b.jsx(Xf,{}),submitLabel:i("common.add"),submitVariant:"create",validate:l,value:n})})},Jee=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Yt(),{t:i}=qe(),a=(t==null?void 0:t.loadState)!=="loaded"||t.properties.proofing||r.storyFormat.name===t.name&&r.storyFormat.version===t.version,l=()=>{if(!t)throw new Error("Can't set undefined format as default");n({type:"update",name:"storyFormat",value:{name:t.name,version:t.version}})};return b.jsx(tt,{disabled:a,icon:b.jsx(E4,{}),label:i("routes.storyFormatList.toolbar.useAsDefaultFormat"),onClick:l})},ete=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Yt(),{t:i}=qe(),a=(t==null?void 0:t.loadState)!=="loaded"||!t.properties.proofing||r.proofingFormat.name===t.name&&r.proofingFormat.version===t.version,l=()=>{if(!t)throw new Error("Can't set undefined format as proofing");n({type:"update",name:"proofingFormat",value:{name:t.name,version:t.version}})};return b.jsx(tt,{disabled:a,icon:b.jsx(_3,{}),label:i("routes.storyFormatList.toolbar.useAsProofingFormat"),onClick:l})},tte=e=>{const{format:t}=e,{dispatch:n}=Wi(),{prefs:r}=Yt(),{t:i}=qe(),a=(t==null?void 0:t.name)===r.storyFormat.name&&(t==null?void 0:t.version)===r.storyFormat.version,l=(t==null?void 0:t.name)===r.proofingFormat.name&&(t==null?void 0:t.version)===r.proofingFormat.version;return b.jsx(tt,{disabled:!t||!t.userAdded||a||l,icon:b.jsx(Zm,{}),label:i("common.remove"),onClick:()=>t&&n(PG(t))})},nte=e=>{const{format:t}=e,{dispatch:n,prefs:r}=Yt(),{t:i}=qe(),a=r.disabledStoryFormatEditorExtensions.some(c=>c.name===(t==null?void 0:t.name)&&c.version===(t==null?void 0:t.version));function l(){if(!t)throw new Error("Format is not set");n(a?pr("disabledStoryFormatEditorExtensions",r.disabledStoryFormatEditorExtensions.filter(c=>c.name!==t.name||c.version!==t.version)):pr("disabledStoryFormatEditorExtensions",[...r.disabledStoryFormatEditorExtensions,{name:t.name,version:t.version}]))}return b.jsx(tt,{disabled:!t,icon:b.jsx(a4,{}),label:i("routes.storyFormatList.toolbar.".concat(a?"enable":"disable","FormatExtensions")),onClick:l})},rte=e=>{const{selectedFormats:t}=e,n=t.length===1?t[0]:void 0;return b.jsxs(An,{children:[b.jsx(Zee,{}),b.jsx(tte,{format:n}),b.jsx(nte,{format:n}),b.jsx(Jee,{format:n}),b.jsx(ete,{format:n})]})},ite=()=>{const{dispatch:e,prefs:t}=Yt(),{t:n}=qe();function r(i){e(pr("storyFormatListFilter",i))}return b.jsxs(b.Fragment,{children:[b.jsx(Pa,{disabled:t.storyFormatListFilter==="current",label:n("routes.storyFormatList.title.current"),onChange:()=>r("current"),value:t.storyFormatListFilter==="current"}),b.jsx(Pa,{disabled:t.storyFormatListFilter==="user",label:n("routes.storyFormatList.title.user"),onChange:()=>r("user"),value:t.storyFormatListFilter==="user"}),b.jsx(Pa,{disabled:t.storyFormatListFilter==="all",label:n("routes.storyFormatList.title.all"),onChange:()=>r("all"),value:t.storyFormatListFilter==="all"})]})},ote=e=>{const{selectedFormats:t}=e,{t:n}=qe();return b.jsx(PS,{tabs:{[n("common.storyFormat")]:b.jsx(rte,{selectedFormats:t}),[n("common.view")]:b.jsx(ite,{}),[n("common.appName")]:b.jsx(AS,{})}})},ate=()=>{const{dispatch:e,formats:t}=Wi(),{dispatch:n,prefs:r}=Yt(),{t:i}=qe(),a=t.filter(p=>p.selected),l=yA(jG(t,r.storyFormatListFilter));O.useEffect(()=>{for(const p of a)p.selected&&!l.includes(p)&&e(NG(p))},[n,a,l,e]);function c(p){e(RG(p,!0))}return b.jsx("div",{className:"story-format-list-route",children:b.jsxs(CS,{children:[b.jsx(ote,{selectedFormats:a}),b.jsx(qA,{ignoreSelector:".story-format-card",onClickAway:()=>e(AG()),children:b.jsxs(tS,{title:i("routes.storyFormatList.title.".concat(r.storyFormatListFilter)),children:[b.jsx("p",{children:i(l.length>0?"routes.storyFormatList.storyFormatExplanation":"routes.storyFormatList.noneVisible")}),b.jsx($N,{children:b.jsx(XA,{columnWidth:"450px",children:b.jsx(hd,{component:null,children:l.map(p=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(gV,{defaultFormat:p.name===r.storyFormat.name&&p.version===r.storyFormat.version,editorExtensionsDisabled:r.disabledStoryFormatEditorExtensions.some(v=>p.name===v.name&&p.version===v.version),format:p,onSelect:()=>c(p),proofingFormat:p.name===r.proofingFormat.name&&p.version===r.proofingFormat.version})},p.id))})})})]})})]})})};const ste=e=>{const{container:t,ignoreEventsOnSelector:n,onSelectRect:r,onTemporarySelectRect:i}=e,[a,l]=O.useState(!1),[c,p]=O.useState(!1),[v,m]=O.useState(),[x,S]=O.useState();O.useEffect(()=>{const I=t.current;let $;function N(j){return{left:j.clientX-$.left+I.scrollLeft,top:j.clientY-$.top+I.scrollTop}}function L(j){I&&(I.releasePointerCapture(j.pointerId),I.removeEventListener("pointermove",M),I.removeEventListener("pointerup",L),p(!1))}function M(j){S(N(j))}function B(j){j.pointerType==="touch"||j.button!==0||!I||n&&j.target.closest(n)||($=I.getBoundingClientRect(),I.setPointerCapture(j.pointerId),I.addEventListener("pointermove",M),I.addEventListener("pointerup",L),l(!!(j.shiftKey||j.ctrlKey)),p(!0),m(N(j)),S(N(j)))}if(I)return I.addEventListener("pointerdown",B),()=>I.removeEventListener("pointerdown",B)},[t,n]),O.useEffect(()=>{v&&x&&(c?i(Qw(v,x),a):(r(Qw(v,x),a),m(void 0),S(void 0)))},[a,x,c,r,i,v]);const C=O.useMemo(()=>{if(!v||!x)return{};const I=Qw(v,x);return{transform:"translate(".concat(I.left,"px, ").concat(I.top,"px) scale(").concat(I.width/100,", ").concat(I.height/100,")")}},[x,v]);return!v||!x?null:b.jsx("div",{className:"marquee-selection",style:C})};const o_=25*Math.sqrt(2),lte=e=>{const{offset:t,passage:n}=e,r={left:n.left,top:n.top};return n.selected&&(r.left+=t.left,r.top+=t.top),b.jsx("line",{className:"broken-connection",x1:r.left+n.width,y1:r.top+n.height,x2:r.left+n.width+o_,y2:r.top+n.height+o_,style:{markerEnd:"url(#link-broken)"}})};function GN({start:e,end:t,radius:n,largeArc:r,sweep:i,rotation:a}){return"M"+e.left+","+e.top+" A"+n.left+","+n.top+" "+(a!=null?a:"0")+(r?" 1":" 0")+(i?" 1 ":" 0 ")+t.left+","+t.top}const ute=e=>{const{end:t,offset:n,start:r,variant:i}=e,a=O.useMemo(()=>{let l=r,c=t;r.selected&&(l={...r,left:r.left+n.left,top:r.top+n.top}),t.selected&&(c={...t,left:t.left+n.left,top:t.top+n.top});let p=ok(l),v=ok(c);if(p=ak(l,p,v),!p||(v=ak(c,p,v),!v))return"";const m=aU(p,v);let x=p.left<v.left;p.left===v.left&&p.top<v.top&&(x=!0);const S=oU(p,v);return GN({start:p,end:v,radius:{left:m,top:m*.75},rotation:S,sweep:x})},[t,n.left,n.top,r]);return b.jsx("path",{d:a,className:"passage-connection variant-".concat(i),style:{markerEnd:"url(#link-arrowhead)"}})};const cte=e=>{const{offset:t,passage:n,variant:r}=e,i={left:n.left,top:n.top};n.selected&&(i.left+=t.left,i.top+=t.top);const a=O.useMemo(()=>.4*Math.min(n.width,n.height),[n.height,n.width]),l=O.useMemo(()=>GN({start:{left:i.left,top:i.top+n.height/2},end:{left:i.left,top:i.top},radius:{left:a,top:a},sweep:!0,largeArc:!0}),[n.height,a,i.left,i.top]);return b.jsx("path",{className:"self-connection variant-".concat(r),d:l,style:{markerEnd:"url(#link-arrowhead)"}})},jh=O.memo(e=>{const{broken:t,connections:n,offset:r,self:i,variant:a="link"}=e;return b.jsxs(b.Fragment,{children:[Array.from(n).map(l=>Array.from(l[1]).map(c=>b.jsx(ute,{end:c,offset:r,start:l[0],variant:a},l[0].name+c.name))),Array.from(i).map(l=>b.jsx(cte,{offset:r,passage:l,variant:a},l.name)),Array.from(t).map(l=>b.jsx(lte,{offset:r,passage:l},l.name))]})});jh.displayName="PassageConnectionGroup";const fte=()=>b.jsxs("defs",{children:[b.jsx("marker",{id:"link-arrowhead",refX:"6",refY:"4",markerWidth:"8",markerHeight:"8",orient:"auto",children:b.jsx("path",{d:"M 1,1 7,4 1,7 Z"})}),b.jsxs("marker",{id:"link-broken",refX:"7.5",refY:"7.5",markerWidth:"15",markerHeight:"15",children:[b.jsx("circle",{cx:"7.5",cy:"7.5",r:"7.5"}),b.jsx("path",{d:"M4.5 7.5h 6z"})]}),b.jsxs("marker",{id:"link-start",markerWidth:"15",markerHeight:"15",refX:"16",refY:"16",viewBox:"0 0 32 32",children:[b.jsx("circle",{cx:"16",cy:"16",r:"16"}),b.jsx("path",{d:"M8 17a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),b.jsx("path",{d:"M11 18a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),b.jsx("circle",{className:"fill-white",cx:"19",cy:"13",r:"1"})]})]});const qN=O.memo(e=>{const{offset:t,passage:n}=e,r={left:n.left,top:n.top};return n.selected&&(r.left+=t.left,r.top+=t.top),b.jsx("line",{className:"start-connection",x1:r.left-50,y1:r.top+n.height/2,x2:r.left,y2:r.top+n.height/2,style:{markerStart:"url(#link-start)"}})});qN.displayName="StartConnection";const a_=()=>[];function dte(e,t){var v,m;const{prefs:n}=Yt(),{dispatch:r,formats:i}=Wi(),a=ho(i,e,t),[l,c]=O.useState(),p=yE(n,e,t);return O.useEffect(()=>{p||(a.loadState==="unloaded"?r(yp(a)):a.loadState==="loaded"&&c(hS(a,uo().version)))},[r,p,a]),p?a_:(m=(v=l==null?void 0:l.references)==null?void 0:v.parsePassageText)!=null?m:a_}const Zv=new Set,s_={left:0,top:0},hte=e=>{const{formatName:t,formatVersion:n,offset:r,passages:i,startPassageId:a}=e,l=dte(t,n),{draggable:c,fixed:p}=O.useMemo(()=>mk(i),[i]),{draggable:v,fixed:m}=O.useMemo(()=>mk(i,l),[i,l]),x=O.useMemo(()=>i.find(S=>S.id===a),[i,a]);return b.jsxs("svg",{className:"link-connectors",children:[b.jsx(fte,{}),x&&b.jsx(qN,{offset:r,passage:x}),b.jsx(jh,{...c,offset:r}),b.jsx(jh,{...p,offset:s_}),b.jsx(jh,{broken:Zv,connections:v.connections,offset:r,self:Zv,variant:"reference"}),b.jsx(jh,{broken:Zv,connections:m.connections,offset:s_,self:Zv,variant:"reference"})]})};var vo=typeof window<"u"?window:{screen:{},navigator:{}},ed=(vo.matchMedia||function(){return{matches:!1}}).bind(vo),pte={get passive(){return!0}},XN=function(){};vo.addEventListener&&vo.addEventListener("p",XN,pte);vo.removeEventListener&&vo.removeEventListener("p",XN,!1);var NS="ontouchstart"in vo,gte="TouchEvent"in vo,vte=NS||gte&&ed("(any-pointer: coarse)").matches,l_=(vo.navigator.maxTouchPoints||0)>0||vte,VN=vo.navigator.userAgent||"",mte=ed("(pointer: coarse)").matches&&/iPad|Macintosh/.test(VN)&&Math.min(vo.screen.width||0,vo.screen.height||0)>=768,yte=(ed("(pointer: coarse)").matches||!ed("(pointer: fine)").matches&&NS)&&!/Windows.*Firefox/.test(VN),wte=ed("(any-pointer: fine)").matches||ed("(any-hover: hover)").matches||mte||!NS,xte=l_&&(wte||!yte)?"hybrid":l_?"touchOnly":"mouseOnly",IS={exports:{}},YN={},Nn={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.findInArray=bte;Da.isFunction=Ete;Da.isNum=Ste;Da.int=Cte;Da.dontSetMe=Tte;function bte(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Ete(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ste(e){return typeof e=="number"&&!isNaN(e)}function Cte(e){return parseInt(e,10)}function Tte(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.getPrefix=QN;pc.browserPrefixToKey=ZN;pc.browserPrefixToStyle=kte;pc.default=void 0;var k1=["Moz","Webkit","O","ms"];function QN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<k1.length;n++)if(ZN(e,k1[n])in t)return k1[n];return""}function ZN(e,t){return t?"".concat(t).concat(_te(e)):e}function kte(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function _te(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var Ote=QN();pc.default=Ote;function Cm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cm=function(n){return typeof n}:Cm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cm(e)}Object.defineProperty(Nn,"__esModule",{value:!0});Nn.matchesSelector=nI;Nn.matchesSelectorAndParentsTo=Pte;Nn.addEvent=Ate;Nn.removeEvent=Nte;Nn.outerHeight=Ite;Nn.outerWidth=Rte;Nn.innerHeight=Mte;Nn.innerWidth=Fte;Nn.offsetXYFromParent=jte;Nn.createCSSTransform=$te;Nn.createSVGTransform=Dte;Nn.getTranslation=RS;Nn.getTouch=Bte;Nn.getTouchIdentifier=zte;Nn.addUserSelectStyles=Hte;Nn.removeUserSelectStyles=Ute;Nn.addClassName=rI;Nn.removeClassName=iI;var zi=Da,u_=Lte(pc);function JN(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return JN=function(){return e},e}function Lte(e){if(e&&e.__esModule)return e;if(e===null||Cm(e)!=="object"&&typeof e!="function")return{default:e};var t=JN();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(r){tI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jv="";function nI(e,t){return Jv||(Jv=(0,zi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,zi.isFunction)(e[n])})),(0,zi.isFunction)(e[Jv])?e[Jv](t):!1}function Pte(e,t,n){var r=e;do{if(nI(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Ate(e,t,n,r){if(e){var i=eI({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function Nte(e,t,n,r){if(e){var i=eI({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function Ite(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zi.int)(n.borderTopWidth),t+=(0,zi.int)(n.borderBottomWidth),t}function Rte(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,zi.int)(n.borderLeftWidth),t+=(0,zi.int)(n.borderRightWidth),t}function Mte(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zi.int)(n.paddingTop),t-=(0,zi.int)(n.paddingBottom),t}function Fte(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,zi.int)(n.paddingLeft),t-=(0,zi.int)(n.paddingRight),t}function jte(e,t,n){var r=t===t.ownerDocument.body,i=r?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-i.left)/n,l=(e.clientY+t.scrollTop-i.top)/n;return{x:a,y:l}}function $te(e,t){var n=RS(e,t,"px");return tI({},(0,u_.browserPrefixToKey)("transform",u_.default),n)}function Dte(e,t){var n=RS(e,t,"");return n}function RS(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var l="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(l,", ").concat(c,")")+a}return a}function Bte(e,t){return e.targetTouches&&(0,zi.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,zi.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function zte(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Hte(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&rI(e.body,"react-draggable-transparent-selection")}}function Ute(e){if(e)try{if(e.body&&iI(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function rI(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function iI(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.getBoundPosition=Wte;Ba.snapToGrid=Kte;Ba.canDragX=Gte;Ba.canDragY=qte;Ba.getControlPosition=Xte;Ba.createCoreData=Vte;Ba.createDraggableData=Yte;var Ri=Da,Nf=Nn;function Wte(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:Qte(r);var i=MS(e);if(typeof r=="string"){var a=i.ownerDocument,l=a.defaultView,c;if(r==="parent"?c=i.parentNode:c=a.querySelector(r),!(c instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var p=l.getComputedStyle(i),v=l.getComputedStyle(c);r={left:-i.offsetLeft+(0,Ri.int)(v.paddingLeft)+(0,Ri.int)(p.marginLeft),top:-i.offsetTop+(0,Ri.int)(v.paddingTop)+(0,Ri.int)(p.marginTop),right:(0,Nf.innerWidth)(c)-(0,Nf.outerWidth)(i)-i.offsetLeft+(0,Ri.int)(v.paddingRight)-(0,Ri.int)(p.marginRight),bottom:(0,Nf.innerHeight)(c)-(0,Nf.outerHeight)(i)-i.offsetTop+(0,Ri.int)(v.paddingBottom)-(0,Ri.int)(p.marginBottom)}}return(0,Ri.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ri.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ri.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ri.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Kte(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function Gte(e){return e.props.axis==="both"||e.props.axis==="x"}function qte(e){return e.props.axis==="both"||e.props.axis==="y"}function Xte(e,t,n){var r=typeof t=="number"?(0,Nf.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var i=MS(n),a=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Nf.offsetXYFromParent)(r||e,a,n.props.scale)}function Vte(e,t,n){var r=e.state,i=!(0,Ri.isNum)(r.lastX),a=MS(e);return i?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function Yte(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Qte(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function MS(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var C0={},T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.default=Zte;function Zte(){}Object.defineProperty(C0,"__esModule",{value:!0});C0.default=void 0;var _1=ene(O),Ii=FS(t0),Jte=FS(Bp),Mr=Nn,Au=Ba,O1=Da,Ph=FS(T0);function FS(e){return e&&e.__esModule?e:{default:e}}function oI(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return oI=function(){return e},e}function ene(e){if(e&&e.__esModule)return e;if(e===null||Zh(e)!=="object"&&typeof e!="function")return{default:e};var t=oI();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function Zh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(n){return typeof n}:Zh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zh(e)}function tne(e,t){return one(e)||ine(e,t)||rne(e,t)||nne()}function nne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rne(e,t){if(e){if(typeof e=="string")return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ine(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=e[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(t&&n.length===t));r=!0);}catch(p){i=!0,a=p}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function one(e){if(Array.isArray(e))return e}function ane(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sne(e,t,n){return t&&d_(e.prototype,t),n&&d_(e,n),e}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yb(e,t)}function yb(e,t){return yb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yb(e,t)}function une(e){var t=fne();return function(){var n=by(e),r;if(t){var i=by(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return cne(this,r)}}function cne(e,t){return t&&(Zh(t)==="object"||typeof t=="function")?t:Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ml=Lo.mouse,k0=function(e){lne(n,e);var t=une(n);function n(){var r;ane(this,n);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a)),so(Fr(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),so(Fr(r),"mounted",!1),so(Fr(r),"handleDragStart",function(c){if(r.props.onMouseDown(c),!r.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;var p=r.findDOMNode();if(!p||!p.ownerDocument||!p.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var v=p.ownerDocument;if(!(r.props.disabled||!(c.target instanceof v.defaultView.Node)||r.props.handle&&!(0,Mr.matchesSelectorAndParentsTo)(c.target,r.props.handle,p)||r.props.cancel&&(0,Mr.matchesSelectorAndParentsTo)(c.target,r.props.cancel,p))){c.type==="touchstart"&&c.preventDefault();var m=(0,Mr.getTouchIdentifier)(c);r.setState({touchIdentifier:m});var x=(0,Au.getControlPosition)(c,m,Fr(r));if(x!=null){var S=x.x,C=x.y,I=(0,Au.createCoreData)(Fr(r),S,C);(0,Ph.default)("DraggableCore: handleDragStart: %j",I),(0,Ph.default)("calling",r.props.onStart);var $=r.props.onStart(c,I);$===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Mr.addUserSelectStyles)(v),r.setState({dragging:!0,lastX:S,lastY:C}),(0,Mr.addEvent)(v,ml.move,r.handleDrag),(0,Mr.addEvent)(v,ml.stop,r.handleDragStop))}}}),so(Fr(r),"handleDrag",function(c){var p=(0,Au.getControlPosition)(c,r.state.touchIdentifier,Fr(r));if(p!=null){var v=p.x,m=p.y;if(Array.isArray(r.props.grid)){var x=v-r.state.lastX,S=m-r.state.lastY,C=(0,Au.snapToGrid)(r.props.grid,x,S),I=tne(C,2);if(x=I[0],S=I[1],!x&&!S)return;v=r.state.lastX+x,m=r.state.lastY+S}var $=(0,Au.createCoreData)(Fr(r),v,m);(0,Ph.default)("DraggableCore: handleDrag: %j",$);var N=r.props.onDrag(c,$);if(N===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var L=document.createEvent("MouseEvents");L.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(L)}return}r.setState({lastX:v,lastY:m})}}),so(Fr(r),"handleDragStop",function(c){if(r.state.dragging){var p=(0,Au.getControlPosition)(c,r.state.touchIdentifier,Fr(r));if(p!=null){var v=p.x,m=p.y,x=(0,Au.createCoreData)(Fr(r),v,m),S=r.props.onStop(c,x);if(S===!1||r.mounted===!1)return!1;var C=r.findDOMNode();C&&r.props.enableUserSelectHack&&(0,Mr.removeUserSelectStyles)(C.ownerDocument),(0,Ph.default)("DraggableCore: handleDragStop: %j",x),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),C&&((0,Ph.default)("DraggableCore: Removing handlers"),(0,Mr.removeEvent)(C.ownerDocument,ml.move,r.handleDrag),(0,Mr.removeEvent)(C.ownerDocument,ml.stop,r.handleDragStop))}}}),so(Fr(r),"onMouseDown",function(c){return ml=Lo.mouse,r.handleDragStart(c)}),so(Fr(r),"onMouseUp",function(c){return ml=Lo.mouse,r.handleDragStop(c)}),so(Fr(r),"onTouchStart",function(c){return ml=Lo.touch,r.handleDragStart(c)}),so(Fr(r),"onTouchEnd",function(c){return ml=Lo.touch,r.handleDragStop(c)}),r}return sne(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,Mr.addEvent)(i,Lo.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var a=i.ownerDocument;(0,Mr.removeEvent)(a,Lo.mouse.move,this.handleDrag),(0,Mr.removeEvent)(a,Lo.touch.move,this.handleDrag),(0,Mr.removeEvent)(a,Lo.mouse.stop,this.handleDragStop),(0,Mr.removeEvent)(a,Lo.touch.stop,this.handleDragStop),(0,Mr.removeEvent)(i,Lo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mr.removeUserSelectStyles)(a)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:Jte.default.findDOMNode(this)}},{key:"render",value:function(){return _1.cloneElement(_1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(_1.Component);C0.default=k0;so(k0,"displayName","DraggableCore");so(k0,"propTypes",{allowAnyClick:Ii.default.bool,disabled:Ii.default.bool,enableUserSelectHack:Ii.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ii.default.arrayOf(Ii.default.number),handle:Ii.default.string,cancel:Ii.default.string,nodeRef:Ii.default.object,onStart:Ii.default.func,onDrag:Ii.default.func,onStop:Ii.default.func,onMouseDown:Ii.default.func,scale:Ii.default.number,className:O1.dontSetMe,style:O1.dontSetMe,transform:O1.dontSetMe});so(k0,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),e.default=void 0;var t=S(O),n=m(t0),r=m(Bp),i=m(eP),a=Nn,l=Ba,c=Da,p=m(C0),v=m(T0);function m(te){return te&&te.__esModule?te:{default:te}}function x(){if(typeof WeakMap!="function")return null;var te=new WeakMap;return x=function(){return te},te}function S(te){if(te&&te.__esModule)return te;if(te===null||C(te)!=="object"&&typeof te!="function")return{default:te};var oe=x();if(oe&&oe.has(te))return oe.get(te);var we={},ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in te)if(Object.prototype.hasOwnProperty.call(te,le)){var pe=ne?Object.getOwnPropertyDescriptor(te,le):null;pe&&(pe.get||pe.set)?Object.defineProperty(we,le,pe):we[le]=te[le]}return we.default=te,oe&&oe.set(te,we),we}function C(te){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(we){return typeof we}:C=function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},C(te)}function I(){return I=Object.assign||function(te){for(var oe=1;oe<arguments.length;oe++){var we=arguments[oe];for(var ne in we)Object.prototype.hasOwnProperty.call(we,ne)&&(te[ne]=we[ne])}return te},I.apply(this,arguments)}function $(te,oe){if(te==null)return{};var we=N(te,oe),ne,le;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(te);for(le=0;le<pe.length;le++)ne=pe[le],!(oe.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(te,ne)&&(we[ne]=te[ne])}return we}function N(te,oe){if(te==null)return{};var we={},ne=Object.keys(te),le,pe;for(pe=0;pe<ne.length;pe++)le=ne[pe],!(oe.indexOf(le)>=0)&&(we[le]=te[le]);return we}function L(te,oe){return X(te)||U(te,oe)||B(te,oe)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(te,oe){if(te){if(typeof te=="string")return j(te,oe);var we=Object.prototype.toString.call(te).slice(8,-1);if(we==="Object"&&te.constructor&&(we=te.constructor.name),we==="Map"||we==="Set")return Array.from(te);if(we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return j(te,oe)}}function j(te,oe){(oe==null||oe>te.length)&&(oe=te.length);for(var we=0,ne=new Array(oe);we<oe;we++)ne[we]=te[we];return ne}function U(te,oe){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(te)))){var we=[],ne=!0,le=!1,pe=void 0;try{for(var _e=te[Symbol.iterator](),Ne;!(ne=(Ne=_e.next()).done)&&(we.push(Ne.value),!(oe&&we.length===oe));ne=!0);}catch(Ue){le=!0,pe=Ue}finally{try{!ne&&_e.return!=null&&_e.return()}finally{if(le)throw pe}}return we}}function X(te){if(Array.isArray(te))return te}function V(te,oe){var we=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);oe&&(ne=ne.filter(function(le){return Object.getOwnPropertyDescriptor(te,le).enumerable})),we.push.apply(we,ne)}return we}function re(te){for(var oe=1;oe<arguments.length;oe++){var we=arguments[oe]!=null?arguments[oe]:{};oe%2?V(Object(we),!0).forEach(function(ne){me(te,ne,we[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(we)):V(Object(we)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(we,ne))})}return te}function fe(te,oe){if(!(te instanceof oe))throw new TypeError("Cannot call a class as a function")}function ve(te,oe){for(var we=0;we<oe.length;we++){var ne=oe[we];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}function xe(te,oe,we){return oe&&ve(te.prototype,oe),we&&ve(te,we),te}function ze(te,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(oe&&oe.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),oe&&J(te,oe)}function J(te,oe){return J=Object.setPrototypeOf||function(ne,le){return ne.__proto__=le,ne},J(te,oe)}function Q(te){var oe=Te();return function(){var we=ye(te),ne;if(oe){var le=ye(this).constructor;ne=Reflect.construct(we,arguments,le)}else ne=we.apply(this,arguments);return G(this,ne)}}function G(te,oe){return oe&&(C(oe)==="object"||typeof oe=="function")?oe:Ce(te)}function Ce(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function Te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ye(te){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)},ye(te)}function me(te,oe,we){return oe in te?Object.defineProperty(te,oe,{value:we,enumerable:!0,configurable:!0,writable:!0}):te[oe]=we,te}var be=function(te){ze(we,te);var oe=Q(we);xe(we,null,[{key:"getDerivedStateFromProps",value:function(le,pe){var _e=le.position,Ne=pe.prevPropsPosition;return _e&&(!Ne||_e.x!==Ne.x||_e.y!==Ne.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:_e,prevPropsPosition:Ne}),{x:_e.x,y:_e.y,prevPropsPosition:re({},_e)}):null}}]);function we(ne){var le;return fe(this,we),le=oe.call(this,ne),me(Ce(le),"onDragStart",function(pe,_e){(0,v.default)("Draggable: onDragStart: %j",_e);var Ne=le.props.onStart(pe,(0,l.createDraggableData)(Ce(le),_e));if(Ne===!1)return!1;le.setState({dragging:!0,dragged:!0})}),me(Ce(le),"onDrag",function(pe,_e){if(!le.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",_e);var Ne=(0,l.createDraggableData)(Ce(le),_e),Ue={x:Ne.x,y:Ne.y};if(le.props.bounds){var nt=Ue.x,Ye=Ue.y;Ue.x+=le.state.slackX,Ue.y+=le.state.slackY;var wt=(0,l.getBoundPosition)(Ce(le),Ue.x,Ue.y),Dt=L(wt,2),Ft=Dt[0],it=Dt[1];Ue.x=Ft,Ue.y=it,Ue.slackX=le.state.slackX+(nt-Ue.x),Ue.slackY=le.state.slackY+(Ye-Ue.y),Ne.x=Ue.x,Ne.y=Ue.y,Ne.deltaX=Ue.x-le.state.x,Ne.deltaY=Ue.y-le.state.y}var yt=le.props.onDrag(pe,Ne);if(yt===!1)return!1;le.setState(Ue)}),me(Ce(le),"onDragStop",function(pe,_e){if(!le.state.dragging)return!1;var Ne=le.props.onStop(pe,(0,l.createDraggableData)(Ce(le),_e));if(Ne===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",_e);var Ue={dragging:!1,slackX:0,slackY:0},nt=!!le.props.position;if(nt){var Ye=le.props.position,wt=Ye.x,Dt=Ye.y;Ue.x=wt,Ue.y=Dt}le.setState(Ue)}),le.state={dragging:!1,dragged:!1,x:ne.position?ne.position.x:ne.defaultPosition.x,y:ne.position?ne.position.y:ne.defaultPosition.y,prevPropsPosition:re({},ne.position),slackX:0,slackY:0,isElementSVG:!1},ne.position&&!(ne.onDrag||ne.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),le}return xe(we,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:r.default.findDOMNode(this)}},{key:"render",value:function(){var le,pe=this.props;pe.axis,pe.bounds;var _e=pe.children,Ne=pe.defaultPosition,Ue=pe.defaultClassName,nt=pe.defaultClassNameDragging,Ye=pe.defaultClassNameDragged,wt=pe.position,Dt=pe.positionOffset;pe.scale;var Ft=$(pe,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),it={},yt=null,Ot=!!wt,jt=!Ot||this.state.dragging,Bt=wt||Ne,kn={x:(0,l.canDragX)(this)&&jt?this.state.x:Bt.x,y:(0,l.canDragY)(this)&&jt?this.state.y:Bt.y};this.state.isElementSVG?yt=(0,a.createSVGTransform)(kn,Dt):it=(0,a.createCSSTransform)(kn,Dt);var pt=(0,i.default)(_e.props.className||"",Ue,(le={},me(le,nt,this.state.dragging),me(le,Ye,this.state.dragged),le));return t.createElement(p.default,I({},Ft,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(_e),{className:pt,style:re(re({},_e.props.style),it),transform:yt}))}}]),we}(t.Component);e.default=be,me(be,"displayName","Draggable"),me(be,"propTypes",re(re({},p.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),me(be,"defaultProps",re(re({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})(YN);var aI=YN,sI=aI.default,dne=aI.DraggableCore;IS.exports=sI;IS.exports.default=sI;var hne=IS.exports.DraggableCore=dne;const pne=400,lI=O.memo(e=>{const{onDeselect:t,onDrag:n,onDragStart:r,onDragStop:i,onEdit:a,onSelect:l,passage:c,tagColors:p}=e,{t:v}=qe(),m=O.useMemo(()=>ir("passage-card",{empty:ZP(c),selected:c.selected}),[c]),x=O.useRef(null),S=O.useMemo(()=>c.text.length>0?c.text.substring(0,pne):b.jsx("span",{className:"placeholder",children:v(xte==="touchOnly"?"components.passageCard.placeholderTouch":"components.passageCard.placeholderClick")}),[c.text,v]),C=O.useMemo(()=>({height:c.height,left:c.left,top:c.top,width:c.width}),[c.height,c.left,c.top,c.width]),I=O.useCallback(L=>{L.shiftKey||L.ctrlKey?c.selected?t(c):l(c,!1):c.selected||l(c,!0)},[t,l,c]),$=O.useCallback(()=>a(c),[a,c]),N=O.useCallback((L,M)=>{l(c,M)},[l,c]);return b.jsx(hne,{nodeRef:x,onMouseDown:I,onStart:r,onDrag:n,onStop:i,children:b.jsx("div",{className:m,ref:x,style:C,children:b.jsxs(nS,{highlighted:c.highlighted,label:c.name,onDoubleClick:$,onSelect:N,selected:c.selected,children:[b.jsx(TN,{tagColors:p,tags:c.tags}),b.jsx("h2",{children:c.name}),b.jsx(_r,{children:S})]})})})});lI.displayName="PassageCard";const uI=O.memo(e=>{const{passages:t}=e,n=O.useMemo(()=>[...t].sort((r,i)=>r.top!==i.top?r.top-i.top:r.left-i.left),[t]);return b.jsx(hd,{component:null,children:n.map(r=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(lI,{passage:r,...e})},r.id))})});uI.displayName="PassageCardGroup";function gne(e,t){switch(t.type){case"start":return{dragging:!0,dragX:t.x,dragY:t.y,startX:t.x,startY:t.y};case"move":return{...e,dragX:t.x,dragY:t.y};case"stop":return Promise.resolve().then(()=>t.callback({left:e.dragX-e.startX,top:e.dragY-e.startY})),{dragging:!1,dragX:0,dragY:0,startX:0,startY:0}}}const h_=.6,vne=e=>{const{formatName:t,formatVersion:n,onDeselect:r,onDrag:i,onEdit:a,onSelect:l,passages:c,startPassageId:p,tagColors:v,visibleZoom:m,zoom:x}=e,[S,C]=O.useState(m<=h_),I=O.useRef(null),$=O.useMemo(()=>sU([...c,{top:0,left:0,width:0,height:0}]),[c]),N=O.useMemo(()=>({height:"calc(".concat($.height,"px + max(50vh, ").concat(1e3/m,"px))"),width:"calc(".concat($.width,"px + max(50vw, ").concat(1e3/m,"px))"),transform:"scale(".concat(m,")")}),[$.height,$.width,m]),[L,M]=O.useReducer(gne,{dragging:!1,dragX:0,dragY:0,startX:0,startY:0}),B=O.useRef(!1);O.useEffect(()=>{x===m&&C(x<=h_)},[m,x]),O.useEffect(()=>{I.current&&(I.current.style.setProperty("--drag-offset-left","".concat((L.dragX-L.startX)/m,"px")),I.current.style.setProperty("--drag-offset-top","".concat((L.dragY-L.startY)/m,"px")))},[L.dragX,L.dragY,L.startX,L.startY,m]);const j=O.useCallback((re,fe)=>{document.body.classList.add("dragging-passages"),M({type:"start",x:fe.x,y:fe.y})},[]),U=O.useCallback((re,fe)=>M({type:"move",x:fe.x,y:fe.y}),[]),X=O.useCallback(()=>{document.body.classList.remove("dragging-passages"),M({type:"stop",callback:i}),B.current=!0,window.setTimeout(()=>{B.current=!1},0)},[i]),V=O.useCallback((re,fe)=>{B.current||l(re,fe)},[l]);return b.jsxs("div",{className:ir("passage-map",{"compact-passage-cards":S}),ref:I,style:N,children:[b.jsx(hte,{formatName:t,formatVersion:n,offset:{left:(L.dragX-L.startX)/x,top:(L.dragY-L.startY)/x},passages:c,startPassageId:p}),b.jsx(uI,{onDeselect:r,onDragStart:j,onDrag:U,onDragStop:X,onEdit:a,onSelect:V,passages:c,tagColors:v})]})},mne=e=>{const{container:t,onSelectRect:n,...r}=e,[i,a]=O.useState(),[l,c]=O.useState(),p=O.useMemo(()=>i?e.passages.map(x=>{if(l&&x.selected)return x;const S=zy(i,x);return S===x.selected?x:{...x,selected:S}}):e.passages,[e.passages,l,i]),v=O.useCallback((x,S)=>{a({height:x.height/e.zoom,left:x.left/e.zoom,top:x.top/e.zoom,width:x.width/e.zoom}),c(S)},[e.zoom]),m=O.useCallback((x,S)=>{a(void 0),c(void 0),n(x,S)},[n]);return b.jsxs(b.Fragment,{children:[b.jsx(ste,{container:t,ignoreEventsOnSelector:".passage-card, .fuzzy-finder, .zoom-buttons",onSelectRect:m,onTemporarySelectRect:v}),b.jsx(vne,{...r,passages:p})]})};/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */var L1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function P1(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function cI(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function fI(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function yne(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}var dI={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":L1?173:189,"=":L1?61:187,";":L1?59:186,"'":222,"[":219,"]":221,"\\":220},lc={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},p_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},kr={16:!1,18:!1,17:!1,91:!1},gr={};for(var em=1;em<20;em++)dI["f".concat(em)]=111+em;var xn=[],hI="all",pI=[],_0=function(t){return dI[t.toLowerCase()]||lc[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function gI(e){hI=e||"all"}function Lp(){return hI||"all"}function wne(){return xn.slice(0)}function xne(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function bne(e){return typeof e=="string"&&(e=_0(e)),xn.indexOf(e)!==-1}function Ene(e,t){var n,r;e||(e=Lp());for(var i in gr)if(Object.prototype.hasOwnProperty.call(gr,i))for(n=gr[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Lp()===e&&gI(t||"all")}function Sne(e){var t=e.keyCode||e.which||e.charCode,n=xn.indexOf(t);if(n>=0&&xn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&xn.splice(0,xn.length),(t===93||t===224)&&(t=91),t in kr){kr[t]=!1;for(var r in lc)lc[r]===t&&($i[r]=!1)}}function Cne(e){if(!e)Object.keys(gr).forEach(function(l){return delete gr[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&A1(l)});else if(typeof e=="object")e.key&&A1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];typeof i=="function"&&(a=i,i=""),A1({key:e,scope:i,method:a,splitKey:"+"})}}var A1=function(t){var n=t.key,r=t.scope,i=t.method,a=t.splitKey,l=a===void 0?"+":a,c=fI(n);c.forEach(function(p){var v=p.split(l),m=v.length,x=v[m-1],S=x==="*"?"*":_0(x);if(gr[S]){r||(r=Lp());var C=m>1?cI(lc,v):[];gr[S]=gr[S].map(function(I){var $=i?I.method===i:!0;return $&&I.scope===r&&yne(I.mods,C)?{}:I})}})};function g_(e,t,n){var r;if(t.scope===n||t.scope==="all"){r=t.mods.length>0;for(var i in kr)Object.prototype.hasOwnProperty.call(kr,i)&&(!kr[i]&&t.mods.indexOf(+i)>-1||kr[i]&&t.mods.indexOf(+i)===-1)&&(r=!1);(t.mods.length===0&&!kr[16]&&!kr[18]&&!kr[17]&&!kr[91]||r||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function v_(e){var t=gr["*"],n=e.keyCode||e.which||e.charCode;if($i.filter.call(this,e)){if((n===93||n===224)&&(n=91),xn.indexOf(n)===-1&&n!==229&&xn.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(C){var I=p_[C];e[C]&&xn.indexOf(I)===-1?xn.push(I):!e[C]&&xn.indexOf(I)>-1?xn.splice(xn.indexOf(I),1):C==="metaKey"&&e[C]&&xn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(xn=xn.slice(xn.indexOf(I))))}),n in kr){kr[n]=!0;for(var r in lc)lc[r]===n&&($i[r]=!0);if(!t)return}for(var i in kr)Object.prototype.hasOwnProperty.call(kr,i)&&(kr[i]=e[p_[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(xn.indexOf(17)===-1&&xn.push(17),xn.indexOf(18)===-1&&xn.push(18),kr[17]=!0,kr[18]=!0);var a=Lp();if(t)for(var l=0;l<t.length;l++)t[l].scope===a&&(e.type==="keydown"&&t[l].keydown||e.type==="keyup"&&t[l].keyup)&&g_(e,t[l],a);if(n in gr){for(var c=0;c<gr[n].length;c++)if((e.type==="keydown"&&gr[n][c].keydown||e.type==="keyup"&&gr[n][c].keyup)&&gr[n][c].key){for(var p=gr[n][c],v=p.splitKey,m=p.key.split(v),x=[],S=0;S<m.length;S++)x.push(_0(m[S]));x.sort().join("")===xn.sort().join("")&&g_(e,p,a)}}}}function Tne(e){return pI.indexOf(e)>-1}function $i(e,t,n){xn=[];var r=fI(e),i=[],a="all",l=document,c=0,p=!1,v=!0,m="+";for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(l=t.element),t.keyup&&(p=t.keyup),t.keydown!==void 0&&(v=t.keydown),typeof t.splitKey=="string"&&(m=t.splitKey)),typeof t=="string"&&(a=t);c<r.length;c++)e=r[c].split(m),i=[],e.length>1&&(i=cI(lc,e)),e=e[e.length-1],e=e==="*"?"*":_0(e),e in gr||(gr[e]=[]),gr[e].push({keyup:p,keydown:v,scope:a,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:m});typeof l<"u"&&!Tne(l)&&window&&(pI.push(l),P1(l,"keydown",function(x){v_(x)}),P1(window,"focus",function(){xn=[]}),P1(l,"keyup",function(x){v_(x),Sne(x)}))}var N1={setScope:gI,getScope:Lp,deleteScope:Ene,getPressedKeyCodes:wne,isPressed:bne,filter:xne,unbind:Cne};for(var I1 in N1)Object.prototype.hasOwnProperty.call(N1,I1)&&($i[I1]=N1[I1]);if(typeof window<"u"){var kne=window.hotkeys;$i.noConflict=function(e){return e&&window.hotkeys===$i&&(window.hotkeys=kne),$i},window.hotkeys=$i}$i.filter=function(){return!0};var vI=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},_ne=function(t){return vI(t,["INPUT","TEXTAREA","SELECT"])};function Cl(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},a=i.enableOnTags,l=i.filter,c=i.keyup,p=i.keydown,v=i.filterPreventDefault,m=v===void 0?!0:v,x=i.enabled,S=x===void 0?!0:x,C=i.enableOnContentEditable,I=C===void 0?!1:C,$=O.useRef(null),N=O.useCallback(function(L,M){var B;return l&&!l(L)?!m:_ne(L)&&!vI(L,a)||(B=L.target)!=null&&B.isContentEditable&&!I?!0:$.current===null||document.activeElement===$.current?(t(L,M),!0):!1},r?[$,a,l].concat(r):[$,a,l]);return O.useEffect(function(){if(!S){$i.unbind(e,N);return}return c&&p!==!0&&(n.keydown=!1),$i(e,n||{},N),function(){return $i.unbind(e,N)}},[N,e,S]),$}$i.isPressed;const One=e=>{const{detail:t,heading:n,onClick:r,selected:i}=e;return b.jsxs("button",{className:ir("fuzzy-finder-result",{selected:i}),onClick:r,children:[b.jsx(m3,{}),b.jsx("span",{className:"heading",children:n}),b.jsx("span",{className:"detail",children:t})]})};function tm(e){return!!(e&&document.activeElement===e)}const Lne=e=>{const{noResultsText:t,onChangeSearch:n,onClose:r,onSelectResult:i,prompt:a,search:l,results:c}=e,[p,v]=O.useState(0),m=O.useRef(null),x=O.useRef(null);return Cl("escape",r,{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[r]),Cl("return",()=>i(p),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),Cl("up",()=>v(S=>S===0?c.length-1:S-1),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),Cl("down",()=>v(S=>S===c.length-1?0:S+1),{enableOnTags:["INPUT"],filter:()=>tm(x.current)},[i,p]),O.useEffect(()=>{const S=window.setTimeout(()=>{var C;m.current&&((C=m.current.querySelector("input"))==null||C.focus())},0);return()=>window.clearTimeout(S)},[]),b.jsx("div",{className:"fuzzy-finder",ref:m,children:b.jsxs(Ul,{children:[b.jsxs("div",{className:"search",children:[b.jsx(Cp,{onChange:S=>n(S.target.value),ref:x,value:l,children:a}),b.jsx(tt,{icon:b.jsx(No,{}),iconOnly:!0,label:"Close",onClick:r,tooltipPosition:"bottom"})]}),b.jsxs("div",{className:ir("results",{"has-results":c.length>0}),children:[l.length>0&&c.length===0&&b.jsx("div",{className:"no-results",children:t}),l.length>0&&c.length>0&&b.jsx("ol",{children:c.map((S,C)=>b.jsx("li",{children:b.jsx(One,{...S,onClick:()=>i(C),selected:C===p})},S.heading))})]})]})})},Pne=e=>{const{onClose:t,onOpen:n,open:r,setCenter:i,story:a}=e,{dispatch:l}=dn(),[c,p]=O.useState(""),[v,m]=O.useState(""),x=O.useMemo(()=>TS.debounce(L=>{m(L)},100,{leading:!0,trailing:!0}),[]),S=O.useMemo(()=>B5(a.passages,v),[v,a.passages]),C=O.useMemo(()=>S.map(({name:L,text:M})=>({heading:L,detail:M})),[S]);Cl("p",n);const{t:I}=qe();function $(L){p(L),x(L)}function N(L){i(S[L]),l(JP(a,S[L],!0)),p(""),t()}return b.jsx($a,{classNames:"pop",mountOnEnter:!0,timeout:200,unmountOnExit:!0,in:r,children:b.jsx(Lne,{noResultsText:I("components.passageFuzzyFinder.noResults"),onClose:t,onChangeSearch:$,onSelectResult:N,prompt:I("components.passageFuzzyFinder.prompt"),search:c,results:C})})},Ane=e=>{const{getCenter:t,story:n}=e,{dispatch:r}=Gi(),i=O.useCallback(()=>{const{left:l,top:c}=t();r(MP(n,l,c),"undoChange.newPassage")},[r,t,n]),{t:a}=qe();return b.jsx(tt,{icon:b.jsx(Xf,{}),label:a("common.new"),onClick:i})},Nne=e=>{const{passages:t,story:n}=e,{dispatch:r}=Gi(),{t:i}=qe(),a=O.useMemo(()=>t.length===0?!0:t.some(c=>n.startPassage===c.id),[t,n.startPassage]),l=O.useCallback(()=>{t.length!==0&&r(R8(n,t),t.length>1?"undoChange.deletePassages":"undoChange.deletePassage")},[r,t,n]);return Cl("Backspace,Delete",l,[l]),b.jsx(tt,{disabled:a,icon:b.jsx(Zm,{}),label:!a&&t.length>1?i("common.deleteCount",{count:t.length}):i("common.delete"),onClick:l})},Ine=e=>{const{passages:t,story:n}=e,{dispatch:r}=yi(),{t:i}=qe();function a(){r(xS(n.id,t.map(({id:l})=>l)))}return b.jsx(tt,{disabled:t.length===0,icon:b.jsx(UL,{}),label:t.length>1?i("common.editCount",{count:t.length}):i("common.edit"),onClick:a})},Rne=e=>{const{onOpenFuzzyFinder:t}=e,{t:n}=qe();return b.jsx(tt,{icon:b.jsx(F3,{}),label:n("routes.storyEdit.toolbar.goTo"),onClick:t})},Mne=e=>{const{story:t}=e,{dispatch:n}=dn(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(Q3,{}),label:r("common.selectAll"),onClick:()=>n(Q5(t))})},Fne=e=>{const{passage:t,story:n}=e,{dispatch:r,stories:i}=dn(),{t:a}=qe();function l(){if(!t)throw new Error("No passage set");r(Zr(i,n,{startPassage:t.id}))}return b.jsx(tt,{disabled:!t||t.id===n.startPassage,icon:b.jsx(d4,{}),label:a("routes.storyEdit.toolbar.startStoryHere"),onClick:l})},jne=e=>{const{getCenter:t,onOpenFuzzyFinder:n,story:r}=e,{dispatch:i}=dn(),a=O.useMemo(()=>r.passages.filter(p=>p.selected),[r.passages]),l=O.useMemo(()=>a.length===1?a[0]:void 0,[a]);function c(p,v){if(!v)throw new Error("Passage is unset");i(Dl(r,v,{name:p},{dontUpdateOthers:!0}))}return b.jsxs(An,{children:[b.jsx(Ane,{getCenter:t,story:r}),b.jsx(Ine,{passages:a,story:r}),b.jsx(EN,{onRename:p=>c(p,l),passage:l,story:r}),b.jsx(Nne,{passages:a,story:r}),b.jsx(_N,{passage:l,story:r}),b.jsx(Fne,{passage:l,story:r}),b.jsx(Rne,{onOpenFuzzyFinder:n}),b.jsx(Mne,{story:r})]})},$ne=()=>{const{t:e}=qe();return b.jsx(tt,{disabled:!0,icon:b.jsx(zp,{}),label:e("common.rename")})},Dne=e=>{const{existingStories:t,onRename:n,story:r}=e,[i,a]=O.useState(r.name),{t:l}=qe();O.useEffect(()=>a(r.name),[r]);function c(p){return p.trim()===""?{message:l("components.renameStoryButton.emptyName"),valid:!1}:t.some(v=>v.id!==r.id&&hi(v)===hi({...r,name:p}))?{message:l("components.renameStoryButton.nameAlreadyUsed"),valid:!1}:{valid:!0}}return b.jsx(Zp,{icon:b.jsx(zp,{}),label:l("common.rename"),onChange:p=>a(p.target.value),onSubmit:n,prompt:l("common.renamePrompt",{name:r.name}),validate:c,value:i})},mI=e=>e.story?b.jsx(Dne,{...e}):b.jsx($ne,{}),Bne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(_x,{}),label:r("common.details"),onClick:()=>n({type:"addDialog",component:Tee,props:{storyId:t.id}})})},zne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(p4,{}),label:r("routes.storyEdit.toolbar.findAndReplace"),onClick:()=>n({type:"addDialog",component:kee,props:{find:"",flags:{includePassageNames:!0,matchCase:!1,useRegexes:!1},replace:"",storyId:t.id}})})},Hne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(u3,{}),label:r("routes.storyEdit.toolbar.javaScript"),onClick:()=>n({type:"addDialog",component:xee,props:{storyId:t.id}})})},Une=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(VL,{}),label:r("routes.storyEdit.toolbar.passageTags"),onClick:()=>n({type:"addDialog",component:uee,props:{storyId:t.id}})})},Wne=e=>{const{story:t}=e,{dispatch:n}=yi(),{t:r}=qe();return b.jsx(tt,{icon:b.jsx(B3,{}),label:r("routes.storyEdit.toolbar.stylesheet"),onClick:()=>n({type:"addDialog",component:_ee,props:{storyId:t.id}})})},Kne=e=>{const{dispatch:t,stories:n}=dn(),{story:r}=e;return b.jsxs(An,{children:[b.jsx(zne,{story:r}),b.jsx(mI,{existingStories:n,onRename:i=>t(Zr(n,r,{name:i})),story:r}),b.jsx(Bne,{story:r}),b.jsx(Une,{story:r}),b.jsx(Hne,{story:r}),b.jsx(Wne,{story:r})]})},Gne=()=>{const{redo:e,redoLabel:t,undo:n,undoLabel:r}=Gi(),{t:i}=qe();return b.jsxs(b.Fragment,{children:[b.jsx(tt,{disabled:!n,icon:b.jsx(BL,{}),label:r!=null?r:i("common.undo"),onClick:n}),b.jsx(tt,{disabled:!e,icon:b.jsx(zL,{}),label:t!=null?t:i("common.redo"),onClick:e})]})};const yI=O.memo(({story:e})=>{const{dispatch:t,stories:n}=dn(),{t:r}=qe(),i=O.useCallback(a=>{t(Zr(n,e,{zoom:a}))},[t,n,e]);return b.jsxs("div",{className:"zoom-buttons",children:[b.jsx("span",{className:"legend",children:r("routes.storyEdit.zoomButtons.legend")}),b.jsx(tt,{icon:b.jsx(qL,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.passageNamesAndExcerpts"),onClick:()=>i(1),selectable:!0,selected:e.zoom===1}),b.jsx(tt,{icon:b.jsx(V3,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.passageNames"),onClick:()=>i(.6),selectable:!0,selected:e.zoom===.6}),b.jsx(tt,{icon:b.jsx($3,{}),iconOnly:!0,label:r("routes.storyEdit.zoomButtons.storyStructure"),onClick:()=>i(.3),selectable:!0,selected:e.zoom===.3})]})});yI.displayName="ZoomButtons";const qne=e=>{const{getCenter:t,onOpenFuzzyFinder:n,story:r}=e,{t:i}=qe();return b.jsx(PS,{pinnedControls:b.jsxs(b.Fragment,{children:[b.jsx(yI,{story:r}),b.jsx(Gne,{})]}),tabs:{[i("common.passage")]:b.jsx(jne,{getCenter:t,onOpenFuzzyFinder:n,story:r}),[i("common.story")]:b.jsx(Kne,{story:r}),[i("common.build")]:b.jsx(KN,{story:r}),[i("common.appName")]:b.jsx(AS,{})}})};function Xne(e,t){const{dispatch:n}=Gi(),[r,i]=O.useState(!1);O.useEffect(()=>{if(!r&&(i(!0),e.passages.length===0)){const a=t();n(MP(e,a.left,a.top))}},[n,t,r,e])}function Vne(e){const t=O.useMemo(()=>e.passages.filter(v=>v.selected),[e.passages]),{dispatch:n}=Gi(),{dispatch:r}=yi(),i=O.useCallback(v=>n(Y5(e,v)),[e,n]),a=O.useCallback(v=>{Math.abs(v.left)<1&&Math.abs(v.top)<1||n(q5(e,e.passages.reduce((m,x)=>x.selected?[...m,x.id]:m,[]),v.left/e.zoom,v.top/e.zoom),(t.length>1,"undoChange.movePassages"))},[t.length,e,n]),l=O.useCallback(v=>r(xS(e.id,[v.id])),[r,e.id]),c=O.useCallback((v,m)=>n(JP(e,v,m)),[e,n]),p=O.useCallback((v,m)=>{const x={height:v.height/e.zoom,left:v.left/e.zoom,top:v.top/e.zoom,width:v.width/e.zoom};n(Z5(e,x,m?t.map(S=>S.id):[]))},[t,e,n]);return{handleDeselectPassage:i,handleDragPassages:a,handleEditPassage:l,handleSelectPassage:c,handleSelectRect:p}}function Yne(e,t){const{dialogs:n}=yi(),{prefs:r}=Yt(),i=O.useCallback(()=>{if(!t.current)throw new Error("Asked for the center of an element, but it does not exist in the DOM yet");return{left:(t.current.scrollLeft+t.current.clientWidth/2)/e.zoom,top:(t.current.scrollTop+t.current.clientHeight/2)/e.zoom}},[t,e.zoom]),a=O.useCallback(({left:l,top:c})=>{if(!t.current)throw new Error("Asked to set the center of an element, but it does not exist in the DOM yet");const{height:p,width:v}=t.current.getBoundingClientRect(),m={left:(l-v/e.zoom/2)*e.zoom,top:(c-p/e.zoom/2)*e.zoom};n.length>0&&(m.left+=r.dialogWidth/2),t.current.scrollTo(m)},[n.length,t,r.dialogWidth,e.zoom]);return{getCenter:i,setCenter:a}}function Qne(e){const{dispatch:t,stories:n}=dn();Cl("-",()=>{switch(e.zoom){case 1:t(Zr(n,e,{zoom:.6}));break;case .6:t(Zr(n,e,{zoom:.3}));break}},{keydown:!1,keyup:!0},[t,n,e]),Cl("=",()=>{switch(e.zoom){case .3:t(Zr(n,e,{zoom:.6}));break;case .6:t(Zr(n,e,{zoom:1}));break}},{keydown:!1,keyup:!0},[t,n,e])}function Zne(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}var Jne=Zne;function ere(e){var t=1.70158;return e*e*((t+1)*e-t)}var tre=ere;function nre(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}var rre=nre;function ire(e){var t=.36363636363636365,n=8/11,r=9/10,i=4356/361,a=35442/1805,l=16061/1805,c=e*e;return e<t?7.5625*c:e<n?9.075*c-9.9*e+3.4:e<r?i*c-a*e+l:10.8*e*e-20.52*e+10.72}var jS=ire,m_=jS;function ore(e){return e<.5?.5*(1-m_(1-e*2)):.5*m_(e*2-1)+.5}var are=ore,sre=jS;function lre(e){return 1-sre(1-e)}var ure=lre;function cre(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}var fre=cre;function dre(e){return 1-Math.sqrt(1-e*e)}var hre=dre;function pre(e){return Math.sqrt(1- --e*e)}var gre=pre;function vre(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}var mre=vre;function yre(e){return e*e*e}var wre=yre;function xre(e){var t=e-1;return t*t*t+1}var bre=xre;function Ere(e){return e<.5?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1}var Sre=Ere;function Cre(e){return Math.sin(13*e*Math.PI/2)*Math.pow(2,10*(e-1))}var Tre=Cre;function kre(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}var _re=kre;function Ore(e){return e===0||e===1?e:e<.5?.5*Math.pow(2,20*e-10):-.5*Math.pow(2,10-e*20)+1}var Lre=Ore;function Pre(e){return e===0?e:Math.pow(2,10*(e-1))}var Are=Pre;function Nre(e){return e===1?e:1-Math.pow(2,-10*e)}var Ire=Nre;function Rre(e){return e}var Mre=Rre;function Fre(e){return e/=.5,e<1?.5*e*e:(e--,-.5*(e*(e-2)-1))}var jre=Fre;function $re(e){return e*e}var Dre=$re;function Bre(e){return-e*(e-2)}var zre=Bre;function Hre(e){return e<.5?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1}var Ure=Hre;function Wre(e){return Math.pow(e,4)}var Kre=Wre;function Gre(e){return Math.pow(e-1,3)*(1-e)+1}var qre=Gre;function Xre(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}var Vre=Xre;function Yre(e){return e*e*e*e*e}var Qre=Yre;function Zre(e){return--e*e*e*e*e+1}var Jre=Zre;function eie(e){return-.5*(Math.cos(Math.PI*e)-1)}var tie=eie;function nie(e){var t=Math.cos(e*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}var rie=nie;function iie(e){return Math.sin(e*Math.PI/2)}var oie=iie,aie={backInOut:Jne,backIn:tre,backOut:rre,bounceInOut:are,bounceIn:ure,bounceOut:jS,circInOut:fre,circIn:hre,circOut:gre,cubicInOut:mre,cubicIn:wre,cubicOut:bre,elasticInOut:Sre,elasticIn:Tre,elasticOut:_re,expoInOut:Lre,expoIn:Are,expoOut:Ire,linear:Mre,quadInOut:jre,quadIn:Dre,quadOut:zre,quartInOut:Ure,quartIn:Kre,quartOut:qre,quintInOut:Vre,quintIn:Qre,quintOut:Jre,sineInOut:tie,sineIn:rie,sineOut:oie};function sie(e,t,n,r){let i;if(r<1)return i=t+n*aie.quadOut(r),e(i),i;e(t+n)}function lie(e,t){const[n,r]=O.useState(e),i=O.useRef(),a=O.useCallback(()=>{i.current&&window.requestAnimationFrame(l=>{const c=i.current;if(c.lastTimestamp){c.elapsed+=(l-c.lastTimestamp)/500,c.lastTimestamp=l;const p=sie(r,c.zoom.start,c.zoom.change,c.elapsed);if(p){const v=c.scrollNormalizedCenter.left*p-c.scrollCenter.width,m=c.scrollNormalizedCenter.top*p-c.scrollCenter.height;v>=0&&m>=0&&(c.scrollTarget.scrollLeft=v,c.scrollTarget.scrollTop=m),a()}else i.current=void 0}else c.lastTimestamp=l,a()})},[]);return O.useEffect(()=>{!i.current&&n!==e&&t&&(i.current={scrollTarget:t,elapsed:0,scrollNormalizedCenter:{left:(t.scrollLeft+t.clientWidth/2)/n,top:(t.scrollTop+t.clientHeight/2)/n},scrollCenter:{height:t.clientHeight/2,width:t.clientWidth/2},zoom:{start:n,change:e-n}},window.requestAnimationFrame(a))},[n,t,a,e]),n}const uie=()=>{const{storyId:e}=h0(),{stories:t}=Gi(),n=on(t,e),[r,i]=O.useState(!1),a=O.useRef(null),{getCenter:l,setCenter:c}=Yne(n,a),{handleDeselectPassage:p,handleDragPassages:v,handleEditPassage:m,handleSelectPassage:x,handleSelectRect:S}=Vne(n),C=lie(n.zoom,a.current);return Qne(n),Xne(n,l),b.jsxs("div",{className:"story-edit-route",children:[b.jsx(tN,{title:n.name}),b.jsx(qne,{getCenter:l,onOpenFuzzyFinder:()=>i(!0),story:n}),b.jsxs(tS,{grabbable:!0,padded:!1,ref:a,children:[b.jsx(mne,{container:a,formatName:n.storyFormat,formatVersion:n.storyFormatVersion,onDeselect:p,onDrag:v,onEdit:m,onSelect:x,onSelectRect:S,passages:n.passages,startPassageId:n.startPassage,tagColors:n.tagColors,visibleZoom:C,zoom:n.zoom}),b.jsx(Pne,{onClose:()=>i(!1),onOpen:()=>i(!0),open:r,setCenter:c,story:n})]})]})},cie=()=>b.jsx(hN,{children:b.jsx(CS,{children:b.jsx(uie,{})})});var y_=Hp,fie=bE,die=ja,w_=y_?y_.isConcatSpreadable:void 0;function hie(e){return die(e)||fie(e)||!!(w_&&e&&e[w_])}var pie=hie,gie=AN,vie=pie;function wI(e,t,n,r,i){var a=-1,l=e.length;for(n||(n=vie),i||(i=[]);++a<l;){var c=e[a];t>0&&n(c)?t>1?wI(c,t-1,n,r,i):gie(i,c):r||(i[i.length]=c)}return i}var mie=wI,yie=ja,wie=Gy,xie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bie=/^\w*$/;function Eie(e,t){if(yie(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wie(e)?!0:bie.test(e)||!xie.test(e)||t!=null&&e in Object(t)}var $S=Eie,xI=TE,Sie="Expected a function";function DS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return n.cache=a.set(i,l)||a,l};return n.cache=new(DS.Cache||xI),n}DS.Cache=xI;var Cie=DS,Tie=Cie,kie=500;function _ie(e){var t=Tie(e,function(r){return n.size===kie&&n.clear(),r}),n=t.cache;return t}var Oie=_ie,Lie=Oie,Pie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aie=/\\(\\)?/g,Nie=Lie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pie,function(n,r,i,a){t.push(i?a.replace(Aie,"$1"):r||n)}),t}),Iie=Nie,Rie=ja,Mie=$S,Fie=Iie,jie=_E;function $ie(e,t){return Rie(e)?e:Mie(e,t)?[e]:Fie(jie(e))}var bI=$ie,Die=Gy,Bie=1/0;function zie(e){if(typeof e=="string"||Die(e))return e;var t=e+"";return t=="0"&&1/e==-Bie?"-0":t}var O0=zie,Hie=bI,Uie=O0;function Wie(e,t){t=Hie(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Uie(t[n++])];return n&&n==r?e:void 0}var BS=Wie,Kie=LN,Gie=ES,qie=1,Xie=2;function Vie(e,t,n,r){var i=n.length,a=i,l=!r;if(e==null)return!a;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){c=n[i];var p=c[0],v=e[p],m=c[1];if(l&&c[2]){if(v===void 0&&!(p in e))return!1}else{var x=new Kie;if(r)var S=r(v,m,p,e,t,x);if(!(S===void 0?Gie(m,v,qie|Xie,r,x):S))return!1}}return!0}var Yie=Vie,Qie=Wp;function Zie(e){return e===e&&!Qie(e)}var EI=Zie,Jie=EI,eoe=bS;function toe(e){for(var t=eoe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jie(i)]}return t}var noe=toe;function roe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var SI=roe,ioe=Yie,ooe=noe,aoe=SI;function soe(e){var t=ooe(e);return t.length==1&&t[0][2]?aoe(t[0][0],t[0][1]):function(n){return n===e||ioe(n,e,t)}}var loe=soe,uoe=BS;function coe(e,t,n){var r=e==null?void 0:uoe(e,t);return r===void 0?n:r}var foe=coe;function doe(e,t){return e!=null&&t in Object(e)}var hoe=doe,poe=bI,goe=bE,voe=ja,moe=xE,yoe=wE,woe=O0;function xoe(e,t,n){t=poe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var l=woe(t[r]);if(!(a=e!=null&&n(e,l)))break;e=e[l]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&yoe(i)&&moe(l,i)&&(voe(e)||goe(e)))}var boe=xoe,Eoe=hoe,Soe=boe;function Coe(e,t){return e!=null&&Soe(e,t,Eoe)}var Toe=Coe,koe=ES,_oe=foe,Ooe=Toe,Loe=$S,Poe=EI,Aoe=SI,Noe=O0,Ioe=1,Roe=2;function Moe(e,t){return Loe(e)&&Poe(t)?Aoe(Noe(e),t):function(n){var r=_oe(n,e);return r===void 0&&r===t?Ooe(n,e):koe(t,r,Ioe|Roe)}}var Foe=Moe;function joe(e){return function(t){return t==null?void 0:t[e]}}var $oe=joe,Doe=BS;function Boe(e){return function(t){return Doe(t,e)}}var zoe=Boe,Hoe=$oe,Uoe=zoe,Woe=$S,Koe=O0;function Goe(e){return Woe(e)?Hoe(Koe(e)):Uoe(e)}var qoe=Goe,Xoe=loe,Voe=Foe,Yoe=Fy,Qoe=ja,Zoe=qoe;function Joe(e){return typeof e=="function"?e:e==null?Yoe:typeof e=="object"?Qoe(e)?Voe(e[0],e[1]):Xoe(e):Zoe(e)}var eae=Joe;function tae(e){return function(t,n,r){for(var i=-1,a=Object(t),l=r(t),c=l.length;c--;){var p=l[e?c:++i];if(n(a[p],p,a)===!1)break}return t}}var nae=tae,rae=nae,iae=rae(),oae=iae,aae=oae,sae=bS;function lae(e,t){return e&&aae(e,t,sae)}var uae=lae,cae=Kp;function fae(e,t){return function(n,r){if(n==null)return n;if(!cae(n))return e(n,r);for(var i=n.length,a=t?i:-1,l=Object(n);(t?a--:++a<i)&&r(l[a],a,l)!==!1;);return n}}var dae=fae,hae=uae,pae=dae,gae=pae(hae),vae=gae,mae=vae,yae=Kp;function wae(e,t){var n=-1,r=yae(e)?Array(e.length):[];return mae(e,function(i,a,l){r[++n]=t(i,a,l)}),r}var xae=wae;function bae(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Eae=bae,x_=Gy;function Sae(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=x_(e),l=t!==void 0,c=t===null,p=t===t,v=x_(t);if(!c&&!v&&!a&&e>t||a&&l&&p&&!c&&!v||r&&l&&p||!n&&p||!i)return 1;if(!r&&!a&&!v&&e<t||v&&n&&i&&!r&&!a||c&&n&&i||!l&&i||!p)return-1}return 0}var Cae=Sae,Tae=Cae;function kae(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,l=i.length,c=n.length;++r<l;){var p=Tae(i[r],a[r]);if(p){if(r>=c)return p;var v=n[r];return p*(v=="desc"?-1:1)}}return e.index-t.index}var _ae=kae,R1=FP,Oae=BS,Lae=eae,Pae=xae,Aae=Eae,Nae=dP,Iae=_ae,Rae=Fy,Mae=ja;function Fae(e,t,n){t.length?t=R1(t,function(a){return Mae(a)?function(l){return Oae(l,a.length===1?a[0]:a)}:a}):t=[Rae];var r=-1;t=R1(t,Nae(Lae));var i=Pae(e,function(a,l,c){var p=R1(t,function(v){return v(a)});return{criteria:p,index:++r,value:a}});return Aae(i,function(a,l){return Iae(a,l,n)})}var jae=Fae,$ae=mie,Dae=jae,Bae=lP,b_=uP,zae=Bae(function(e,t){if(e==null)return[];var n=t.length;return n>1&&b_(e,t[0],t[1])?t=[]:n>2&&b_(t[0],t[1],t[2])&&(t=[t[0]]),Dae(e,$ae(t,1),[])}),Hae=zae;const E_=Sn(Hae),Uae=1e3*60*60*24*14;function Wae(){const{prefs:e}=Yt();return{shouldShowDonationPrompt:O.useCallback(()=>e.donateShown?!1:Date.now()>e.firstRunTime+Uae,[e.donateShown,e.firstRunTime])}}const Kae=e=>{var m;const{watch:t}=e,[n,r]=O.useState(),[i,a]=O.useState(!1),[l,c]=O.useState(),{t:p}=qe(),v=dc()||!((m=navigator.storage)!=null&&m.estimate);return O.useEffect(()=>{async function x(){a(!0);const{quota:S,usage:C}=await navigator.storage.estimate();S!==void 0&&C!==void 0&&c(((1-C/S)*100).toFixed(0)),r(t),a(!1)}!v&&!i&&n!==t&&x()},[v,n,t,i]),v?null:b.jsx("span",{className:"storage-quota",children:l&&p("components.storageQuota.freeSpace",{percent:l})})},Gae=()=>{const{stories:e}=dn(),{t}=qe();return b.jsx(tt,{icon:b.jsx(t4,{}),label:t("routes.storyList.toolbar.archive"),onClick:()=>WN(bA(e,uo()),rq())})},qae=()=>{const{dispatch:e}=yi(),{t}=qe();return b.jsx(tt,{icon:b.jsx(WL,{}),label:t("common.import"),onClick:()=>e({type:"addDialog",component:wee})})},Xae=()=>{const{dispatch:e}=yi(),{t}=qe();return b.jsx(tt,{icon:b.jsx(VL,{}),label:t("routes.storyList.toolbar.storyTags"),onClick:()=>{e({type:"addDialog",component:Oee})}})},Vae=()=>b.jsxs(An,{children:[b.jsx(Xae,{}),b.jsx(qae,{}),b.jsx(Gae,{})]}),Yae=()=>{const{dispatch:e,stories:t}=dn(),[n,r]=O.useState(dp(id().name,t.map(v=>v.name))),i=dd(),{prefs:a}=Yt(),{t:l}=qe();function c(v){return v.trim()===""?{valid:!1,message:l("routes.storyList.toolbar.createStoryButton.emptyName")}:t.some(m=>m.name.toLowerCase()===v.toLowerCase())?{valid:!1,message:l("routes.storyList.toolbar.createStoryButton.nameConflict")}:{valid:!0}}function p(){const v=I8(t,a,{name:n})(e,()=>t);i.push("/stories/".concat(v))}return b.jsx(Zp,{icon:b.jsx(Xf,{}),label:l("common.new"),submitLabel:l("common.create"),submitVariant:"create",onChange:v=>r(v.target.value),onSubmit:p,prompt:l("routes.storyList.toolbar.createStoryButton.prompt"),validate:c,value:n})};const Qae=e=>{const{cancelIcon:t,cancelLabel:n,confirmIcon:r,confirmLabel:i,confirmVariant:a,onConfirm:l,prompt:c,...p}=e,[v,m]=O.useState(!1),{t:x}=qe();function S(){m(!1),l()}return b.jsx("span",{className:"confirm-button",children:b.jsx(qu,{ariaLabel:c,focusSelector:"button:nth-child(2)",onChangeOpen:m,open:v,...p,children:b.jsxs("div",{children:[b.jsx(_r,{children:c}),b.jsxs(An,{children:[b.jsx(tt,{icon:r!=null?r:b.jsx(vE,{}),label:i!=null?i:x("common.ok"),onClick:S,variant:a!=null?a:"primary"}),b.jsx(tt,{icon:t!=null?t:b.jsx(No,{}),label:n!=null?n:x("common.cancel"),onClick:()=>m(!1)})]})]})})})},Zae=({story:e})=>{const[t,n]=O.useState(e==null?void 0:e.name),{dispatch:r}=dn(),{t:i}=qe();return O.useEffect(()=>{e!=null&&e.name&&n(e.name)},[e==null?void 0:e.name]),b.jsx(Qae,{confirmIcon:b.jsx(Zm,{}),confirmLabel:i("common.delete"),confirmVariant:"danger",disabled:!e,icon:b.jsx(Zm,{}),label:i("common.delete"),onConfirm:e?()=>r(M8(e)):()=>{},prompt:i("routes.storyList.toolbar.deleteStoryButton.warning.".concat(dc()?"electron":"web"),{storyName:t})})},Jae=({story:e})=>{const{dispatch:t,stories:n}=dn(),{t:r}=qe();function i(){if(!e)throw new Error("No story set");t(F8(e,n))}return b.jsx(tt,{disabled:!e,icon:b.jsx(S3,{}),label:r("common.duplicate"),onClick:i})},ese=({story:e})=>{const t=dd(),{t:n}=qe();return b.jsx(tt,{disabled:!e,icon:b.jsx(UL,{}),label:n("common.edit"),onClick:()=>t.push("/stories/".concat(e==null?void 0:e.id))})},tse=e=>{var c;const{story:t}=e,{dispatch:n,prefs:r}=Yt(),{dispatch:i,stories:a}=dn();function l(p,v){if(!t)throw new Error("Story is unset");i(Zr(a,t,{tags:t.tags?[...t.tags,p]:[p]})),v&&n(pr("storyTagColors",{...r.storyTagColors,[p]:v}))}return b.jsx(SN,{assignedTags:(c=t==null?void 0:t.tags)!=null?c:[],disabled:!t,existingTags:LE(a),icon:b.jsx(XL,{}),onAdd:l})},nse=e=>{const{selectedStory:t}=e,{dispatch:n,stories:r}=dn();return b.jsxs(An,{children:[b.jsx(Yae,{}),b.jsx(ese,{story:t}),b.jsx(tse,{story:t}),b.jsx(mI,{existingStories:r,onRename:i=>n(Zr(r,t,{name:i})),story:t}),b.jsx(Jae,{story:t}),b.jsx(Zae,{story:t})]})},rse=()=>{const{t:e}=qe(),{dispatch:t,prefs:n}=Yt();return b.jsx(Qp,{icon:b.jsx(o3,{}),items:[{checkable:!0,checked:n.storyListSort==="date",label:e("routes.storyList.toolbar.sortByDate"),onClick:()=>t(pr("storyListSort","date"))},{checkable:!0,checked:n.storyListSort==="name",label:e("routes.storyList.toolbar.sortByName"),onClick:()=>t(pr("storyListSort","name"))}],label:e("routes.storyList.toolbar.sort")})},ise=e=>{const{dispatch:t,prefs:n}=Yt(),{t:r}=qe();return b.jsx(Qp,{disabled:e.tags.length===0,icon:b.jsx(XL,{}),items:[{checkable:!0,checked:n.storyListTagFilter.length===0,label:r("routes.storyList.toolbar.showAllStories"),onClick:()=>t({type:"update",name:"storyListTagFilter",value:[]})},{separator:!0},...e.tags.map(i=>({checkable:!0,checked:n.storyListTagFilter.includes(i),label:i,onClick:()=>t({type:"update",name:"storyListTagFilter",value:n.storyListTagFilter.includes(i)?n.storyListTagFilter.filter(a=>a!==i):[...n.storyListTagFilter,i]})}))],label:r("routes.storyList.toolbar.showTags")})},ose=()=>{const{stories:e}=dn();return b.jsxs(An,{children:[b.jsx(rse,{}),b.jsx(ise,{tags:LE(e)})]})},ase=e=>{const{selectedStories:t}=e,{stories:n}=dn(),{t:r}=qe(),i=t.length===1?t[0]:void 0;return b.jsx(PS,{pinnedControls:b.jsx(Kae,{watch:n}),tabs:{[r("common.story")]:b.jsx(nse,{selectedStory:i}),[r("routes.storyList.library")]:b.jsx(Vae,{}),[r("common.build")]:b.jsx(KN,{story:i}),[r("common.view")]:b.jsx(ose,{}),[r("common.appName")]:b.jsx(AS,{})}})};function sse(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n);return t%360}const CI=O.memo(e=>{const{story:t}=e,n=[sse(t.name)];n.push((n[0]+15)%360),n.push((n[0]-15)%360),n.push((n[0]+30)%360),n.push((n[0]-30)%360),n.push((n[0]+60)%360);let r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;const p=t.passages.map(m=>({key:m.name,x:m.left+m.width/2,y:m.top+m.height/2,radius:Math.max(m.width,m.height)})).reduce((m,x,S)=>{const C=x.radius+200;return r=Math.min(r,x.x-C),i=Math.min(i,x.y-C),a=Math.max(a,x.x+C),l=Math.max(l,x.y+C),m[0].push(b.jsx("circle",{cx:x.x,cy:x.y,r:C,style:{fill:"hsl(".concat(n[S%n.length],", 80%, 80%)")}},"".concat(x.key,"-bg"))),m[1].push(b.jsx("circle",{cx:x.x,cy:x.y,r:x.radius,style:{fill:"hsl(".concat(n[S%n.length],", 80%, 60%)")}},"".concat(x.key,"-fg"))),m},[[],[]]).map((m,x)=>b.jsx("g",{className:"story-preview-".concat(x===0?"bg":"fg"),children:m},x)),v="".concat(r," ").concat(i," ").concat(a-r," ").concat(l-i);return b.jsx("svg",{className:"story-preview",viewBox:v,xmlns:"http://www.w3.org/2000/svg",children:p})});CI.displayName="StoryPreview";const lse=new Intl.DateTimeFormat([]),use=e=>{const{onChangeTagColor:t,onEdit:n,onRemoveTag:r,onSelect:i,story:a,storyTagColors:l,...c}=e,{t:p}=qe();return b.jsx("div",{className:"story-card",children:b.jsx(nS,{...c,label:a.name,onDoubleClick:n,onSelect:i,selected:a.selected,children:b.jsxs(_r,{children:[b.jsxs("div",{className:"story-card-summary",children:[b.jsx("div",{className:"story-card-summary-preview",children:b.jsx(CI,{story:a})}),b.jsxs("div",{className:"story-card-summary-text",children:[b.jsx("h2",{children:a.name}),b.jsxs("p",{children:[p("components.storyCard.lastUpdated",{date:lse.format(a.lastUpdate)}),b.jsx("br",{}),p("components.storyCard.passageCount",{count:a.passages.length})]})]})]}),a.tags&&b.jsx("div",{className:"tags",children:a.tags.map(v=>b.jsx(CN,{color:l[v],name:v,onChangeColor:m=>t(v,m),onRemove:()=>r(v)},v))})]})})})},cse="360px",fse=e=>{const{onSelectStory:t,stories:n}=e,{dispatch:r,prefs:i}=Yt(),{dispatch:a}=Gi(),l=dd();function c(v,m){r(pr("storyTagColors",{...i.storyTagColors,[v]:m}))}function p(v,m){a(Zr(n,v,{tags:v.tags.filter(x=>x!==m)}))}return b.jsx(b.Fragment,{children:b.jsx(XA,{columnWidth:cse,children:b.jsx(hd,{component:null,children:n.map(v=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(use,{onChangeTagColor:c,onEdit:()=>l.push("/stories/".concat(v.id)),onRemoveTag:m=>p(v,m),onSelect:()=>t(v),story:v,storyTagColors:i.storyTagColors})},v.id))})})})},dse=()=>{const{dispatch:e}=yi(),{dispatch:t,stories:n}=dn(),{prefs:r}=Yt(),{shouldShowDonationPrompt:i}=Wae(),{t:a}=qe(),l=O.useMemo(()=>n.filter(p=>p.selected),[n]),c=O.useMemo(()=>{const p=r.storyListTagFilter.length>0?n.filter(v=>v.tags.some(m=>r.storyListTagFilter.includes(m))):n;switch(r.storyListSort){case"date":return E_(p,"lastUpdated");case"name":return E_(p,"name")}},[r.storyListSort,r.storyListTagFilter,n]);return O.useEffect(()=>{for(const p of l)p.selected&&!c.includes(p)&&t(J5(p))},[l,n,t,c]),O.useEffect(()=>{i()&&e({type:"addDialog",component:kY})},[e,i]),b.jsxs("div",{className:"story-list-route",children:[b.jsx(ase,{selectedStories:l}),b.jsx(qA,{ignoreSelector:".story-card",onClickAway:()=>t(e7()),children:b.jsxs(tS,{title:a(r.storyListTagFilter.length>0?"routes.storyList.taggedTitleCount":"routes.storyList.titleCount",{count:c.length}),children:[b.jsx(Y4,{}),b.jsx("div",{className:"stories",children:n.length===0?b.jsx("p",{children:a("routes.storyList.noStories")}):b.jsx(fse,{onSelectStory:p=>t(t7(p,!0)),stories:c})})]})})]})},S_=()=>b.jsx(hN,{children:b.jsx(CS,{children:b.jsx(dse,{})})});function zS(e){delete window.CodeMirror,delete window.SVG,delete window.Store,delete window.StoryFormat,delete window.amdDefine,delete window.app,delete window.jQuery,document.open(),document.write(e),document.close()}const hse=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{storyId:i}=h0(),{publishStory:a}=Jp();return O.useEffect(()=>{async function l(){try{zS(await a(i))}catch(c){t(c)}}n||(r(!0),l())},[n,a,i]),e?b.jsx(Hl,{children:e.message}):null},pse=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{storyId:i}=h0(),{proofStory:a}=Jp();return O.useEffect(()=>{async function l(){try{zS(await a(i))}catch(c){t(c)}}n||(r(!0),l())},[n,a,i]),e?b.jsx(Hl,{children:e.message}):null},C_=()=>{const[e,t]=O.useState(),[n,r]=O.useState(!1),{passageId:i,storyId:a}=h0(),{publishStory:l}=Jp();return O.useEffect(()=>{async function c(){try{zS(await l(a,{formatOptions:"debug",startId:i}))}catch(p){t(p)}}n||(r(!0),c())},[n,i,l,a]),e?b.jsx(Hl,{children:e.message}):null};var gse=new Error("Element already at target scroll position"),vse=new Error("Scroll cancelled"),mse=Math.min,T_=Date.now,yse={left:k_("scrollLeft"),top:k_("scrollTop")};function k_(e){return function(n,r,i,a){i=i||{},typeof i=="function"&&(a=i,i={}),typeof a!="function"&&(a=xse);var l=T_(),c=n[e],p=i.ease||wse,v=isNaN(i.duration)?350:+i.duration,m=!1;return c===r?a(gse,n[e]):requestAnimationFrame(S),x;function x(){m=!0}function S(C){if(m)return a(vse,n[e]);var I=T_(),$=mse(1,(I-l)/v),N=p($);n[e]=N*(r-c)+c,$<1?requestAnimationFrame(S):requestAnimationFrame(function(){a(null,n[e])})}}}function wse(e){return .5*(1-Math.cos(Math.PI*e))}function xse(){}const bse=Sn(yse);const Ese=e=>{const{children:t,image:n,nextLabel:r,onNext:i,onSkip:a,showSkip:l,title:c,...p}=e,{t:v}=qe();return b.jsx("div",{className:"welcome-card",children:b.jsxs(Ul,{...p,children:[b.jsx("div",{className:"welcome-card-image",children:n}),b.jsxs(_r,{children:[b.jsx("h2",{children:c}),t]}),b.jsxs(An,{children:[b.jsx(tt,{icon:b.jsx(JD,{}),variant:"primary",onClick:i,label:r}),l&&b.jsx(tt,{icon:b.jsx(XD,{}),label:v("common.skip"),onClick:a})]})]})})},Sse=()=>[{html:"routes.welcome.greeting",image:b.jsx(Z4,{}),nextLabel:"routes.welcome.tellMeMore",title:"routes.welcome.greetingTitle"},{html:"routes.welcome.help",image:b.jsx(GL,{}),title:"routes.welcome.helpTitle"},dc()?{html:"routes.welcome.autosave",image:b.jsx(OT,{}),title:"routes.welcome.autosaveTitle"}:{html:"routes.welcome.browserStorage",image:b.jsx(OT,{}),title:"routes.welcome.browserStorageTitle"},{html:"routes.welcome.done",image:b.jsx(J3,{}),nextLabel:"routes.welcome.gotoStoryList",title:"routes.welcome.doneTitle"}];const __=()=>{const e=O.useRef(null),{dispatch:t}=Yt(),n=dd(),[r,i]=O.useState(1),a=O.useMemo(Sse,[]),l=O.useMemo(()=>a.slice(0,r),[a,r]),{t:c}=qe();O.useEffect(()=>{var m;if(e.current){const x=e.current.querySelector(".welcome-card:last-of-type");x&&bse.top((m=document.documentElement)!=null?m:document.body,x.offsetTop,{duration:400})}},[r]);const p=()=>{t(pr("welcomeSeen",!0)),n.push("/")},v=()=>i(m=>m+1);return b.jsxs("div",{className:"welcome-route",ref:e,children:[b.jsx(gy,{children:b.jsx("title",{children:c("routes.welcome.greetingTitle")})}),b.jsx("div",{className:"cards",children:b.jsx(hd,{component:null,children:l.map((m,x)=>b.jsx($a,{classNames:"pop",timeout:200,children:b.jsx(Ese,{image:m.image,nextLabel:m.nextLabel?c(m.nextLabel):c("common.next"),onNext:x===a.length-1?p:v,onSkip:p,showSkip:x===0,title:c(m.title),children:b.jsx("div",{dangerouslySetInnerHTML:{__html:c(m.html)}})})},m.title))})})]})},Cse=()=>{const{prefs:e}=Yt();return b.jsx(mX,{children:e.welcomeSeen?b.jsxs(aX,{children:[b.jsx(vs,{exact:!0,path:"/",children:b.jsx(S_,{})}),b.jsx(vs,{path:"/story-formats",children:b.jsx(ate,{})}),b.jsx(vs,{path:"/welcome",children:b.jsx(__,{})}),b.jsx(vs,{path:"/stories/:storyId/play",children:b.jsx(hse,{})}),b.jsx(vs,{path:"/stories/:storyId/proof",children:b.jsx(pse,{})}),b.jsx(vs,{path:"/stories/:storyId/test/:passageId",children:b.jsx(C_,{})}),b.jsx(vs,{path:"/stories/:storyId/test",children:b.jsx(C_,{})}),b.jsx(vs,{path:"/stories/:storyId",children:b.jsx(cie,{})}),b.jsx(vs,{path:"*",render:t=>(console.warn('No route for path "'.concat(t.location.pathname,'", rendering story list')),b.jsx(S_,{}))})]}):b.jsx(__,{})})},Tse=({children:e})=>{const[t,n]=O.useState(!1),[r,i]=O.useState(!1),[a,l]=O.useState(!1),[c,p]=O.useState(!1),[v,m]=O.useState(!1),{dispatch:x,prefs:S}=Yt(),{dispatch:C}=dn(),{dispatch:I,formats:$}=Wi(),N=jN(),{prefs:L,stories:M,storyFormats:B}=e0();return O.useEffect(()=>{async function j(){if(!t){const U=await B.load(),X=await L.load(),V=await M.load();I({type:"init",state:U}),x({type:"init",state:X}),C({type:"init",state:V}),i(!0)}}j(),n(!0)},[I,r,t,L,x,M,C,B]),O.useEffect(()=>{r&&!c&&(I({type:"repair"}),p(!0))},[I,c,r]),O.useEffect(()=>{r&&c&&!a&&(x({type:"repair",allFormats:$}),l(!0))},[c,$,r,x,a]),O.useEffect(()=>{r&&c&&a&&!v&&(N(),m(!0))},[I,c,$,r,x,a,S.storyFormat.name,S.storyFormat.version,N,M,C,v]),r&&c&&a&&v?b.jsx(b.Fragment,{children:e}):b.jsx(nP,{})};function kse(){const e=ON();return O.useEffect(()=>{document.body.dataset.appTheme=e},[e]),null}(function(e,t){(function(n,r){r()})(Pn,function(){function n(i){var a=!0,l=!1,c=null,p={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function v(U){return!!(U&&U!==document&&U.nodeName!=="HTML"&&U.nodeName!=="BODY"&&"classList"in U&&"contains"in U.classList)}function m(U){var X=U.type,V=U.tagName;return!!(V==="INPUT"&&p[X]&&!U.readOnly||V==="TEXTAREA"&&!U.readOnly||U.isContentEditable)}function x(U){U.classList.contains("focus-visible")||(U.classList.add("focus-visible"),U.setAttribute("data-focus-visible-added",""))}function S(U){U.hasAttribute("data-focus-visible-added")&&(U.classList.remove("focus-visible"),U.removeAttribute("data-focus-visible-added"))}function C(U){U.metaKey||U.altKey||U.ctrlKey||(v(i.activeElement)&&x(i.activeElement),a=!0)}function I(U){a=!1}function $(U){v(U.target)&&(a||m(U.target))&&x(U.target)}function N(U){v(U.target)&&(U.target.classList.contains("focus-visible")||U.target.hasAttribute("data-focus-visible-added"))&&(l=!0,window.clearTimeout(c),c=window.setTimeout(function(){l=!1},100),S(U.target))}function L(U){document.visibilityState==="hidden"&&(l&&(a=!0),M())}function M(){document.addEventListener("mousemove",j),document.addEventListener("mousedown",j),document.addEventListener("mouseup",j),document.addEventListener("pointermove",j),document.addEventListener("pointerdown",j),document.addEventListener("pointerup",j),document.addEventListener("touchmove",j),document.addEventListener("touchstart",j),document.addEventListener("touchend",j)}function B(){document.removeEventListener("mousemove",j),document.removeEventListener("mousedown",j),document.removeEventListener("mouseup",j),document.removeEventListener("pointermove",j),document.removeEventListener("pointerdown",j),document.removeEventListener("pointerup",j),document.removeEventListener("touchmove",j),document.removeEventListener("touchstart",j),document.removeEventListener("touchend",j)}function j(U){U.target.nodeName&&U.target.nodeName.toLowerCase()==="html"||(a=!1,B())}document.addEventListener("keydown",C,!0),document.addEventListener("mousedown",I,!0),document.addEventListener("pointerdown",I,!0),document.addEventListener("touchstart",I,!0),document.addEventListener("visibilitychange",L,!0),M(),i.addEventListener("focus",$,!0),i.addEventListener("blur",N,!0),i.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&i.host?i.host.setAttribute("data-js-focus-visible",""):i.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if(typeof window<"u"&&typeof document<"u"){window.applyFocusVisiblePolyfill=n;var r;try{r=new CustomEvent("focus-visible-polyfill-ready")}catch{r=document.createEvent("CustomEvent"),r.initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(r)}typeof document<"u"&&n(document)})})();const _se=()=>b.jsx(A4,{children:b.jsxs(xq,{children:[b.jsx(bq,{}),b.jsx(kse,{}),b.jsx(HG,{children:b.jsx(UG,{children:b.jsx(Tse,{children:b.jsx(O.Suspense,{fallback:b.jsx(nP,{}),children:b.jsx(Cse,{})})})})})]})});Bp.render(b.jsx(O.StrictMode,{children:b.jsx(_se,{})}),document.getElementById("root"));
